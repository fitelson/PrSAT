var Zi=Object.defineProperty;var Ii=(e,r,t)=>r in e?Zi(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var J=(e,r,t)=>Ii(e,typeof r!="symbol"?r+"":r,t);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const z=(e,r)=>{if(e==null)throw new Error(r??"doesn't exist!");return e},F=(e,r="")=>{if(!e)throw new Error(r)},Ke=e=>{const[r,t]=e;if(r)return t;throw new Error(t)},rt=(e,r)=>{throw new Error(`${e} fallthrough`)},Li=(e,r="Expected array!")=>{if(Array.isArray(e))return e;throw new Error(r)},Or=e=>e,Hs=async(e,r)=>new Promise(t=>{setTimeout(()=>{t(!1)},e)}),ls=e=>({data:e,next:void 0,prev:void 0});class Ws{constructor(r){J(this,"first");J(this,"last");J(this,"data_to_container",new Map);J(this,"internal_size");this.internal_size=r.length;const t=r.map(i=>ls(i));for(const i of t)this.register_data_container(i);if(t.length===0)return;this.first=t[0],this.last=t[t.length-1];const n=[];for(let i=0;i<t.length-1;i++){const o=i+1,m=t[i],h=t[o];m.next=h,h.prev=m,n.push([m,h])}{F(this.first===t[0]),F(this.last===t[t.length-1]),F(t[0].prev===void 0,"DLL initialization is incorrect!  First DLL element has a previous!"),F(t[t.length-1].next===void 0,"DLL initialization is incorrect!  Last DLL element has a next!");for(const[i,[o,m]]of n.entries())F(o.next===m,`DLL initialization is incorrect!  Element [left, right] pair at index ${i} fails left.next === right!`),F(o===m.prev,`DLL initialization is incorrect!  Element [left, right] pair at index ${i} fails left === right.prev!`);this.assert_invariants()}}size(){return this.internal_size}*[Symbol.iterator](){let r=this.first;for(;r!==void 0;)yield r.data,r=r.next}*entries(){let r=this.first,t=0;for(;r!==void 0;)yield[t,r.data],r=r.next,t++}*from(r){let t=r;for(;t!==void 0;)yield t,t=t.next}*forwards(){let r=this.first;for(;r!==void 0;)yield r,r=r.next}*backwards(){let r=this.last;for(;r!==void 0;)yield r,r=r.prev}contains(r){return this.data_to_container.has(r)}contains_element(r){for(const t of this.forwards())if(t===r)return!0;return!1}insert_after(r,t){this.assert_invariants(),F(r===void 0||this.contains_element(r),"list does not contain given element!");const n=ls(t);return r===void 0?(n.next=this.first,this.first!==void 0&&(this.first.prev=n),this.first=n,this.last===void 0&&(this.last=n)):(n.next=r.next,r.next!==void 0&&(r.next.prev=n),r.next=n,n.prev=r,r===this.last&&(this.last=n)),this.register_data_container(n),this.internal_size++,F(this.contains_element(n)),F(r===void 0||r.next===n,"element's next element is not to_insert!"),F(r===n.prev,"to_insert's prev element is not element!"),this.assert_invariants(),n}insert_before(r,t){F(r===void 0||this.contains_element(r));const n=r===void 0?this.insert_after(this.last,t):this.insert_after(r.prev,t);{F(this.contains(t));const i=z([...this.data_containers_set(t)][0]);F(r===void 0||r.prev===i,"element's prev element is not to_insert!"),F(r===i.next,"to_insert's next element is not element"),this.assert_invariants()}return n}register_data_container(r){const t=this.data_to_container.get(r.data);t===void 0?this.data_to_container.set(r.data,new Set([r])):(F(!t.has(r),"DLLElement already registered for its given data!"),t.add(r))}remove(r){const t={initial_order:[]};this.assert_invariants(),t.initial_order=[...this.forwards()],F(this.contains_element(r),"list does not contain given element!"),r.prev!==void 0&&(r.prev.next=r.next),r.next!==void 0&&(r.next.prev=r.prev),r===this.first&&(this.first=r.next),r===this.last&&(this.last=r.prev);const n=this.data_containers_set(r.data);n.delete(r),this.internal_size--,n.size===0&&this.data_to_container.delete(r.data);{const i=t.initial_order;F(!this.contains_element(r),"DLL still contains container despite removing element!");const o=[...this.forwards()],m=i.indexOf(r),h=i.filter((c,w)=>w!==m);F(o.length===i.length-1);for(let c=0;c<h.length;c++){const w=o[c],s=h[c];F(w===s,`expected[${c}] !== actual[${c}] in list!`)}this.assert_invariants()}}assert_invariants(){this.assert_no_forwards_loops(),this.assert_no_backwards_loops();const r=[...this.forwards()],t=[...this.backwards()];F(r.length===t.length,"forwards list of different length than backwards list!");for(let m=0;m<r.length;m++){const h=r[m],c=t[t.length-m-1];F(h===c,`forwards[${m}] and backwards[${t.length-m-1}] lists differ!`)}const n=new Set(this);for(const m of this.data_to_container.keys())F(n.has(m),"Registered data not in DLL!");for(const m of this)F(this.data_to_container.has(m),"Data in DLL not registered!");for(const m of this){const h=this.data_containers_set(m);for(const c of h)F(c.data===m,"Data's container doesn't contain its associated data!")}const i=[...this].length,o=this.size();F(o===i,`DLL length is incorrect for some reason!
expected: ${i}
actual: ${o}`)}first_data_container(r){return z([...this.data_containers_set(r)][0])}data_containers(r){return this.data_containers_set(r)[Symbol.iterator]()}data_containers_set(r){return z(this.data_to_container.get(r),"Data doesn't exist in DLL!")}assert_no_forwards_loops(){var n,i;let r=this.first,t=(n=this.first)==null?void 0:n.next;for(;r!==void 0&&t!==void 0;){if(r===t)throw new Error("List contains a loop forwards!");r=r.next,t=(i=t==null?void 0:t.next)==null?void 0:i.next}}assert_no_backwards_loops(){var n,i;let r=this.last,t=(n=this.last)==null?void 0:n.prev;for(;r!==void 0&&t!==void 0;){if(r===t)throw new Error("List contains a loop backwards!");r=r.prev,t=(i=t==null?void 0:t.prev)==null?void 0:i.prev}}}J(Ws,"check_invariants",!0);class xi{constructor(r){J(this,"watchers");this.watchers=new Set(r)}add(r){return this.watchers.add(r),r}unwatch(){for(const r of this.watchers)r.unwatch();this.watchers.clear()}}class cs{constructor(r){J(this,"watchers",new Set);this.value=r}get(){return this.value}async set(r){const t=this.value;this.value=r,await this.notify(r,t)}async notify(r,t){this.value=r;for(const[n,i]of this.watchers.entries())await i.call(t)}watch(r){const t={call:async n=>await r(this.get(),n),unwatch:()=>this.watchers.delete(t)};return this.watchers.add(t),t}cleanup(){this.watchers.clear()}}class dt{constructor(r){J(this,"watchers",new Set);this.value=r}get(){return this.value}set(r){const t=this.value;this.value=r,this.notify(r,t)}notify(r,t){this.value=r;for(const[n,i]of this.watchers.entries())i.call(t)}watch(r){const t={call:n=>r(this.get(),n),unwatch:()=>this.watchers.delete(t)};return this.watchers.add(t),t}cleanup(){this.watchers.clear()}}class Ni{constructor(r){J(this,"values");J(this,"insert_watchers",new Map);J(this,"remove_watchers",new Map);this.values=new Ws(r)}[Symbol.iterator](){return this.values[Symbol.iterator]()}*entries(){yield*this.values.entries()}set_all(r){for(const n of this)this.remove(n);let t;for(const n of r)this.insert_after(t,n),t=n}insert_after(r,t){const n=r===void 0?void 0:[...this.values.data_containers(r)];F(n===void 0||n.length===1,"EditableDLL lead_sibling appears 0 or ≥ 2 times in the list!");const i=n===void 0?void 0:n[0],o=this.values.insert_after(i,t);return this.notify_insert(t,r),o}notify_insert(r,t){for(const n of this.insert_watchers.keys())n(r,t)}at(r){return[...this.values][r]}get_previous(r){var n;const t=[...this.values.data_containers(r)];return F(t.length===1,"EditableDLL element appears 0 or ≥ 2 times in the list!"),(n=t[0].prev)==null?void 0:n.data}get_next(r){var n;const t=[...this.values.data_containers(r)];return F(t.length===1,"EditableDLL element appears 0 or ≥ 2 times in the list!"),(n=t[0].next)==null?void 0:n.data}watch_insert(r){const t={call:()=>{let n;for(const i of this.values)r(i,n),n=i},unwatch:()=>this.insert_watchers.delete(r)};return this.insert_watchers.set(r,t),t}remove(r){const t=[...this.values.data_containers(r)];F(t.length===1,"EditableDLL lead_sibling appears 0 or ≥ 2 times in the list!");const n=t[0];this.notify_remove(r),this.values.remove(n)}notify_remove(r){for(const t of this.remove_watchers.keys())t(r)}watch_remove(r){const t={call:()=>{for(const n of this.values)r(n)},unwatch:()=>this.insert_watchers.delete(r)};return this.remove_watchers.set(r,t),t}size(){return this.values.size()}cleanup(){this.insert_watchers.clear(),this.remove_watchers.clear()}}const k=(e,r,...t)=>{const n=qi(document.createElement(e),r);for(const i of t)i!==void 0&&(typeof i=="string"?n.append(i):n.appendChild(i));return n},ki="http://www.w3.org/1998/Math/MathML",A=(e,r,...t)=>{const n=Ci(document.createElementNS(ki,e),r);for(const i of t)i!==void 0&&(typeof i=="string"?n.append(i):n.appendChild(i));return n},Ci=(e,r)=>{for(const t in r)e.setAttribute(t,r[t]);return e},qi=(e,r)=>{for(const t in r)e.setAttribute(t,r[t]);return e},ct=(e,r,t,...n)=>k(r,{...t,"data-testid":e},...n);var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ui(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var t=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),t}var Er={exports:{}},Fi=Er.exports,fs;function Di(){return fs||(fs=1,function(e,r){(function(t,n){e.exports=n()})(typeof self<"u"?self:Fi,function(){return function(t){var n={};function i(o){if(n[o])return n[o].exports;var m=n[o]={i:o,l:!1,exports:{}};return t[o].call(m.exports,m,m.exports,i),m.l=!0,m.exports}return i.m=t,i.c=n,i.d=function(o,m,h){i.o(o,m)||Object.defineProperty(o,m,{configurable:!1,enumerable:!0,get:h})},i.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},i.n=function(o){var m=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(m,"a",m),m},i.o=function(o,m){return Object.prototype.hasOwnProperty.call(o,m)},i.p="",i(i.s=0)}([function(t,n,i){function o(p){if(!(this instanceof o))return new o(p);this._=p}var m=o.prototype;function h(p,v){for(var E=0;E<p;E++)v(E)}function c(p,v,E){return function(R,S){h(S.length,function(L){R(S[L],L,S)})}(function(R,S,L){v=p(v,R,S,L)},E),v}function w(p,v){return c(function(E,R,S,L){return E.concat([p(R,S,L)])},[],v)}function s(p,v){var E={v:0,buf:v};return h(p,function(){var R;E={v:E.v<<1|(R=E.buf,R[0]>>7),buf:function(S){var L=c(function(x,$,K,pt){return x.concat(K===pt.length-1?Buffer.from([$,0]).readUInt16BE(0):pt.readUInt16BE(K))},[],S);return Buffer.from(w(function(x){return(x<<1&65535)>>8},L))}(E.buf)}}),E}function Z(){return typeof Buffer<"u"}function q(){if(!Z())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function M(p){q();var v=c(function(L,x){return L+x},0,p);if(v%8!=0)throw new Error("The bits ["+p.join(", ")+"] add up to "+v+" which is not an even number of bytes; the total should be divisible by 8");var E,R=v/8,S=(E=function(L){return L>48},c(function(L,x){return L||(E(x)?x:L)},null,p));if(S)throw new Error(S+" bit range requested exceeds 48 bit (6 byte) Number max.");return new o(function(L,x){var $=R+x;return $>L.length?g(x,R.toString()+" bytes"):H($,c(function(K,pt){var Q=s(pt,K.buf);return{coll:K.coll.concat(Q.v),buf:Q.buf}},{coll:[],buf:L.slice(x,$)},p).coll)})}function C(p,v){return new o(function(E,R){return q(),R+v>E.length?g(R,v+" bytes for "+p):H(R+v,E.slice(R,R+v))})}function u(p,v){if(typeof(E=v)!="number"||Math.floor(E)!==E||v<0||v>6)throw new Error(p+" requires integer length in range [0, 6].");var E}function _(p){return u("uintBE",p),C("uintBE("+p+")",p).map(function(v){return v.readUIntBE(0,p)})}function f(p){return u("uintLE",p),C("uintLE("+p+")",p).map(function(v){return v.readUIntLE(0,p)})}function y(p){return u("intBE",p),C("intBE("+p+")",p).map(function(v){return v.readIntBE(0,p)})}function T(p){return u("intLE",p),C("intLE("+p+")",p).map(function(v){return v.readIntLE(0,p)})}function D(p){return p instanceof o}function j(p){return{}.toString.call(p)==="[object Array]"}function nt(p){return Z()&&Buffer.isBuffer(p)}function H(p,v){return{status:!0,index:p,value:v,furthest:-1,expected:[]}}function g(p,v){return j(v)||(v=[v]),{status:!1,index:-1,value:null,furthest:p,expected:v}}function I(p,v){if(!v||p.furthest>v.furthest)return p;var E=p.furthest===v.furthest?function(R,S){if(function(){if(o._supportsSet!==void 0)return o._supportsSet;var ht=typeof Set<"u";return o._supportsSet=ht,ht}()&&Array.from){for(var L=new Set(R),x=0;x<S.length;x++)L.add(S[x]);var $=Array.from(L);return $.sort(),$}for(var K={},pt=0;pt<R.length;pt++)K[R[pt]]=!0;for(var Q=0;Q<S.length;Q++)K[S[Q]]=!0;var _t=[];for(var tt in K)({}).hasOwnProperty.call(K,tt)&&_t.push(tt);return _t.sort(),_t}(p.expected,v.expected):v.expected;return{status:p.status,index:p.index,value:p.value,furthest:v.furthest,expected:E}}var Ct={};function zt(p,v){if(nt(p))return{offset:v,line:-1,column:-1};p in Ct||(Ct[p]={});for(var E=Ct[p],R=0,S=0,L=0,x=v;x>=0;){if(x in E){R=E[x].line,L===0&&(L=E[x].lineStart);break}(p.charAt(x)===`
`||p.charAt(x)==="\r"&&p.charAt(x+1)!==`
`)&&(S++,L===0&&(L=x+1)),x--}var $=R+S,K=v-L;return E[v]={line:$,lineStart:L},{offset:v,line:$+1,column:K+1}}function d(p){if(!D(p))throw new Error("not a parser: "+p)}function X(p,v){return typeof p=="string"?p.charAt(v):p[v]}function wt(p){if(typeof p!="number")throw new Error("not a number: "+p)}function Tt(p){if(typeof p!="function")throw new Error("not a function: "+p)}function qt(p){if(typeof p!="string")throw new Error("not a string: "+p)}var Zt=2,N=3,W=8,re=5*W,Qt=4*W,ge="  ";function It(p,v){return new Array(v+1).join(p)}function Lt(p,v,E){var R=v-p.length;return R<=0?p:It(E,R)+p}function jt(p,v,E,R){return{from:p-v>0?p-v:0,to:p+E>R?R:p+E}}function Mt(p,v){var E,R,S,L,x,$=v.index,K=$.offset,pt=1;if(K===p.length)return"Got the end of the input";if(nt(p)){var Q=K-K%W,_t=K-Q,tt=jt(Q,re,Qt+W,p.length),ht=w(function(ut){return w(function(Vt){return Lt(Vt.toString(16),2,"0")},ut)},function(ut,Vt){var ie=ut.length,Gt=[],_e=0;if(ie<=Vt)return[ut.slice()];for(var oe=0;oe<ie;oe++)Gt[_e]||Gt.push([]),Gt[_e].push(ut[oe]),(oe+1)%Vt==0&&_e++;return Gt}(p.slice(tt.from,tt.to).toJSON().data,W));L=function(ut){return ut.from===0&&ut.to===1?{from:ut.from,to:ut.to}:{from:ut.from/W,to:Math.floor(ut.to/W)}}(tt),R=Q/W,E=3*_t,_t>=4&&(E+=1),pt=2,S=w(function(ut){return ut.length<=4?ut.join(" "):ut.slice(0,4).join(" ")+"  "+ut.slice(4).join(" ")},ht),(x=(8*(L.to>0?L.to-1:L.to)).toString(16).length)<2&&(x=2)}else{var xt=p.split(/\r\n|[\n\r\u2028\u2029]/);E=$.column-1,R=$.line-1,L=jt(R,Zt,N,xt.length),S=xt.slice(L.from,L.to),x=L.to.toString().length}var or=R-L.from;return nt(p)&&(x=(8*(L.to>0?L.to-1:L.to)).toString(16).length)<2&&(x=2),c(function(ut,Vt,ie){var Gt,_e=ie===or,oe=_e?"> ":ge;return Gt=nt(p)?Lt((8*(L.from+ie)).toString(16),x,"0"):Lt((L.from+ie+1).toString(),x," "),[].concat(ut,[oe+Gt+" | "+Vt],_e?[ge+It(" ",x)+" | "+Lt("",E," ")+It("^",pt)]:[])},[],S).join(`
`)}function ne(p,v){return[`
`,"-- PARSING FAILED "+It("-",50),`

`,Mt(p,v),`

`,(E=v.expected,E.length===1?`Expected:

`+E[0]:`Expected one of the following: 

`+E.join(", ")),`
`].join("");var E}function bt(p){return p.flags!==void 0?p.flags:[p.global?"g":"",p.ignoreCase?"i":"",p.multiline?"m":"",p.unicode?"u":"",p.sticky?"y":""].join("")}function ot(){for(var p=[].slice.call(arguments),v=p.length,E=0;E<v;E+=1)d(p[E]);return o(function(R,S){for(var L,x=new Array(v),$=0;$<v;$+=1){if(!(L=I(p[$]._(R,S),L)).status)return L;x[$]=L.value,S=L.index}return I(H(S,x),L)})}function Y(){var p=[].slice.call(arguments);if(p.length===0)throw new Error("seqMap needs at least one argument");var v=p.pop();return Tt(v),ot.apply(null,p).map(function(E){return v.apply(null,E)})}function Et(){var p=[].slice.call(arguments),v=p.length;if(v===0)return Ae("zero alternates");for(var E=0;E<v;E+=1)d(p[E]);return o(function(R,S){for(var L,x=0;x<p.length;x+=1)if((L=I(p[x]._(R,S),L)).status)return L;return L})}function Ot(p,v){return se(p,v).or(Yt([]))}function se(p,v){return d(p),d(v),Y(p,v.then(p).many(),function(E,R){return[E].concat(R)})}function pe(p){qt(p);var v="'"+p+"'";return o(function(E,R){var S=R+p.length,L=E.slice(R,S);return L===p?H(S,L):g(R,v)})}function Ut(p,v){(function(S){if(!(S instanceof RegExp))throw new Error("not a regexp: "+S);for(var L=bt(S),x=0;x<L.length;x++){var $=L.charAt(x);if($!=="i"&&$!=="m"&&$!=="u"&&$!=="s")throw new Error('unsupported regexp flag "'+$+'": '+S)}})(p),arguments.length>=2?wt(v):v=0;var E=function(S){return RegExp("^(?:"+S.source+")",bt(S))}(p),R=""+p;return o(function(S,L){var x=E.exec(S.slice(L));if(x){if(0<=v&&v<=x.length){var $=x[0],K=x[v];return H(L+$.length,K)}return g(L,"valid match group (0 to "+x.length+") in "+R)}return g(L,R)})}function Yt(p){return o(function(v,E){return H(E,p)})}function Ae(p){return o(function(v,E){return g(E,p)})}function Te(p){if(D(p))return o(function(v,E){var R=p._(v,E);return R.index=E,R.value="",R});if(typeof p=="string")return Te(pe(p));if(p instanceof RegExp)return Te(Ut(p));throw new Error("not a string, regexp, or parser: "+p)}function rr(p){return d(p),o(function(v,E){var R=p._(v,E),S=v.slice(E,R.index);return R.status?g(E,'not "'+S+'"'):H(E,null)})}function Ze(p){return Tt(p),o(function(v,E){var R=X(v,E);return E<v.length&&p(R)?H(E+1,R):g(E,"a character/byte matching "+p)})}function nr(p,v){arguments.length<2&&(v=p,p=void 0);var E=o(function(R,S){return E._=v()._,E._(R,S)});return p?E.desc(p):E}function De(){return Ae("fantasy-land/empty")}m.parse=function(p){if(typeof p!="string"&&!nt(p))throw new Error(".parse must be called with a string or Buffer as its argument");var v,E=this.skip($e)._(p,0);return v=E.status?{status:!0,value:E.value}:{status:!1,index:zt(p,E.furthest),expected:E.expected},delete Ct[p],v},m.tryParse=function(p){var v=this.parse(p);if(v.status)return v.value;var E=ne(p,v),R=new Error(E);throw R.type="ParsimmonError",R.result=v,R},m.assert=function(p,v){return this.chain(function(E){return p(E)?Yt(E):Ae(v)})},m.or=function(p){return Et(this,p)},m.trim=function(p){return this.wrap(p,p)},m.wrap=function(p,v){return Y(p,this,v,function(E,R){return R})},m.thru=function(p){return p(this)},m.then=function(p){return d(p),ot(this,p).map(function(v){return v[1]})},m.many=function(){var p=this;return o(function(v,E){for(var R=[],S=void 0;;){if(!(S=I(p._(v,E),S)).status)return I(H(E,R),S);if(E===S.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");E=S.index,R.push(S.value)}})},m.tieWith=function(p){return qt(p),this.map(function(v){if(function(S){if(!j(S))throw new Error("not an array: "+S)}(v),v.length){qt(v[0]);for(var E=v[0],R=1;R<v.length;R++)qt(v[R]),E+=p+v[R];return E}return""})},m.tie=function(){return this.tieWith("")},m.times=function(p,v){var E=this;return arguments.length<2&&(v=p),wt(p),wt(v),o(function(R,S){for(var L=[],x=void 0,$=void 0,K=0;K<p;K+=1){if($=I(x=E._(R,S),$),!x.status)return $;S=x.index,L.push(x.value)}for(;K<v&&($=I(x=E._(R,S),$),x.status);K+=1)S=x.index,L.push(x.value);return I(H(S,L),$)})},m.result=function(p){return this.map(function(){return p})},m.atMost=function(p){return this.times(0,p)},m.atLeast=function(p){return Y(this.times(p),this.many(),function(v,E){return v.concat(E)})},m.map=function(p){Tt(p);var v=this;return o(function(E,R){var S=v._(E,R);return S.status?I(H(S.index,p(S.value)),S):S})},m.contramap=function(p){Tt(p);var v=this;return o(function(E,R){var S=v.parse(p(E.slice(R)));return S.status?H(R+E.length,S.value):S})},m.promap=function(p,v){return Tt(p),Tt(v),this.contramap(p).map(v)},m.skip=function(p){return ot(this,p).map(function(v){return v[0]})},m.mark=function(){return Y(Ft,this,Ft,function(p,v,E){return{start:p,value:v,end:E}})},m.node=function(p){return Y(Ft,this,Ft,function(v,E,R){return{name:p,value:E,start:v,end:R}})},m.sepBy=function(p){return Ot(this,p)},m.sepBy1=function(p){return se(this,p)},m.lookahead=function(p){return this.skip(Te(p))},m.notFollowedBy=function(p){return this.skip(rr(p))},m.desc=function(p){j(p)||(p=[p]);var v=this;return o(function(E,R){var S=v._(E,R);return S.status||(S.expected=p),S})},m.fallback=function(p){return this.or(Yt(p))},m.ap=function(p){return Y(p,this,function(v,E){return v(E)})},m.chain=function(p){var v=this;return o(function(E,R){var S=v._(E,R);return S.status?I(p(S.value)._(E,S.index),S):S})},m.concat=m.or,m.empty=De,m.of=Yt,m["fantasy-land/ap"]=m.ap,m["fantasy-land/chain"]=m.chain,m["fantasy-land/concat"]=m.concat,m["fantasy-land/empty"]=m.empty,m["fantasy-land/of"]=m.of,m["fantasy-land/map"]=m.map;var Ft=o(function(p,v){return H(v,zt(p,v))}),qr=o(function(p,v){return v>=p.length?g(v,"any character/byte"):H(v+1,X(p,v))}),Be=o(function(p,v){return H(p.length,p.slice(v))}),$e=o(function(p,v){return v<p.length?g(v,"EOF"):H(v,null)}),ae=Ut(/[0-9]/).desc("a digit"),ze=Ut(/[0-9]*/).desc("optional digits"),Mr=Ut(/[a-z]/i).desc("a letter"),je=Ut(/[a-z]*/i).desc("optional letters"),Ie=Ut(/\s*/).desc("optional whitespace"),Ur=Ut(/\s+/).desc("whitespace"),sr=pe("\r"),ar=pe(`
`),ir=pe(`\r
`),_r=Et(ir,ar,sr).desc("newline"),Xt=Et(_r,$e);o.all=Be,o.alt=Et,o.any=qr,o.cr=sr,o.createLanguage=function(p){var v={};for(var E in p)({}).hasOwnProperty.call(p,E)&&function(R){v[R]=nr(function(){return p[R](v)})}(E);return v},o.crlf=ir,o.custom=function(p){return o(p(H,g))},o.digit=ae,o.digits=ze,o.empty=De,o.end=Xt,o.eof=$e,o.fail=Ae,o.formatError=ne,o.index=Ft,o.isParser=D,o.lazy=nr,o.letter=Mr,o.letters=je,o.lf=ar,o.lookahead=Te,o.makeFailure=g,o.makeSuccess=H,o.newline=_r,o.noneOf=function(p){return Ze(function(v){return p.indexOf(v)<0}).desc("none of '"+p+"'")},o.notFollowedBy=rr,o.of=Yt,o.oneOf=function(p){for(var v=p.split(""),E=0;E<v.length;E++)v[E]="'"+v[E]+"'";return Ze(function(R){return p.indexOf(R)>=0}).desc(v)},o.optWhitespace=Ie,o.Parser=o,o.range=function(p,v){return Ze(function(E){return p<=E&&E<=v}).desc(p+"-"+v)},o.regex=Ut,o.regexp=Ut,o.sepBy=Ot,o.sepBy1=se,o.seq=ot,o.seqMap=Y,o.seqObj=function(){for(var p,v={},E=0,R=(p=arguments,Array.prototype.slice.call(p)),S=R.length,L=0;L<S;L+=1){var x=R[L];if(!D(x)){if(j(x)&&x.length===2&&typeof x[0]=="string"&&D(x[1])){var $=x[0];if(Object.prototype.hasOwnProperty.call(v,$))throw new Error("seqObj: duplicate key "+$);v[$]=!0,E++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(E===0)throw new Error("seqObj expects at least one named parser, found zero");return o(function(K,pt){for(var Q,_t={},tt=0;tt<S;tt+=1){var ht,xt;if(j(R[tt])?(ht=R[tt][0],xt=R[tt][1]):(ht=null,xt=R[tt]),!(Q=I(xt._(K,pt),Q)).status)return Q;ht&&(_t[ht]=Q.value),pt=Q.index}return I(H(pt,_t),Q)})},o.string=pe,o.succeed=Yt,o.takeWhile=function(p){return Tt(p),o(function(v,E){for(var R=E;R<v.length&&p(X(v,R));)R++;return H(R,v.slice(E,R))})},o.test=Ze,o.whitespace=Ur,o["fantasy-land/empty"]=De,o["fantasy-land/of"]=Yt,o.Binary={bitSeq:M,bitSeqObj:function(p){q();var v={},E=0,R=w(function(L){if(j(L)){var x=L;if(x.length!==2)throw new Error("["+x.join(", ")+"] should be length 2, got length "+x.length);if(qt(x[0]),wt(x[1]),Object.prototype.hasOwnProperty.call(v,x[0]))throw new Error("duplicate key in bitSeqObj: "+x[0]);return v[x[0]]=!0,E++,x}return wt(L),[null,L]},p);if(E<1)throw new Error("bitSeqObj expects at least one named pair, got ["+p.join(", ")+"]");var S=w(function(L){return L[0]},R);return M(w(function(L){return L[1]},R)).map(function(L){return c(function(x,$){return $[0]!==null&&(x[$[0]]=$[1]),x},{},w(function(x,$){return[x,L[$]]},S))})},byte:function(p){if(q(),wt(p),p>255)throw new Error("Value specified to byte constructor ("+p+"=0x"+p.toString(16)+") is larger in value than a single byte.");var v=(p>15?"0x":"0x0")+p.toString(16);return o(function(E,R){var S=X(E,R);return S===p?H(R+1,S):g(R,v)})},buffer:function(p){return C("buffer",p).map(function(v){return Buffer.from(v)})},encodedString:function(p,v){return C("string",v).map(function(E){return E.toString(p)})},uintBE:_,uint8BE:_(1),uint16BE:_(2),uint32BE:_(4),uintLE:f,uint8LE:f(1),uint16LE:f(2),uint32LE:f(4),intBE:y,int8BE:y(1),int16BE:y(2),int32BE:y(4),intLE:T,int8LE:T(1),int16LE:T(2),int32LE:T(4),floatBE:C("floatBE",4).map(function(p){return p.readFloatBE(0)}),floatLE:C("floatLE",4).map(function(p){return p.readFloatLE(0)}),doubleBE:C("doubleBE",8).map(function(p){return p.readDoubleBE(0)}),doubleLE:C("doubleLE",8).map(function(p){return p.readDoubleLE(0)})},t.exports=o}])})}(Er)),Er.exports}var Bi=Di();const P=Mi(Bi);let wn=P.optWhitespace;function ee(e){let t=Object.keys(e).sort().map(n=>P.string(e[n]).trim(wn).result(n));return P.alt.apply(null,t)}function Ys(e,r){let t=P.lazy(()=>P.seq(e,t).or(r));return t}function $i(e,r){return P.seqMap(r,e.many(),(t,n)=>n.reduce((i,o)=>[o,i],t))}function Xs(e,r){let t=P.lazy(()=>r.chain(n=>P.seq(e,P.of(n),t).or(P.of(n))));return t}function Pr(e,r){return P.seqMap(r,P.seq(e,r).many(),(t,n)=>n.reduce((i,o)=>{let[m,h]=o;return[m,i,h]},t))}let zi=P.regexp(/[0-9]+/).map(e=>["Number",+e]).desc("number"),ji=P.lazy(()=>P.string("(").then(Hi).skip(P.string(")")).or(zi)),Vi=[{type:Ys,ops:ee({Negate:"-"})},{type:$i,ops:ee({Factorial:"!"})},{type:Xs,ops:ee({Exponentiate:"^"})},{type:Pr,ops:ee({Multiply:"*",Divide:"/"})},{type:Pr,ops:ee({Add:"+",Subtract:"-"})}],Gi=Vi.reduce((e,r)=>r.type(r.ops,e),ji),Hi=Gi.trim(wn);const Wi=(e,r)=>r.reduce((t,n)=>n.type(n.ops,t),e).trim(wn),En=(e,r=!0)=>{if(typeof e=="string")return r?`'${e}'`:`${e}`;if(typeof e=="number")return e.toString();if(typeof e=="boolean")return e?"true":"false";if(Array.isArray(e))return`(${e.map(t=>En(t,r)).join(" ")})`;throw new Error("s_to_string fallthrough")},Se=e=>({tag:"s-pattern-var",id:e}),Qi=(e,r,t)=>{const n=(o,m,h)=>{if(typeof m=="string"&&typeof o=="string"&&m===o)return h;if(typeof m=="boolean"&&typeof o=="boolean"&&m===o)return h;if(typeof m=="number"&&typeof o=="number"&&m===o)return h;if(Array.isArray(m)&&Array.isArray(o)){if(m.length>o.length)return;let c=h;for(let w=0;w<m.length;w++){const s=m[w],Z=o[w],q=n(Z,s,h);if(q===void 0)return;c=q}return c}else if(typeof m=="object"&&"tag"in m){if(m.tag==="s-pattern-var"){const c=r[m.id];return c==="string"&&typeof o=="string"||c==="boolean"&&typeof o=="boolean"||c==="number"&&typeof o=="number"||c==="list"&&Array.isArray(o)||c==="s"?(h[m.id]=o,h):void 0}else if(m.tag!=="s-pattern-list-var")throw new Error("attempt_match pattern object fallthrough")}else return},i=n(e,t,{});if(i!==void 0){for(const o of Object.keys(r))if(!(o in i))throw new Error(`'${o}' found in map of possible variables but not in expr!`)}return i},On=(e,r)=>{for(const[t,n,i]of r){const o=Qi(e,t,n);if(o!==void 0)return i(m=>z(o[m],`id '${m}' not associated with an S!`))}throw new Error("match_s fallthrough!")},ft=(e,r,t)=>[e,r,t],Ks=e=>[{s:"s"},Se("s"),e],Ir=e=>`${e.id}${e.index>0?e.index:""}`,Js={val:e=>({tag:"value",value:e}),letter:(e,r)=>({tag:"letter",id:e,index:r??0}),not:e=>({tag:"negation",sentence:e}),and:(e,r)=>({tag:"conjunction",left:e,right:r}),or:(e,r)=>({tag:"disjunction",left:e,right:r}),imp:(e,r)=>({tag:"conditional",left:e,right:r}),iff:(e,r)=>({tag:"biconditional",left:e,right:r})},{val:Yi,not:Xi,and:Ki}=Js,ta={lit:e=>(F(e>=0,`RealExpr literal initialized with a negative value '${e}'!`),{tag:"literal",value:e}),vbl:e=>({tag:"variable",id:e}),svs:e=>({tag:"state_variable_sum",indices:e}),pr:e=>({tag:"probability",arg:e}),cpr:(e,r)=>({tag:"given_probability",arg:e,given:r}),neg:e=>({tag:"negative",expr:e}),plus:(e,r)=>({tag:"plus",left:e,right:r}),minus:(e,r)=>({tag:"minus",left:e,right:r}),multiply:(e,r)=>({tag:"multiply",left:e,right:r}),divide:(e,r)=>({tag:"divide",numerator:e,denominator:r}),power:(e,r)=>({tag:"power",base:e,exponent:r})},{svs:fe,lit:$t,minus:Rr,plus:ms,pr:Ji}=ta,ea={eq:(e,r)=>({tag:"equal",left:e,right:r}),neq:(e,r)=>({tag:"not_equal",left:e,right:r}),lt:(e,r)=>({tag:"less_than",left:e,right:r}),lte:(e,r)=>({tag:"less_than_or_equal",left:e,right:r}),gt:(e,r)=>({tag:"greater_than",left:e,right:r}),gte:(e,r)=>({tag:"greater_than_or_equal",left:e,right:r}),cnot:e=>({tag:"negation",constraint:e})},{gt:t_,gte:e_,eq:pn,cnot:gs,lte:r_,lt:n_}=ea,ps=e=>(e>>>0).toString(2),s_=(e,r)=>{const t=e.id.localeCompare(r.id);return t===0?e.index-r.index:t};class Re{constructor(r=[]){J(this,"underlying_map",new Map);J(this,"all_letters",[]);for(const t of r)this.add(t)}[Symbol.iterator](){return this.all_letters[Symbol.iterator]()}has(r){const t=this.underlying_map.get(r.id);return(t==null?void 0:t.has(r.index))??!1}add(r){const t=this.underlying_map.get(r.id);return t===void 0?(this.underlying_map.set(r.id,new Set([r.index])),this.all_letters.push(r),!0):t.has(r.index)?!1:(t.add(r.index),this.all_letters.push(r),!0)}is_empty(){return this.underlying_map.size<=0}diff(r){const t=this.all_letters.filter(n=>!r.has(n));return new Re(t)}}class Pn{constructor(r){J(this,"letter_ids");J(this,"state_table");this.variables=r,this.letter_ids=[...new Re(r.sentence)].sort(s_),this.state_table=Pn.enumerate_states(this.letter_ids)}static enumerate_states(r){const t=Math.pow(2,r.length),n=[];if(r.length===0)return n.push(new Re),n;for(let i=0;i<t;i++){const o=ps(i).padStart(r.length,"0");F(o.length===r.length,"Binary string length different than number of letters in TruthTable!");const m=new Re;for(let h=0;h<o.length;h++){const c=z(o[o.length-h-1]),w=z(r[o.length-h-1]);c==="0"&&m.add(w)}n.push(m)}return n}letter_value_from_index(r,t){return F(0<=t&&t<this.state_table.length,"State index out of bounds!"),this.state_table[t].has(r)}letters(){return this.letter_ids}n_letters(){return this.letter_ids.length}n_states(){return this.state_table.length}compute_dnf(r){const t=[];for(const[n,i]of this.state_table.entries())ra(m=>i.has(m),r)&&t.push(n);return t}evaluate_state(r,t){F(t>=0),F(t<this.state_table.length);const n=this.state_table[t];for(const i of this.letter_ids)if(r(i)!==n.has(i))return!1;return!0}evaluate_dnf(r,t){for(const n of t)if(F(n>=0,"Evaluating state < 0!"),F(n<this.state_table.length,"Evaluating state >= number of states!"),this.evaluate_state(r,n))return!0;return!1}state_indices(){return{[Symbol.iterator]:()=>{let r=0;return{next:()=>r>=this.state_table.length?{done:!0,value:-1}:{done:!1,value:r++}}}}}state_from_index(r){F(Number.isInteger(r)),F(r>=0);const t=this.letter_ids,n=Math.pow(2,t.length);if(F(r<n),t.length===0)return Yi(!0);{const i=ps(r).padStart(t.length,"0");F(i.length===t.length);let o;for(let m=0;m<i.length;m++){const h=z(i[i.length-m-1]),c=z(t[i.length-m-1]),w=z(h==="0"?c:h==="1"?Xi(c):void 0,`current bit is neither 0 nor 1!
actual: ${h}`);o=o===void 0?w:Ki(w,o)}return z(o)}}}const ra=(e,r)=>{const t=n=>ra(e,n);if(r.tag==="value")return r.value;if(r.tag==="letter")return e(r);if(r.tag==="negation")return!t(r.sentence);if(r.tag==="conjunction"){const n=t(r.left),i=t(r.right);return n&&i}else if(r.tag==="disjunction"){const n=t(r.left),i=t(r.right);return n||i}else if(r.tag==="conditional"){const n=t(r.left),i=t(r.right);return!n||i}else if(r.tag==="biconditional"){const n=t(r.left),i=t(r.right);return n===i}else throw new Error("evaluate_sentence fallthrough")},a_=(e,r,t)=>{const n=[...e.state_indices()].filter(c=>c!==r),i=t?t_:e_,o=n.map(c=>i(fe([c]),$t(0))),h=(r===void 0?pn:t?n_:r_)(fe(n),$t(1));return o.push(h),o},Wt=(e,r={real:[],sentence:[]})=>{if(e.tag==="equal"){const t=mt(e.left,r);return mt(e.right,t)}else if(e.tag==="not_equal"){const t=mt(e.left,r);return mt(e.right,t)}else if(e.tag==="less_than"){const t=mt(e.left,r);return mt(e.right,t)}else if(e.tag==="less_than_or_equal"){const t=mt(e.left,r);return mt(e.right,t)}else if(e.tag==="greater_than"){const t=mt(e.left,r);return mt(e.right,t)}else if(e.tag==="greater_than_or_equal"){const t=mt(e.left,r);return mt(e.right,t)}else{if(e.tag==="negation")return Wt(e.constraint,r);if(e.tag==="conjunction"){const t=Wt(e.left,r);return Wt(e.right,t)}else if(e.tag==="disjunction"){const t=Wt(e.left,r);return Wt(e.right,t)}else if(e.tag==="conditional"){const t=Wt(e.left,r);return Wt(e.right,t)}else if(e.tag==="biconditional"){const t=Wt(e.left,r);return Wt(e.right,t)}else throw new Error("letters_in_constraint fallthrough")}},mt=(e,r)=>{if(e.tag==="literal"||e.tag==="variable"||e.tag==="state_variable_sum")return r;if(e.tag==="probability")return{real:r.real,sentence:Ue(e.arg,r.sentence)};if(e.tag==="given_probability"){const t=Ue(e.arg,r.sentence);return{real:r.real,sentence:Ue(e.given,t)}}else{if(e.tag==="power")return mt(e.base,r);if(e.tag==="negative")return mt(e.expr,r);if(e.tag==="divide"){const t=mt(e.numerator,r);return mt(e.denominator,t)}else{const t=mt(e.left,r);return mt(e.right,t)}}},Ue=(e,r=[])=>{if(e.tag==="value")return r;if(e.tag==="letter")return r.push(e),r;if(e.tag==="negation")return Ue(e.sentence,r);{const t=Ue(e.left,r);return Ue(e.right,t)}},i_=e=>{const r={real:[],sentence:[]};for(const t of e)Wt(t,r);return r.real=[...new Set(r.real)],r.sentence=[...new Set(r.sentence)],r},__=(e,r)=>{const t=[];for(const n of r){const i=kt(e,n);t.push(i)}return t},At={negation:["~","-","!"],disjunction:["∨","\\/","v"],conjunction:["&","/\\"],conditional:["→","->",">"],biconditional:["↔","<>","<->"],equal:["="],not_equal:["≠","!="],less_than:["<"],less_than_or_equal:["≤","<="],greater_than:[">"],greater_than_or_equal:["≥",">="]},na=(e,r,t)=>{const n=i=>{const o=na(i,r,t);return i.tag==="negation"?o:`(${o})`};if(e.tag==="negation")return`${r.negation()}${n(e.constraint)}`;if(e.tag==="conjunction")return`${n(e.left)} ${r.conjunction()} ${n(e.right)}`;if(e.tag==="disjunction")return`${n(e.left)} ${r.disjunction()} ${n(e.right)}`;if(e.tag==="conditional")return`${n(e.left)} ${r.conditional()} ${n(e.right)}`;if(e.tag==="biconditional")return`${n(e.left)} ${r.biconditional()} ${n(e.right)}`;{const i=r[e.tag]();return`${t(e.left)} ${i} ${t(e.right)}`}},o_=e=>na(e,{negation:()=>z(At.negation[0]),disjunction:()=>z(At.disjunction[0]),conjunction:()=>z(At.conjunction[0]),conditional:()=>z(At.conditional[0]),biconditional:()=>z(At.biconditional[0]),equal:()=>z(At.equal[0]),not_equal:()=>z(At.not_equal[0]),less_than:()=>z(At.less_than[0]),less_than_or_equal:()=>z(At.less_than_or_equal[0]),greater_than:()=>z(At.greater_than[0]),greater_than_or_equal:()=>z(At.greater_than_or_equal[0])},aa),sa=(e,r)=>{const t=i=>sa(i,r),n=i=>{const o=t(i);return i.tag==="literal"||i.tag==="variable"||i.tag==="probability"||i.tag==="given_probability"||i.tag==="negative"||i.tag==="state_variable_sum"&&i.indices.length<=1?o:`(${o})`};if(e.tag==="literal")return e.value.toString();if(e.tag==="variable")return e.id;if(e.tag==="probability")return`Pr(${r(e.arg)})`;if(e.tag==="given_probability")return`Pr(${r(e.arg)} | ${r(e.given)})`;if(e.tag==="power"){const i=o=>o.tag==="negative"?`(${aa(o)})`:n(o);return`${i(e.base)}^${i(e.exponent)}`}else{if(e.tag==="negative")return`-${n(e.expr)}`;if(e.tag==="state_variable_sum")return e.indices.length===0?"0":e.indices.length===1?`a_${e.indices[0]+1}`:e.indices.map(i=>`a_${i+1}`).join(" + ");if(e.tag==="divide")return`${n(e.numerator)} / ${n(e.denominator)}`;{const i=e.tag==="plus"?"+":e.tag==="minus"?"-":e.tag==="multiply"?"*":"??";return`${n(e.left)} ${i} ${n(e.right)}`}}},aa=e=>sa(e,u_),ia=(e,r)=>{const t=n=>{const i=ia(n,r);return n.tag==="value"||n.tag==="letter"||n.tag==="negation"?i:`(${i})`};if(e.tag==="value")return e.value?"⊤":"⊥";if(e.tag==="letter")return`${e.id}${e.index>0?e.index:""}`;if(e.tag==="negation")return`${r.negation()}${t(e.sentence)}`;{const n=r[e.tag]();return`${t(e.left)} ${n} ${t(e.right)}`}},Oe={value:[""],letter:[""],negation:["~","-","!"],disjunction:["∨","\\/","v"],conjunction:["&","/\\"],conditional:["→","->",">"],biconditional:["↔","<->","<>"]},u_=e=>ia(e,{value:()=>{throw new Error("Value sentence shouldn't have a connective!")},letter:()=>{throw new Error("Letter sentence shouldn't have a connective!")},negation:()=>z(Oe.negation[0]),disjunction:()=>z(Oe.disjunction[0]),conjunction:()=>z(Oe.conjunction[0]),conditional:()=>z(Oe.conditional[0]),biconditional:()=>z(Oe.biconditional[0])}),l_=e=>e.tag==="constraint"?Bt(e.constraint):e.tag==="real_expr"?it(e.real_expr):rt("div0_conditions_in_constraint_or_real_expr"),Bt=e=>{if(e.tag==="equal")return[...it(e.left),...it(e.right)];if(e.tag==="not_equal")return[...it(e.left),...it(e.right)];if(e.tag==="less_than")return[...it(e.left),...it(e.right)];if(e.tag==="less_than_or_equal")return[...it(e.left),...it(e.right)];if(e.tag==="greater_than")return[...it(e.left),...it(e.right)];if(e.tag==="greater_than_or_equal")return[...it(e.left),...it(e.right)];if(e.tag==="negation")return Bt(e.constraint);if(e.tag==="conjunction")return[...Bt(e.left),...Bt(e.right)];if(e.tag==="disjunction")return[...Bt(e.left),...Bt(e.right)];if(e.tag==="conditional")return[...Bt(e.left),...Bt(e.right)];if(e.tag==="biconditional")return[...Bt(e.left),...Bt(e.right)];throw new Error("div0_condition_in_single_constraint fallthrough")},it=e=>{if(e.tag==="literal")return[];if(e.tag==="variable")return[];if(e.tag==="probability")return[];if(e.tag==="given_probability")return[gs(pn(Ji(e.given),$t(0)))];if(e.tag==="state_variable_sum")return[];if(e.tag==="negative")return it(e.expr);if(e.tag==="power")return it(e.base);if(e.tag==="plus")return[...it(e.left),...it(e.right)];if(e.tag==="minus")return[...it(e.left),...it(e.right)];if(e.tag==="multiply")return[...it(e.left),...it(e.right)];if(e.tag==="divide")return[...e.denominator.tag!=="literal"||e.denominator.value===0?[gs(pn(e.denominator,$t(0)))]:[],...it(e.numerator),...it(e.denominator)];throw new Error("div0_condition_in_real_expr fallthrough")},c_=e=>{const r=[];for(const t of e){const n=Bt(t);r.push(...n)}return r},f_=(e,r)=>{const t=new Set(e.indices),n=new Set(r.indices);F(t.size===e.indices.length,"Some index in svs1 appears more than once!"),F(n.size===r.indices.length,"Some index in svs2 appears more than once!");const i=e.indices.filter(m=>!n.has(m)),o=r.indices.filter(m=>!t.has(m));return i.length===0&&o.length===0?$t(1):o.length===0?ms($t(1),fe(i)):i?Rr($t(1),fe(o)):ms($t(1),Rr(fe(i),fe(o)))},m_=(e,r,t)=>{const n=t.indices.filter(m=>m!==e);return n.length!==t.indices.length?f_(fe(n),r):t},Rn=(e,r,t)=>{const n=i=>Rn(e,r,i);if(t.tag==="divide")return{tag:"divide",numerator:n(t.numerator),denominator:n(t.denominator)};if(t.tag==="given_probability")return t;if(t.tag==="literal")return t;if(t.tag==="minus")return{tag:"minus",left:n(t.left),right:n(t.right)};if(t.tag==="multiply")return{tag:"multiply",left:n(t.left),right:n(t.right)};if(t.tag==="negative")return{tag:"negative",expr:n(t.expr)};if(t.tag==="plus")return{tag:"plus",left:n(t.left),right:n(t.right)};if(t.tag==="power")return{tag:"power",base:n(t.base),exponent:n(t.exponent)};if(t.tag==="probability")return t;if(t.tag==="state_variable_sum")return m_(e,r,t);if(t.tag==="variable")return t;throw new Error("eliminate_state_variable_index_in_real_expr fallthrough")},Sn=(e,r,t)=>{const n=o=>Sn(e,r,o),i=o=>Rn(e,r,o);return t.tag==="biconditional"?{tag:"biconditional",left:n(t.left),right:n(t.right)}:t.tag==="conditional"?{tag:"conditional",left:n(t.left),right:n(t.right)}:t.tag==="conjunction"?{tag:"conjunction",left:n(t.left),right:n(t.right)}:t.tag==="disjunction"?{tag:"disjunction",left:n(t.left),right:n(t.right)}:t.tag==="equal"?{tag:"equal",left:i(t.left),right:i(t.right)}:t.tag==="greater_than"?{tag:"greater_than",left:i(t.left),right:i(t.right)}:t.tag==="greater_than_or_equal"?{tag:"greater_than_or_equal",left:i(t.left),right:i(t.right)}:t.tag==="less_than"?{tag:"less_than",left:i(t.left),right:i(t.right)}:t.tag==="less_than_or_equal"?{tag:"less_than_or_equal",left:i(t.left),right:i(t.right)}:t.tag==="negation"?{tag:"negation",constraint:n(t.constraint)}:t.tag==="not_equal"?{tag:"not_equal",left:i(t.left),right:i(t.right)}:rt("eliminate_state_variable_index_in_constraint fallthrough")},_a=(e,r)=>fe(Array(e).fill(0).map((t,n)=>n).filter(t=>t!==r)),g_=(e,r,t)=>{const n=_a(e,r),i=t.map(h=>Sn(r,n,h)),o=Rr($t(1),n),m=[...i];return[o,m]},hs=(e,r,t)=>{const n=_a(e,r),i=Rr($t(1),n);return t.tag==="constraint"?[i,{tag:"constraint",constraint:Sn(r,n,t.constraint)}]:t.tag==="real_expr"?[i,{tag:"real_expr",real_expr:Rn(r,n,t.real_expr)}]:rt("eliminate_state_variable_index_in_constraint_or_real_expr")},p_=(e,r,t,n)=>[...a_(e,r,t),...c_(n),...n],h_=(e,r,t)=>{const n=[];n.push(["set-logic","QF_NRA"]);for(const i of e.variables.real.entries()){const o=["declare-const",i,"Real"];n.push(o)}for(const i of e.state_indices()){if(i===r)continue;const o=["declare-const",Je(i),"Real"];n.push(o)}for(const i of t){const m=["assert",Me(i)];n.push(m)}return n},b_=P.createLanguage({s:e=>P.alt(e.list,e.atom),atom:()=>P.regexp(/[^\s()]+/),list:e=>P.alt(P.seq(P.string("("),P.optWhitespace,P.string(")")).map(()=>[]),P.seq(P.string("("),P.optWhitespace,P.sepBy(e.s,e.white),P.optWhitespace,P.string(")")).map(([r,t,n,i,o])=>n)),white:()=>P.whitespace}),d_=e=>b_.s.tryParse(e),v_=(e,r,t)=>h_(e,r,t),y_=(e,r)=>r.tag==="constraint"?{tag:"constraint",constraint:kt(e,r.constraint)}:r.tag==="real_expr"?{tag:"real_expr",real_expr:st(e,r.real_expr)}:rt("translate_constraint_or_real_expr"),kt=(e,r)=>{if(r.tag==="equal"){const t=st(e,r.left),n=st(e,r.right);return{tag:"equal",left:t,right:n}}else if(r.tag==="not_equal"){const t=st(e,r.left),n=st(e,r.right);return{tag:"not_equal",left:t,right:n}}else if(r.tag==="less_than"){const t=st(e,r.left),n=st(e,r.right);return{tag:"less_than",left:t,right:n}}else if(r.tag==="less_than_or_equal"){const t=st(e,r.left),n=st(e,r.right);return{tag:"less_than_or_equal",left:t,right:n}}else if(r.tag==="greater_than"){const t=st(e,r.left),n=st(e,r.right);return{tag:"greater_than",left:t,right:n}}else if(r.tag==="greater_than_or_equal"){const t=st(e,r.left),n=st(e,r.right);return{tag:"greater_than_or_equal",left:t,right:n}}else{if(r.tag==="negation")return{tag:"negation",constraint:kt(e,r.constraint)};if(r.tag==="conjunction"){const t=kt(e,r.left),n=kt(e,r.right);return{tag:"conjunction",left:t,right:n}}else if(r.tag==="disjunction"){const t=kt(e,r.left),n=kt(e,r.right);return{tag:"disjunction",left:t,right:n}}else if(r.tag==="conditional"){const t=kt(e,r.left),n=kt(e,r.right);return{tag:"conditional",left:t,right:n}}else if(r.tag==="biconditional"){const t=kt(e,r.left),n=kt(e,r.right);return{tag:"biconditional",left:t,right:n}}else throw new Error("translate_constraint fallthrough")}},cn=(e,r)=>r.length===e.n_states()?$t(1):{tag:"state_variable_sum",indices:r},st=(e,r)=>{if(r.tag==="literal")return r;if(r.tag==="variable")return r;if(r.tag==="negative")return{tag:"negative",expr:st(e,r.expr)};if(r.tag==="probability"){const t=e.compute_dnf(r.arg);return cn(e,t)}else if(r.tag==="given_probability"){const t=e.compute_dnf({tag:"conjunction",left:r.arg,right:r.given}),n=e.compute_dnf(r.given);return{tag:"divide",numerator:cn(e,t),denominator:cn(e,n)}}else if(r.tag==="plus"){const t=st(e,r.left),n=st(e,r.right);return{tag:"plus",left:t,right:n}}else if(r.tag==="minus"){const t=st(e,r.left),n=st(e,r.right);return{tag:"minus",left:t,right:n}}else if(r.tag==="multiply"){const t=st(e,r.left),n=st(e,r.right);return{tag:"multiply",left:t,right:n}}else if(r.tag==="divide"){const t=st(e,r.numerator),n=st(e,r.denominator);return{tag:"divide",numerator:t,denominator:n}}else if(r.tag==="power"){const t=st(e,r.base),n=st(e,r.exponent);return{tag:"power",base:t,exponent:n}}else{if(r.tag==="state_variable_sum")return r;throw new Error(`translate_real_expr fallthrough: ${JSON.stringify(r)}`)}},Pe=(e,r,t=[])=>{if(r.tag===e){const n=Pe(e,r.left,t);return Pe(e,r.right,n)}else return t.push(Me(r)),t},Me=e=>{if(e.tag==="negation")return["not",Me(e.constraint)];if(e.tag==="conjunction")return["and",...Pe(e.tag,e.left),...Pe(e.tag,e.right)];if(e.tag==="disjunction")return["or",...Pe(e.tag,e.left),...Pe(e.tag,e.right)];if(e.tag==="conditional")return["=>",Me(e.left),...Pe(e.tag,e.right)];if(e.tag==="biconditional")return["=",Me(e.left),Me(e.right)];if(e.tag==="equal")return["=",gt(e.left),gt(e.right)];if(e.tag==="not_equal")return["not",["=",gt(e.left),gt(e.right)]];if(e.tag==="less_than")return["<",gt(e.left),gt(e.right)];if(e.tag==="less_than_or_equal")return["<=",gt(e.left),gt(e.right)];if(e.tag==="greater_than")return[">",gt(e.left),gt(e.right)];if(e.tag==="greater_than_or_equal")return[">=",gt(e.left),gt(e.right)];throw new Error("constraint_to_smtlib fallthrough")},Je=e=>`a_${e+1}`,gt=e=>{const r=(t,n,i=[])=>{if(n.tag===t)if(n.tag==="divide"){const o=r(t,n.numerator,i);return r(t,n.denominator,o)}else{const o=r(t,n.left,i);return r(t,n.right,o)}else return i.push(gt(n)),i};if(e.tag==="literal")return e.value.toString();if(e.tag==="variable")return e.id;if(e.tag==="negative")return["-",gt(e.expr)];if(e.tag==="probability"||e.tag==="given_probability")throw new Error("Unable to convert a probability or a given_probability to an SMTLIB S-expression!  Did you forget to call translate_*?");if(e.tag==="power")return["^",gt(e.base),gt(e.exponent)];if(e.tag==="state_variable_sum")return e.indices.length===0?"0":e.indices.length===1?Je(e.indices[0]):["+",...e.indices.map(t=>Je(t))];if(e.tag==="plus")return["+",...r(e.tag,e.left),...r(e.tag,e.right)];if(e.tag==="minus")return["-",...r(e.tag,e.left),gt(e.right)];if(e.tag==="multiply")return["*",...r(e.tag,e.left),...r(e.tag,e.right)];if(e.tag==="divide")return["/",...r(e.tag,e.numerator),gt(e.denominator)];throw new Error("real_expr_to_smtlib fallthrough")},An=(e,r)=>{const t=n=>An(n,r);if(e.tag==="divide")t(e.numerator),t(e.denominator);else if(e.tag!=="given_probability"){if(e.tag!=="literal"){if(e.tag==="minus")t(e.left),t(e.right);else if(e.tag==="multiply")t(e.left),t(e.right);else if(e.tag==="negative")t(e.expr);else if(e.tag==="plus")t(e.left),t(e.right);else if(e.tag==="power")t(e.base),t(e.exponent);else if(e.tag!=="probability"){if(e.tag!=="state_variable_sum")if(e.tag==="variable")r.add(e.id);else return rt("free_real_variables_in_real_expr")}}}return r},oa=(e,r)=>{const t=i=>oa(i,r),n=i=>An(i,r);if(e.tag==="biconditional")t(e.left),t(e.right);else if(e.tag==="conditional")t(e.left),t(e.right);else if(e.tag==="conjunction")t(e.left),t(e.right);else if(e.tag==="disjunction")t(e.left),t(e.right);else if(e.tag==="equal")n(e.left),n(e.right);else if(e.tag==="greater_than")n(e.left),n(e.right);else if(e.tag==="greater_than_or_equal")n(e.left),n(e.right);else if(e.tag==="less_than")n(e.left),n(e.right);else if(e.tag==="less_than_or_equal")n(e.left),n(e.right);else if(e.tag==="negation")t(e.constraint);else if(e.tag==="not_equal")n(e.left),n(e.right);else return rt("free_real_variables_in_constraint");return r},w_=(e,r)=>e.tag==="constraint"?oa(e.constraint,r):e.tag==="real_expr"?An(e.real_expr,r):rt("free_variables_in_constraint_or_real_expr"),E_=(e,r,t)=>e.tag==="constraint"?O_(e.constraint,r,t):e.tag==="real_expr"?St(e.real_expr,r,t):rt("free_variables_in_constraint_or_real_expr"),fn=(e,r,t)=>{const n=i=>{if(i.tag==="biconditional")n(i.left),n(i.right);else if(i.tag==="conditional")n(i.left),n(i.right);else if(i.tag==="conjunction")n(i.left),n(i.right);else if(i.tag==="disjunction")n(i.left),n(i.right);else if(i.tag==="letter")t.has(i)||r.add(i);else if(i.tag==="negation")n(i.sentence);else if(i.tag!=="value")return rt("free_sentence_variables")};return n(e),r},St=(e,r,t)=>{const n=i=>{if(i.tag==="divide")n(i.numerator),n(i.denominator);else if(i.tag==="given_probability")fn(i.arg,r,t),fn(i.given,r,t);else if(i.tag!=="literal"){if(i.tag==="minus")n(i.left),n(i.right);else if(i.tag==="multiply")n(i.left),n(i.right);else if(i.tag==="negative")n(i.expr);else if(i.tag==="plus")n(i.left),n(i.right);else if(i.tag==="power")n(i.base),n(i.exponent);else if(i.tag==="probability")fn(i.arg,r,t);else if(i.tag!=="state_variable_sum"){if(i.tag!=="variable")return rt("free_sentence_variables_in_real_expr")}}};return n(e),r},O_=(e,r,t)=>{const n=i=>{if(i.tag==="biconditional")n(i.left),n(i.right);else if(i.tag==="conditional")n(i.left),n(i.right);else if(i.tag==="conjunction")n(i.left),n(i.right);else if(i.tag==="disjunction")n(i.left),n(i.right);else if(i.tag==="equal")St(i.left,r,t),St(i.right,r,t);else if(i.tag==="greater_than")St(i.left,r,t),St(i.right,r,t);else if(i.tag==="greater_than_or_equal")St(i.left,r,t),St(i.right,r,t);else if(i.tag==="less_than")St(i.left,r,t),St(i.right,r,t);else if(i.tag==="less_than_or_equal")St(i.left,r,t),St(i.right,r,t);else if(i.tag==="negation")n(i.constraint);else if(i.tag==="not_equal")St(i.left,r,t),St(i.right,r,t);else return rt("free_sentence_variables_in_constraint")};return n(e),r},{val:bs,letter:P_,not:R_,and:ds,or:vs,imp:ys,iff:ws}=Js,{lit:S_,neg:A_,power:T_,multiply:Z_,divide:I_,plus:L_,minus:x_,pr:N_,cpr:k_,vbl:C_}=ta,{eq:q_,neq:M_,lt:U_,lte:F_,gt:D_,gte:B_,cnot:$_}=ea,Nt=e=>{const r=Se("a"),t=Se("b");return On(e,[ft({a:"number"},r,n=>S_(n("a"))),ft({a:"s"},["Negate",r],n=>A_(Nt(n("a")))),ft({a:"s",b:"s"},["Exponentiate",r,t],n=>{const i=Nt(n("b"));return T_(Nt(n("a")),i)}),ft({a:"s",b:"s"},["Multiply",r,t],n=>Z_(Nt(n("a")),Nt(n("b")))),ft({a:"s",b:"s"},["Divide",r,t],n=>I_(Nt(n("a")),Nt(n("b")))),ft({a:"s",b:"s"},["Add",r,t],n=>L_(Nt(n("a")),Nt(n("b")))),ft({a:"s",b:"s"},["Subtract",r,t],n=>x_(Nt(n("a")),Nt(n("b")))),Ks(n=>n("s"))])},Dt=e=>{const r=At[e];return r.length===1?P.string(r[0]):P.alt(...r.map(t=>P.string(t)))},Qe=e=>{const r=Oe[e];return r.length===1?P.string(r[0]):P.alt(...r.map(t=>P.string(t)))},tr=P.createLanguage({Constraint:e=>P.alt(e.CAnd,e.COr,e.CImp,e.CIff,e.ConstraintFactor),ConstraintFactor:e=>P.alt(e.Equal,e.NotEqual,e.LessThan,e.GreaterThan,e.LessThanOrEqual,e.GreaterThanOrEqual,e.CNot,P.string("(").then(e.Constraint).skip(P.string(")"))),Equal:e=>P.seq(e.RealExpr.skip(P.optWhitespace).skip(Dt("equal")).skip(P.optWhitespace),e.RealExpr).map(([r,t])=>q_(r,t)),NotEqual:e=>P.seq(e.RealExpr.skip(P.optWhitespace).skip(Dt("not_equal")).skip(P.optWhitespace),e.RealExpr).map(([r,t])=>M_(r,t)),LessThan:e=>P.seq(e.RealExpr.skip(P.optWhitespace).skip(Dt("less_than")).skip(P.optWhitespace),e.RealExpr).map(([r,t])=>U_(r,t)),GreaterThan:e=>P.seq(e.RealExpr.skip(P.optWhitespace).skip(Dt("greater_than")).skip(P.optWhitespace),e.RealExpr).map(([r,t])=>D_(r,t)),LessThanOrEqual:e=>P.seq(e.RealExpr.skip(P.optWhitespace).skip(Dt("less_than_or_equal")).skip(P.optWhitespace),e.RealExpr).map(([r,t])=>F_(r,t)),GreaterThanOrEqual:e=>P.seq(e.RealExpr.skip(P.optWhitespace).skip(Dt("greater_than_or_equal")).skip(P.optWhitespace),e.RealExpr).map(([r,t])=>B_(r,t)),CNot:e=>Dt("negation").then(e.ConstraintFactor).map(r=>$_(r)),CAnd:e=>e.ConstraintFactor.sepBy(P.optWhitespace.skip(Dt("conjunction")).skip(P.optWhitespace)).assert(r=>r.length>=2,"And expects at least 2 operands!").map(r=>r.reduceRight((t,n)=>ds(n,t))),COr:e=>e.ConstraintFactor.sepBy(P.optWhitespace.skip(Dt("disjunction")).skip(P.optWhitespace)).assert(r=>r.length>=2,"Or expects at least 2 operands!").map(r=>r.reduceRight((t,n)=>vs(n,t))),CImp:e=>e.ConstraintFactor.sepBy(P.optWhitespace.skip(Dt("conditional")).skip(P.optWhitespace)).assert(r=>r.length>=2,"Imp expects at least 2 operands!").map(r=>r.reduceRight((t,n)=>ys(n,t))),CIff:e=>e.ConstraintFactor.sepBy(P.optWhitespace.skip(Dt("biconditional")).skip(P.optWhitespace)).assert(r=>r.length>=2,"Imp expects at least 2 operands!").map(r=>r.reduceRight((t,n)=>ws(n,t))),ProbabilityLead:()=>P.alt(P.string("Pr("),P.string("P("),P.string("p(")),RealExprBase:e=>P.alt(P.string("(").then(P.optWhitespace).then(e.RealExpr).skip(P.optWhitespace).skip(P.string(")")),P.seq(e.ProbabilityLead,P.optWhitespace,e.Sentence,P.optWhitespace,P.string("|"),P.optWhitespace,e.Sentence,P.optWhitespace,P.string(")")).map(([r,t,n,i,o,m,h])=>k_(n,h)),e.ProbabilityLead.then(P.optWhitespace).then(e.Sentence).skip(P.optWhitespace).skip(P.string(")")).map(r=>N_(r)),P.regexp(/[0-9]+(\.[0-9]+)?/).map(r=>parseFloat(r)),P.regexp(/[A-Za-z]+/).map(r=>C_(r))),PreRealExpr:e=>Wi(e.RealExprBase,[{type:Xs,ops:ee({Exponentiate:"^"})},{type:Ys,ops:ee({Negate:"-"})},{type:Pr,ops:ee({Multiply:"*",Divide:"/"})},{type:Pr,ops:ee({Add:"+",Subtract:"-"})}]),RealExpr:e=>e.PreRealExpr.map(Nt),Sentence:e=>P.alt(e.And,e.Or,e.Imp,e.Iff,e.SentenceFactor),SentenceFactor:e=>P.alt(e.Not,e.WrappedSentence,P.string("true").or(P.string("⊤")).map(()=>bs(!0)),P.string("false").or(P.string("⊥")).map(()=>bs(!1)),e.SL),WrappedSentence:e=>P.seq(P.string("("),P.optWhitespace,e.Sentence,P.optWhitespace,P.string(")")).map(([r,t,n,i,o])=>n),SL:()=>P.seq(P.regexp(/[A-Z]/),P.regexp(/([1-9][0-9]*)?/)).map(([e,r])=>P_(e,r.length>0?parseInt(r):0)),Not:e=>P.seq(Qe("negation"),P.optWhitespace,e.SentenceFactor).map(([r,t,n])=>R_(n)),And:e=>e.SentenceFactor.sepBy(P.seq(P.optWhitespace,Qe("conjunction"),P.optWhitespace)).assert(r=>r.length>=2,"And expects at least two operands!").map(r=>r.reduceRight((t,n)=>ds(n,t))),Or:e=>e.SentenceFactor.sepBy(P.seq(P.optWhitespace,Qe("disjunction"),P.optWhitespace)).assert(r=>r.length>=2,"Or expects at least two operands!").map(r=>r.reduceRight((t,n)=>vs(n,t))),Imp:e=>e.SentenceFactor.sepBy(P.seq(P.optWhitespace,Qe("conditional"),P.optWhitespace)).assert(r=>r.length>=2,"Imp expects at least two operands!").map(r=>r.reduceRight((t,n)=>ys(n,t))),Iff:e=>e.SentenceFactor.sepBy(P.seq(P.optWhitespace,Qe("biconditional"),P.optWhitespace)).assert(r=>r.length>=2,"Iff expects at least two operands!").map(r=>r.reduceRight((t,n)=>ws(n,t)))}),ua=e=>`At column ${e.index.column}
expected ${e.expected.join(" ")}`,Tn=e=>r=>{const t=e.parse(r);return t.status?[!0,t.value]:[!1,ua(t)]};Tn(tr.Sentence);Tn(tr.RealExpr);const z_=Tn(tr.Constraint),j_=P.alt(tr.Constraint.map(e=>({tag:"constraint",constraint:e})),tr.RealExpr.map(e=>({tag:"real_expr",real_expr:e}))),V_=e=>{const r=j_.parse(e);return r.status?[!0,r.value]:[!1,ua(r)]};var ve={},ye={},dr={},mn={},hn=function(e,r){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},hn(e,r)};function la(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");hn(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Sr=function(){return Sr=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Sr.apply(this,arguments)};function ca(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function fa(e,r,t,n){var i=arguments.length,o=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var h=e.length-1;h>=0;h--)(m=e[h])&&(o=(i<3?m(o):i>3?m(r,t,o):m(r,t))||o);return i>3&&o&&Object.defineProperty(r,t,o),o}function ma(e,r){return function(t,n){r(t,n,e)}}function ga(e,r,t,n,i,o){function m(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var h=n.kind,c=h==="getter"?"get":h==="setter"?"set":"value",w=!r&&e?n.static?e:e.prototype:null,s=r||(w?Object.getOwnPropertyDescriptor(w,n.name):{}),Z,q=!1,M=t.length-1;M>=0;M--){var C={};for(var u in n)C[u]=u==="access"?{}:n[u];for(var u in n.access)C.access[u]=n.access[u];C.addInitializer=function(f){if(q)throw new TypeError("Cannot add initializers after decoration has completed");o.push(m(f||null))};var _=(0,t[M])(h==="accessor"?{get:s.get,set:s.set}:s[c],C);if(h==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(Z=m(_.get))&&(s.get=Z),(Z=m(_.set))&&(s.set=Z),(Z=m(_.init))&&i.unshift(Z)}else(Z=m(_))&&(h==="field"?i.unshift(Z):s[c]=Z)}w&&Object.defineProperty(w,n.name,s),q=!0}function pa(e,r,t){for(var n=arguments.length>2,i=0;i<r.length;i++)t=n?r[i].call(e,t):r[i].call(e);return n?t:void 0}function ha(e){return typeof e=="symbol"?e:"".concat(e)}function ba(e,r,t){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",r):r})}function da(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function va(e,r,t,n){function i(o){return o instanceof t?o:new t(function(m){m(o)})}return new(t||(t=Promise))(function(o,m){function h(s){try{w(n.next(s))}catch(Z){m(Z)}}function c(s){try{w(n.throw(s))}catch(Z){m(Z)}}function w(s){s.done?o(s.value):i(s.value).then(h,c)}w((n=n.apply(e,r||[])).next())})}function ya(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,m=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return m.next=h(0),m.throw=h(1),m.return=h(2),typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function h(w){return function(s){return c([w,s])}}function c(w){if(n)throw new TypeError("Generator is already executing.");for(;m&&(m=0,w[0]&&(t=0)),t;)try{if(n=1,i&&(o=w[0]&2?i.return:w[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,w[1])).done)return o;switch(i=0,o&&(w=[w[0]&2,o.value]),w[0]){case 0:case 1:o=w;break;case 4:return t.label++,{value:w[1],done:!1};case 5:t.label++,i=w[1],w=[0];continue;case 7:w=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(w[0]===6||w[0]===2)){t=0;continue}if(w[0]===3&&(!o||w[1]>o[0]&&w[1]<o[3])){t.label=w[1];break}if(w[0]===6&&t.label<o[1]){t.label=o[1],o=w;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(w);break}o[2]&&t.ops.pop(),t.trys.pop();continue}w=r.call(e,t)}catch(s){w=[6,s],i=0}finally{n=o=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}var Lr=Object.create?function(e,r,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(r,t);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,n,i)}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]};function wa(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Lr(r,e,t)}function Ar(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],m;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(h){m={error:h}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(m)throw m.error}}return o}function Ea(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Zn(arguments[r]));return e}function Oa(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),i=0,r=0;r<t;r++)for(var o=arguments[r],m=0,h=o.length;m<h;m++,i++)n[i]=o[m];return n}function Pa(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function Fe(e){return this instanceof Fe?(this.v=e,this):new Fe(e)}function Ra(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),i[Symbol.asyncIterator]=function(){return this},i;function m(M){return function(C){return Promise.resolve(C).then(M,Z)}}function h(M,C){n[M]&&(i[M]=function(u){return new Promise(function(_,f){o.push([M,u,_,f])>1||c(M,u)})},C&&(i[M]=C(i[M])))}function c(M,C){try{w(n[M](C))}catch(u){q(o[0][3],u)}}function w(M){M.value instanceof Fe?Promise.resolve(M.value.v).then(s,Z):q(o[0][2],M)}function s(M){c("next",M)}function Z(M){c("throw",M)}function q(M,C){M(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Sa(e){var r,t;return r={},n("next"),n("throw",function(i){throw i}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(i,o){r[i]=e[i]?function(m){return(t=!t)?{value:Fe(e[i](m)),done:!1}:o?o(m):m}:o}}function Aa(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Ar=="function"?Ar(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(m){return new Promise(function(h,c){m=e[o](m),i(h,c,m.done,m.value)})}}function i(o,m,h,c){Promise.resolve(c).then(function(w){o({value:w,done:h})},m)}}function Ta(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var G_=Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r},bn=function(e){return bn=Object.getOwnPropertyNames||function(r){var t=[];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[t.length]=n);return t},bn(e)};function Za(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t=bn(e),n=0;n<t.length;n++)t[n]!=="default"&&Lr(r,e,t[n]);return G_(r,e),r}function Ia(e){return e&&e.__esModule?e:{default:e}}function La(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)}function xa(e,r,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,t):i?i.value=t:r.set(e,t),t}function Na(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function ka(e,r,t){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var n,i;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=r[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=r[Symbol.dispose],t&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:n,async:t})}else t&&e.stack.push({async:!0});return r}var H_=typeof SuppressedError=="function"?SuppressedError:function(e,r,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=r,n};function Ca(e){function r(o){e.error=e.hasError?new H_(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,n=0;function i(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(i);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(o).then(i,function(m){return r(m),i()})}else n|=1}catch(m){r(m)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function qa(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,i,o,m){return n?r?".jsx":".js":i&&(!o||!m)?t:i+o+"."+m.toLowerCase()+"js"}):e}const W_={__extends:la,__assign:Sr,__rest:ca,__decorate:fa,__param:ma,__esDecorate:ga,__runInitializers:pa,__propKey:ha,__setFunctionName:ba,__metadata:da,__awaiter:va,__generator:ya,__createBinding:Lr,__exportStar:wa,__values:Ar,__read:Zn,__spread:Ea,__spreadArrays:Oa,__spreadArray:Pa,__await:Fe,__asyncGenerator:Ra,__asyncDelegator:Sa,__asyncValues:Aa,__makeTemplateObject:Ta,__importStar:Za,__importDefault:Ia,__classPrivateFieldGet:La,__classPrivateFieldSet:xa,__classPrivateFieldIn:Na,__addDisposableResource:ka,__disposeResources:Ca,__rewriteRelativeImportExtension:qa},Q_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ka,get __assign(){return Sr},__asyncDelegator:Sa,__asyncGenerator:Ra,__asyncValues:Aa,__await:Fe,__awaiter:va,__classPrivateFieldGet:La,__classPrivateFieldIn:Na,__classPrivateFieldSet:xa,__createBinding:Lr,__decorate:fa,__disposeResources:Ca,__esDecorate:ga,__exportStar:wa,__extends:la,__generator:ya,__importDefault:Ia,__importStar:Za,__makeTemplateObject:Ta,__metadata:da,__param:ma,__propKey:ha,__read:Zn,__rest:ca,__rewriteRelativeImportExtension:qa,__runInitializers:pa,__setFunctionName:ba,__spread:Ea,__spreadArray:Pa,__spreadArrays:Oa,__values:Ar,default:W_},Symbol.toStringTag,{value:"Module"})),xr=Ui(Q_);var vr={},yr={},te={},Es;function Nr(){return Es||(Es=1,Object.defineProperty(te,"__esModule",{value:!0}),te.E_CANCELED=te.E_ALREADY_LOCKED=te.E_TIMEOUT=void 0,te.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),te.E_ALREADY_LOCKED=new Error("mutex already locked"),te.E_CANCELED=new Error("request for lock canceled")),te}var Os;function Ma(){if(Os)return yr;Os=1,Object.defineProperty(yr,"__esModule",{value:!0});var e=xr,r=Nr(),t=function(){function n(i,o){if(o===void 0&&(o=r.E_CANCELED),this._maxConcurrency=i,this._cancelError=o,this._queue=[],this._waiters=[],i<=0)throw new Error("semaphore must be initialized to a positive value");this._value=i}return n.prototype.acquire=function(){var i=this,o=this.isLocked(),m=new Promise(function(h,c){return i._queue.push({resolve:h,reject:c})});return o||this._dispatch(),m},n.prototype.runExclusive=function(i){return(0,e.__awaiter)(this,void 0,void 0,function(){var o,m,h;return(0,e.__generator)(this,function(c){switch(c.label){case 0:return[4,this.acquire()];case 1:o=c.sent(),m=o[0],h=o[1],c.label=2;case 2:return c.trys.push([2,,4,5]),[4,i(m)];case 3:return[2,c.sent()];case 4:return h(),[7];case 5:return[2]}})})},n.prototype.waitForUnlock=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o=this;return(0,e.__generator)(this,function(m){return this.isLocked()?(i=new Promise(function(h){return o._waiters.push({resolve:h})}),[2,i]):[2,Promise.resolve()]})})},n.prototype.isLocked=function(){return this._value<=0},n.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var i=this._currentReleaser;this._currentReleaser=void 0,i()}},n.prototype.cancel=function(){var i=this;this._queue.forEach(function(o){return o.reject(i._cancelError)}),this._queue=[]},n.prototype._dispatch=function(){var i=this,o=this._queue.shift();if(o){var m=!1;this._currentReleaser=function(){m||(m=!0,i._value++,i._resolveWaiters(),i._dispatch())},o.resolve([this._value--,this._currentReleaser])}},n.prototype._resolveWaiters=function(){this._waiters.forEach(function(i){return i.resolve()}),this._waiters=[]},n}();return yr.default=t,yr}var Ps;function Y_(){if(Ps)return vr;Ps=1,Object.defineProperty(vr,"__esModule",{value:!0});var e=xr,r=Ma(),t=function(){function n(i){this._semaphore=new r.default(1,i)}return n.prototype.acquire=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,e.__generator)(this,function(m){switch(m.label){case 0:return[4,this._semaphore.acquire()];case 1:return i=m.sent(),o=i[1],[2,o]}})})},n.prototype.runExclusive=function(i){return this._semaphore.runExclusive(function(){return i()})},n.prototype.isLocked=function(){return this._semaphore.isLocked()},n.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},n.prototype.release=function(){this._semaphore.release()},n.prototype.cancel=function(){return this._semaphore.cancel()},n}();return vr.default=t,vr}var Ye={},Rs;function Ua(){if(Rs)return Ye;Rs=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.withTimeout=void 0;var e=xr,r=Nr();function t(n,i,o){var m=this;return o===void 0&&(o=r.E_TIMEOUT),{acquire:function(){return new Promise(function(h,c){return(0,e.__awaiter)(m,void 0,void 0,function(){var w,s,Z,q,M;return(0,e.__generator)(this,function(C){switch(C.label){case 0:w=!1,s=setTimeout(function(){w=!0,c(o)},i),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,n.acquire()];case 2:return Z=C.sent(),w?(q=Array.isArray(Z)?Z[1]:Z,q()):(clearTimeout(s),h(Z)),[3,4];case 3:return M=C.sent(),w||(clearTimeout(s),c(M)),[3,4];case 4:return[2]}})})})},runExclusive:function(h){return(0,e.__awaiter)(this,void 0,void 0,function(){var c,w;return(0,e.__generator)(this,function(s){switch(s.label){case 0:c=function(){},s.label=1;case 1:return s.trys.push([1,,7,8]),[4,this.acquire()];case 2:return w=s.sent(),Array.isArray(w)?(c=w[1],[4,h(w[0])]):[3,4];case 3:return[2,s.sent()];case 4:return c=w,[4,h()];case 5:return[2,s.sent()];case 6:return[3,8];case 7:return c(),[7];case 8:return[2]}})})},release:function(){n.release()},cancel:function(){return n.cancel()},waitForUnlock:function(){return n.waitForUnlock()},isLocked:function(){return n.isLocked()}}}return Ye.withTimeout=t,Ye}var Xe={},Ss;function X_(){if(Ss)return Xe;Ss=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.tryAcquire=void 0;var e=Nr(),r=Ua();function t(n,i){return i===void 0&&(i=e.E_ALREADY_LOCKED),(0,r.withTimeout)(n,0,i)}return Xe.tryAcquire=t,Xe}var As;function K_(){return As||(As=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tryAcquire=e.withTimeout=e.Semaphore=e.Mutex=void 0;var r=xr,t=Y_();Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var n=Ma();Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return n.default}});var i=Ua();Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return i.withTimeout}});var o=X_();Object.defineProperty(e,"tryAcquire",{enumerable:!0,get:function(){return o.tryAcquire}}),(0,r.__exportStar)(Nr(),e)}(mn)),mn}var we={},at={},Ts;function Fa(){if(Ts)return at;Ts=1,Object.defineProperty(at,"__esModule",{value:!0}),at.Z3_goal_prec=at.Z3_error_code=at.Z3_ast_print_mode=at.Z3_param_kind=at.Z3_decl_kind=at.Z3_ast_kind=at.Z3_sort_kind=at.Z3_parameter_kind=at.Z3_symbol_kind=at.Z3_lbool=void 0;var e;(function(s){s[s.Z3_L_FALSE=-1]="Z3_L_FALSE",s[s.Z3_L_UNDEF=0]="Z3_L_UNDEF",s[s.Z3_L_TRUE=1]="Z3_L_TRUE"})(e||(at.Z3_lbool=e={}));var r;(function(s){s[s.Z3_INT_SYMBOL=0]="Z3_INT_SYMBOL",s[s.Z3_STRING_SYMBOL=1]="Z3_STRING_SYMBOL"})(r||(at.Z3_symbol_kind=r={}));var t;(function(s){s[s.Z3_PARAMETER_INT=0]="Z3_PARAMETER_INT",s[s.Z3_PARAMETER_DOUBLE=1]="Z3_PARAMETER_DOUBLE",s[s.Z3_PARAMETER_RATIONAL=2]="Z3_PARAMETER_RATIONAL",s[s.Z3_PARAMETER_SYMBOL=3]="Z3_PARAMETER_SYMBOL",s[s.Z3_PARAMETER_SORT=4]="Z3_PARAMETER_SORT",s[s.Z3_PARAMETER_AST=5]="Z3_PARAMETER_AST",s[s.Z3_PARAMETER_FUNC_DECL=6]="Z3_PARAMETER_FUNC_DECL",s[s.Z3_PARAMETER_INTERNAL=7]="Z3_PARAMETER_INTERNAL",s[s.Z3_PARAMETER_ZSTRING=8]="Z3_PARAMETER_ZSTRING"})(t||(at.Z3_parameter_kind=t={}));var n;(function(s){s[s.Z3_UNINTERPRETED_SORT=0]="Z3_UNINTERPRETED_SORT",s[s.Z3_BOOL_SORT=1]="Z3_BOOL_SORT",s[s.Z3_INT_SORT=2]="Z3_INT_SORT",s[s.Z3_REAL_SORT=3]="Z3_REAL_SORT",s[s.Z3_BV_SORT=4]="Z3_BV_SORT",s[s.Z3_ARRAY_SORT=5]="Z3_ARRAY_SORT",s[s.Z3_DATATYPE_SORT=6]="Z3_DATATYPE_SORT",s[s.Z3_RELATION_SORT=7]="Z3_RELATION_SORT",s[s.Z3_FINITE_DOMAIN_SORT=8]="Z3_FINITE_DOMAIN_SORT",s[s.Z3_FLOATING_POINT_SORT=9]="Z3_FLOATING_POINT_SORT",s[s.Z3_ROUNDING_MODE_SORT=10]="Z3_ROUNDING_MODE_SORT",s[s.Z3_SEQ_SORT=11]="Z3_SEQ_SORT",s[s.Z3_RE_SORT=12]="Z3_RE_SORT",s[s.Z3_CHAR_SORT=13]="Z3_CHAR_SORT",s[s.Z3_TYPE_VAR=14]="Z3_TYPE_VAR",s[s.Z3_UNKNOWN_SORT=1e3]="Z3_UNKNOWN_SORT"})(n||(at.Z3_sort_kind=n={}));var i;(function(s){s[s.Z3_NUMERAL_AST=0]="Z3_NUMERAL_AST",s[s.Z3_APP_AST=1]="Z3_APP_AST",s[s.Z3_VAR_AST=2]="Z3_VAR_AST",s[s.Z3_QUANTIFIER_AST=3]="Z3_QUANTIFIER_AST",s[s.Z3_SORT_AST=4]="Z3_SORT_AST",s[s.Z3_FUNC_DECL_AST=5]="Z3_FUNC_DECL_AST",s[s.Z3_UNKNOWN_AST=1e3]="Z3_UNKNOWN_AST"})(i||(at.Z3_ast_kind=i={}));var o;(function(s){s[s.Z3_OP_TRUE=256]="Z3_OP_TRUE",s[s.Z3_OP_FALSE=257]="Z3_OP_FALSE",s[s.Z3_OP_EQ=258]="Z3_OP_EQ",s[s.Z3_OP_DISTINCT=259]="Z3_OP_DISTINCT",s[s.Z3_OP_ITE=260]="Z3_OP_ITE",s[s.Z3_OP_AND=261]="Z3_OP_AND",s[s.Z3_OP_OR=262]="Z3_OP_OR",s[s.Z3_OP_IFF=263]="Z3_OP_IFF",s[s.Z3_OP_XOR=264]="Z3_OP_XOR",s[s.Z3_OP_NOT=265]="Z3_OP_NOT",s[s.Z3_OP_IMPLIES=266]="Z3_OP_IMPLIES",s[s.Z3_OP_OEQ=267]="Z3_OP_OEQ",s[s.Z3_OP_ANUM=512]="Z3_OP_ANUM",s[s.Z3_OP_AGNUM=513]="Z3_OP_AGNUM",s[s.Z3_OP_LE=514]="Z3_OP_LE",s[s.Z3_OP_GE=515]="Z3_OP_GE",s[s.Z3_OP_LT=516]="Z3_OP_LT",s[s.Z3_OP_GT=517]="Z3_OP_GT",s[s.Z3_OP_ADD=518]="Z3_OP_ADD",s[s.Z3_OP_SUB=519]="Z3_OP_SUB",s[s.Z3_OP_UMINUS=520]="Z3_OP_UMINUS",s[s.Z3_OP_MUL=521]="Z3_OP_MUL",s[s.Z3_OP_DIV=522]="Z3_OP_DIV",s[s.Z3_OP_IDIV=523]="Z3_OP_IDIV",s[s.Z3_OP_REM=524]="Z3_OP_REM",s[s.Z3_OP_MOD=525]="Z3_OP_MOD",s[s.Z3_OP_TO_REAL=526]="Z3_OP_TO_REAL",s[s.Z3_OP_TO_INT=527]="Z3_OP_TO_INT",s[s.Z3_OP_IS_INT=528]="Z3_OP_IS_INT",s[s.Z3_OP_POWER=529]="Z3_OP_POWER",s[s.Z3_OP_ABS=530]="Z3_OP_ABS",s[s.Z3_OP_STORE=768]="Z3_OP_STORE",s[s.Z3_OP_SELECT=769]="Z3_OP_SELECT",s[s.Z3_OP_CONST_ARRAY=770]="Z3_OP_CONST_ARRAY",s[s.Z3_OP_ARRAY_MAP=771]="Z3_OP_ARRAY_MAP",s[s.Z3_OP_ARRAY_DEFAULT=772]="Z3_OP_ARRAY_DEFAULT",s[s.Z3_OP_SET_UNION=773]="Z3_OP_SET_UNION",s[s.Z3_OP_SET_INTERSECT=774]="Z3_OP_SET_INTERSECT",s[s.Z3_OP_SET_DIFFERENCE=775]="Z3_OP_SET_DIFFERENCE",s[s.Z3_OP_SET_COMPLEMENT=776]="Z3_OP_SET_COMPLEMENT",s[s.Z3_OP_SET_SUBSET=777]="Z3_OP_SET_SUBSET",s[s.Z3_OP_AS_ARRAY=778]="Z3_OP_AS_ARRAY",s[s.Z3_OP_ARRAY_EXT=779]="Z3_OP_ARRAY_EXT",s[s.Z3_OP_SET_HAS_SIZE=780]="Z3_OP_SET_HAS_SIZE",s[s.Z3_OP_SET_CARD=781]="Z3_OP_SET_CARD",s[s.Z3_OP_BNUM=1024]="Z3_OP_BNUM",s[s.Z3_OP_BIT1=1025]="Z3_OP_BIT1",s[s.Z3_OP_BIT0=1026]="Z3_OP_BIT0",s[s.Z3_OP_BNEG=1027]="Z3_OP_BNEG",s[s.Z3_OP_BADD=1028]="Z3_OP_BADD",s[s.Z3_OP_BSUB=1029]="Z3_OP_BSUB",s[s.Z3_OP_BMUL=1030]="Z3_OP_BMUL",s[s.Z3_OP_BSDIV=1031]="Z3_OP_BSDIV",s[s.Z3_OP_BUDIV=1032]="Z3_OP_BUDIV",s[s.Z3_OP_BSREM=1033]="Z3_OP_BSREM",s[s.Z3_OP_BUREM=1034]="Z3_OP_BUREM",s[s.Z3_OP_BSMOD=1035]="Z3_OP_BSMOD",s[s.Z3_OP_BSDIV0=1036]="Z3_OP_BSDIV0",s[s.Z3_OP_BUDIV0=1037]="Z3_OP_BUDIV0",s[s.Z3_OP_BSREM0=1038]="Z3_OP_BSREM0",s[s.Z3_OP_BUREM0=1039]="Z3_OP_BUREM0",s[s.Z3_OP_BSMOD0=1040]="Z3_OP_BSMOD0",s[s.Z3_OP_ULEQ=1041]="Z3_OP_ULEQ",s[s.Z3_OP_SLEQ=1042]="Z3_OP_SLEQ",s[s.Z3_OP_UGEQ=1043]="Z3_OP_UGEQ",s[s.Z3_OP_SGEQ=1044]="Z3_OP_SGEQ",s[s.Z3_OP_ULT=1045]="Z3_OP_ULT",s[s.Z3_OP_SLT=1046]="Z3_OP_SLT",s[s.Z3_OP_UGT=1047]="Z3_OP_UGT",s[s.Z3_OP_SGT=1048]="Z3_OP_SGT",s[s.Z3_OP_BAND=1049]="Z3_OP_BAND",s[s.Z3_OP_BOR=1050]="Z3_OP_BOR",s[s.Z3_OP_BNOT=1051]="Z3_OP_BNOT",s[s.Z3_OP_BXOR=1052]="Z3_OP_BXOR",s[s.Z3_OP_BNAND=1053]="Z3_OP_BNAND",s[s.Z3_OP_BNOR=1054]="Z3_OP_BNOR",s[s.Z3_OP_BXNOR=1055]="Z3_OP_BXNOR",s[s.Z3_OP_CONCAT=1056]="Z3_OP_CONCAT",s[s.Z3_OP_SIGN_EXT=1057]="Z3_OP_SIGN_EXT",s[s.Z3_OP_ZERO_EXT=1058]="Z3_OP_ZERO_EXT",s[s.Z3_OP_EXTRACT=1059]="Z3_OP_EXTRACT",s[s.Z3_OP_REPEAT=1060]="Z3_OP_REPEAT",s[s.Z3_OP_BREDOR=1061]="Z3_OP_BREDOR",s[s.Z3_OP_BREDAND=1062]="Z3_OP_BREDAND",s[s.Z3_OP_BCOMP=1063]="Z3_OP_BCOMP",s[s.Z3_OP_BSHL=1064]="Z3_OP_BSHL",s[s.Z3_OP_BLSHR=1065]="Z3_OP_BLSHR",s[s.Z3_OP_BASHR=1066]="Z3_OP_BASHR",s[s.Z3_OP_ROTATE_LEFT=1067]="Z3_OP_ROTATE_LEFT",s[s.Z3_OP_ROTATE_RIGHT=1068]="Z3_OP_ROTATE_RIGHT",s[s.Z3_OP_EXT_ROTATE_LEFT=1069]="Z3_OP_EXT_ROTATE_LEFT",s[s.Z3_OP_EXT_ROTATE_RIGHT=1070]="Z3_OP_EXT_ROTATE_RIGHT",s[s.Z3_OP_BIT2BOOL=1071]="Z3_OP_BIT2BOOL",s[s.Z3_OP_INT2BV=1072]="Z3_OP_INT2BV",s[s.Z3_OP_BV2INT=1073]="Z3_OP_BV2INT",s[s.Z3_OP_SBV2INT=1074]="Z3_OP_SBV2INT",s[s.Z3_OP_CARRY=1075]="Z3_OP_CARRY",s[s.Z3_OP_XOR3=1076]="Z3_OP_XOR3",s[s.Z3_OP_BSMUL_NO_OVFL=1077]="Z3_OP_BSMUL_NO_OVFL",s[s.Z3_OP_BUMUL_NO_OVFL=1078]="Z3_OP_BUMUL_NO_OVFL",s[s.Z3_OP_BSMUL_NO_UDFL=1079]="Z3_OP_BSMUL_NO_UDFL",s[s.Z3_OP_BSDIV_I=1080]="Z3_OP_BSDIV_I",s[s.Z3_OP_BUDIV_I=1081]="Z3_OP_BUDIV_I",s[s.Z3_OP_BSREM_I=1082]="Z3_OP_BSREM_I",s[s.Z3_OP_BUREM_I=1083]="Z3_OP_BUREM_I",s[s.Z3_OP_BSMOD_I=1084]="Z3_OP_BSMOD_I",s[s.Z3_OP_PR_UNDEF=1280]="Z3_OP_PR_UNDEF",s[s.Z3_OP_PR_TRUE=1281]="Z3_OP_PR_TRUE",s[s.Z3_OP_PR_ASSERTED=1282]="Z3_OP_PR_ASSERTED",s[s.Z3_OP_PR_GOAL=1283]="Z3_OP_PR_GOAL",s[s.Z3_OP_PR_MODUS_PONENS=1284]="Z3_OP_PR_MODUS_PONENS",s[s.Z3_OP_PR_REFLEXIVITY=1285]="Z3_OP_PR_REFLEXIVITY",s[s.Z3_OP_PR_SYMMETRY=1286]="Z3_OP_PR_SYMMETRY",s[s.Z3_OP_PR_TRANSITIVITY=1287]="Z3_OP_PR_TRANSITIVITY",s[s.Z3_OP_PR_TRANSITIVITY_STAR=1288]="Z3_OP_PR_TRANSITIVITY_STAR",s[s.Z3_OP_PR_MONOTONICITY=1289]="Z3_OP_PR_MONOTONICITY",s[s.Z3_OP_PR_QUANT_INTRO=1290]="Z3_OP_PR_QUANT_INTRO",s[s.Z3_OP_PR_BIND=1291]="Z3_OP_PR_BIND",s[s.Z3_OP_PR_DISTRIBUTIVITY=1292]="Z3_OP_PR_DISTRIBUTIVITY",s[s.Z3_OP_PR_AND_ELIM=1293]="Z3_OP_PR_AND_ELIM",s[s.Z3_OP_PR_NOT_OR_ELIM=1294]="Z3_OP_PR_NOT_OR_ELIM",s[s.Z3_OP_PR_REWRITE=1295]="Z3_OP_PR_REWRITE",s[s.Z3_OP_PR_REWRITE_STAR=1296]="Z3_OP_PR_REWRITE_STAR",s[s.Z3_OP_PR_PULL_QUANT=1297]="Z3_OP_PR_PULL_QUANT",s[s.Z3_OP_PR_PUSH_QUANT=1298]="Z3_OP_PR_PUSH_QUANT",s[s.Z3_OP_PR_ELIM_UNUSED_VARS=1299]="Z3_OP_PR_ELIM_UNUSED_VARS",s[s.Z3_OP_PR_DER=1300]="Z3_OP_PR_DER",s[s.Z3_OP_PR_QUANT_INST=1301]="Z3_OP_PR_QUANT_INST",s[s.Z3_OP_PR_HYPOTHESIS=1302]="Z3_OP_PR_HYPOTHESIS",s[s.Z3_OP_PR_LEMMA=1303]="Z3_OP_PR_LEMMA",s[s.Z3_OP_PR_UNIT_RESOLUTION=1304]="Z3_OP_PR_UNIT_RESOLUTION",s[s.Z3_OP_PR_IFF_TRUE=1305]="Z3_OP_PR_IFF_TRUE",s[s.Z3_OP_PR_IFF_FALSE=1306]="Z3_OP_PR_IFF_FALSE",s[s.Z3_OP_PR_COMMUTATIVITY=1307]="Z3_OP_PR_COMMUTATIVITY",s[s.Z3_OP_PR_DEF_AXIOM=1308]="Z3_OP_PR_DEF_AXIOM",s[s.Z3_OP_PR_ASSUMPTION_ADD=1309]="Z3_OP_PR_ASSUMPTION_ADD",s[s.Z3_OP_PR_LEMMA_ADD=1310]="Z3_OP_PR_LEMMA_ADD",s[s.Z3_OP_PR_REDUNDANT_DEL=1311]="Z3_OP_PR_REDUNDANT_DEL",s[s.Z3_OP_PR_CLAUSE_TRAIL=1312]="Z3_OP_PR_CLAUSE_TRAIL",s[s.Z3_OP_PR_DEF_INTRO=1313]="Z3_OP_PR_DEF_INTRO",s[s.Z3_OP_PR_APPLY_DEF=1314]="Z3_OP_PR_APPLY_DEF",s[s.Z3_OP_PR_IFF_OEQ=1315]="Z3_OP_PR_IFF_OEQ",s[s.Z3_OP_PR_NNF_POS=1316]="Z3_OP_PR_NNF_POS",s[s.Z3_OP_PR_NNF_NEG=1317]="Z3_OP_PR_NNF_NEG",s[s.Z3_OP_PR_SKOLEMIZE=1318]="Z3_OP_PR_SKOLEMIZE",s[s.Z3_OP_PR_MODUS_PONENS_OEQ=1319]="Z3_OP_PR_MODUS_PONENS_OEQ",s[s.Z3_OP_PR_TH_LEMMA=1320]="Z3_OP_PR_TH_LEMMA",s[s.Z3_OP_PR_HYPER_RESOLVE=1321]="Z3_OP_PR_HYPER_RESOLVE",s[s.Z3_OP_RA_STORE=1536]="Z3_OP_RA_STORE",s[s.Z3_OP_RA_EMPTY=1537]="Z3_OP_RA_EMPTY",s[s.Z3_OP_RA_IS_EMPTY=1538]="Z3_OP_RA_IS_EMPTY",s[s.Z3_OP_RA_JOIN=1539]="Z3_OP_RA_JOIN",s[s.Z3_OP_RA_UNION=1540]="Z3_OP_RA_UNION",s[s.Z3_OP_RA_WIDEN=1541]="Z3_OP_RA_WIDEN",s[s.Z3_OP_RA_PROJECT=1542]="Z3_OP_RA_PROJECT",s[s.Z3_OP_RA_FILTER=1543]="Z3_OP_RA_FILTER",s[s.Z3_OP_RA_NEGATION_FILTER=1544]="Z3_OP_RA_NEGATION_FILTER",s[s.Z3_OP_RA_RENAME=1545]="Z3_OP_RA_RENAME",s[s.Z3_OP_RA_COMPLEMENT=1546]="Z3_OP_RA_COMPLEMENT",s[s.Z3_OP_RA_SELECT=1547]="Z3_OP_RA_SELECT",s[s.Z3_OP_RA_CLONE=1548]="Z3_OP_RA_CLONE",s[s.Z3_OP_FD_CONSTANT=1549]="Z3_OP_FD_CONSTANT",s[s.Z3_OP_FD_LT=1550]="Z3_OP_FD_LT",s[s.Z3_OP_SEQ_UNIT=1551]="Z3_OP_SEQ_UNIT",s[s.Z3_OP_SEQ_EMPTY=1552]="Z3_OP_SEQ_EMPTY",s[s.Z3_OP_SEQ_CONCAT=1553]="Z3_OP_SEQ_CONCAT",s[s.Z3_OP_SEQ_PREFIX=1554]="Z3_OP_SEQ_PREFIX",s[s.Z3_OP_SEQ_SUFFIX=1555]="Z3_OP_SEQ_SUFFIX",s[s.Z3_OP_SEQ_CONTAINS=1556]="Z3_OP_SEQ_CONTAINS",s[s.Z3_OP_SEQ_EXTRACT=1557]="Z3_OP_SEQ_EXTRACT",s[s.Z3_OP_SEQ_REPLACE=1558]="Z3_OP_SEQ_REPLACE",s[s.Z3_OP_SEQ_REPLACE_RE=1559]="Z3_OP_SEQ_REPLACE_RE",s[s.Z3_OP_SEQ_REPLACE_RE_ALL=1560]="Z3_OP_SEQ_REPLACE_RE_ALL",s[s.Z3_OP_SEQ_REPLACE_ALL=1561]="Z3_OP_SEQ_REPLACE_ALL",s[s.Z3_OP_SEQ_AT=1562]="Z3_OP_SEQ_AT",s[s.Z3_OP_SEQ_NTH=1563]="Z3_OP_SEQ_NTH",s[s.Z3_OP_SEQ_LENGTH=1564]="Z3_OP_SEQ_LENGTH",s[s.Z3_OP_SEQ_INDEX=1565]="Z3_OP_SEQ_INDEX",s[s.Z3_OP_SEQ_LAST_INDEX=1566]="Z3_OP_SEQ_LAST_INDEX",s[s.Z3_OP_SEQ_TO_RE=1567]="Z3_OP_SEQ_TO_RE",s[s.Z3_OP_SEQ_IN_RE=1568]="Z3_OP_SEQ_IN_RE",s[s.Z3_OP_SEQ_MAP=1569]="Z3_OP_SEQ_MAP",s[s.Z3_OP_SEQ_MAPI=1570]="Z3_OP_SEQ_MAPI",s[s.Z3_OP_SEQ_FOLDL=1571]="Z3_OP_SEQ_FOLDL",s[s.Z3_OP_SEQ_FOLDLI=1572]="Z3_OP_SEQ_FOLDLI",s[s.Z3_OP_STR_TO_INT=1573]="Z3_OP_STR_TO_INT",s[s.Z3_OP_INT_TO_STR=1574]="Z3_OP_INT_TO_STR",s[s.Z3_OP_UBV_TO_STR=1575]="Z3_OP_UBV_TO_STR",s[s.Z3_OP_SBV_TO_STR=1576]="Z3_OP_SBV_TO_STR",s[s.Z3_OP_STR_TO_CODE=1577]="Z3_OP_STR_TO_CODE",s[s.Z3_OP_STR_FROM_CODE=1578]="Z3_OP_STR_FROM_CODE",s[s.Z3_OP_STRING_LT=1579]="Z3_OP_STRING_LT",s[s.Z3_OP_STRING_LE=1580]="Z3_OP_STRING_LE",s[s.Z3_OP_RE_PLUS=1581]="Z3_OP_RE_PLUS",s[s.Z3_OP_RE_STAR=1582]="Z3_OP_RE_STAR",s[s.Z3_OP_RE_OPTION=1583]="Z3_OP_RE_OPTION",s[s.Z3_OP_RE_CONCAT=1584]="Z3_OP_RE_CONCAT",s[s.Z3_OP_RE_UNION=1585]="Z3_OP_RE_UNION",s[s.Z3_OP_RE_RANGE=1586]="Z3_OP_RE_RANGE",s[s.Z3_OP_RE_DIFF=1587]="Z3_OP_RE_DIFF",s[s.Z3_OP_RE_INTERSECT=1588]="Z3_OP_RE_INTERSECT",s[s.Z3_OP_RE_LOOP=1589]="Z3_OP_RE_LOOP",s[s.Z3_OP_RE_POWER=1590]="Z3_OP_RE_POWER",s[s.Z3_OP_RE_COMPLEMENT=1591]="Z3_OP_RE_COMPLEMENT",s[s.Z3_OP_RE_EMPTY_SET=1592]="Z3_OP_RE_EMPTY_SET",s[s.Z3_OP_RE_FULL_SET=1593]="Z3_OP_RE_FULL_SET",s[s.Z3_OP_RE_FULL_CHAR_SET=1594]="Z3_OP_RE_FULL_CHAR_SET",s[s.Z3_OP_RE_OF_PRED=1595]="Z3_OP_RE_OF_PRED",s[s.Z3_OP_RE_REVERSE=1596]="Z3_OP_RE_REVERSE",s[s.Z3_OP_RE_DERIVATIVE=1597]="Z3_OP_RE_DERIVATIVE",s[s.Z3_OP_CHAR_CONST=1598]="Z3_OP_CHAR_CONST",s[s.Z3_OP_CHAR_LE=1599]="Z3_OP_CHAR_LE",s[s.Z3_OP_CHAR_TO_INT=1600]="Z3_OP_CHAR_TO_INT",s[s.Z3_OP_CHAR_TO_BV=1601]="Z3_OP_CHAR_TO_BV",s[s.Z3_OP_CHAR_FROM_BV=1602]="Z3_OP_CHAR_FROM_BV",s[s.Z3_OP_CHAR_IS_DIGIT=1603]="Z3_OP_CHAR_IS_DIGIT",s[s.Z3_OP_LABEL=1792]="Z3_OP_LABEL",s[s.Z3_OP_LABEL_LIT=1793]="Z3_OP_LABEL_LIT",s[s.Z3_OP_DT_CONSTRUCTOR=2048]="Z3_OP_DT_CONSTRUCTOR",s[s.Z3_OP_DT_RECOGNISER=2049]="Z3_OP_DT_RECOGNISER",s[s.Z3_OP_DT_IS=2050]="Z3_OP_DT_IS",s[s.Z3_OP_DT_ACCESSOR=2051]="Z3_OP_DT_ACCESSOR",s[s.Z3_OP_DT_UPDATE_FIELD=2052]="Z3_OP_DT_UPDATE_FIELD",s[s.Z3_OP_PB_AT_MOST=2304]="Z3_OP_PB_AT_MOST",s[s.Z3_OP_PB_AT_LEAST=2305]="Z3_OP_PB_AT_LEAST",s[s.Z3_OP_PB_LE=2306]="Z3_OP_PB_LE",s[s.Z3_OP_PB_GE=2307]="Z3_OP_PB_GE",s[s.Z3_OP_PB_EQ=2308]="Z3_OP_PB_EQ",s[s.Z3_OP_SPECIAL_RELATION_LO=40960]="Z3_OP_SPECIAL_RELATION_LO",s[s.Z3_OP_SPECIAL_RELATION_PO=40961]="Z3_OP_SPECIAL_RELATION_PO",s[s.Z3_OP_SPECIAL_RELATION_PLO=40962]="Z3_OP_SPECIAL_RELATION_PLO",s[s.Z3_OP_SPECIAL_RELATION_TO=40963]="Z3_OP_SPECIAL_RELATION_TO",s[s.Z3_OP_SPECIAL_RELATION_TC=40964]="Z3_OP_SPECIAL_RELATION_TC",s[s.Z3_OP_SPECIAL_RELATION_TRC=40965]="Z3_OP_SPECIAL_RELATION_TRC",s[s.Z3_OP_FPA_RM_NEAREST_TIES_TO_EVEN=45056]="Z3_OP_FPA_RM_NEAREST_TIES_TO_EVEN",s[s.Z3_OP_FPA_RM_NEAREST_TIES_TO_AWAY=45057]="Z3_OP_FPA_RM_NEAREST_TIES_TO_AWAY",s[s.Z3_OP_FPA_RM_TOWARD_POSITIVE=45058]="Z3_OP_FPA_RM_TOWARD_POSITIVE",s[s.Z3_OP_FPA_RM_TOWARD_NEGATIVE=45059]="Z3_OP_FPA_RM_TOWARD_NEGATIVE",s[s.Z3_OP_FPA_RM_TOWARD_ZERO=45060]="Z3_OP_FPA_RM_TOWARD_ZERO",s[s.Z3_OP_FPA_NUM=45061]="Z3_OP_FPA_NUM",s[s.Z3_OP_FPA_PLUS_INF=45062]="Z3_OP_FPA_PLUS_INF",s[s.Z3_OP_FPA_MINUS_INF=45063]="Z3_OP_FPA_MINUS_INF",s[s.Z3_OP_FPA_NAN=45064]="Z3_OP_FPA_NAN",s[s.Z3_OP_FPA_PLUS_ZERO=45065]="Z3_OP_FPA_PLUS_ZERO",s[s.Z3_OP_FPA_MINUS_ZERO=45066]="Z3_OP_FPA_MINUS_ZERO",s[s.Z3_OP_FPA_ADD=45067]="Z3_OP_FPA_ADD",s[s.Z3_OP_FPA_SUB=45068]="Z3_OP_FPA_SUB",s[s.Z3_OP_FPA_NEG=45069]="Z3_OP_FPA_NEG",s[s.Z3_OP_FPA_MUL=45070]="Z3_OP_FPA_MUL",s[s.Z3_OP_FPA_DIV=45071]="Z3_OP_FPA_DIV",s[s.Z3_OP_FPA_REM=45072]="Z3_OP_FPA_REM",s[s.Z3_OP_FPA_ABS=45073]="Z3_OP_FPA_ABS",s[s.Z3_OP_FPA_MIN=45074]="Z3_OP_FPA_MIN",s[s.Z3_OP_FPA_MAX=45075]="Z3_OP_FPA_MAX",s[s.Z3_OP_FPA_FMA=45076]="Z3_OP_FPA_FMA",s[s.Z3_OP_FPA_SQRT=45077]="Z3_OP_FPA_SQRT",s[s.Z3_OP_FPA_ROUND_TO_INTEGRAL=45078]="Z3_OP_FPA_ROUND_TO_INTEGRAL",s[s.Z3_OP_FPA_EQ=45079]="Z3_OP_FPA_EQ",s[s.Z3_OP_FPA_LT=45080]="Z3_OP_FPA_LT",s[s.Z3_OP_FPA_GT=45081]="Z3_OP_FPA_GT",s[s.Z3_OP_FPA_LE=45082]="Z3_OP_FPA_LE",s[s.Z3_OP_FPA_GE=45083]="Z3_OP_FPA_GE",s[s.Z3_OP_FPA_IS_NAN=45084]="Z3_OP_FPA_IS_NAN",s[s.Z3_OP_FPA_IS_INF=45085]="Z3_OP_FPA_IS_INF",s[s.Z3_OP_FPA_IS_ZERO=45086]="Z3_OP_FPA_IS_ZERO",s[s.Z3_OP_FPA_IS_NORMAL=45087]="Z3_OP_FPA_IS_NORMAL",s[s.Z3_OP_FPA_IS_SUBNORMAL=45088]="Z3_OP_FPA_IS_SUBNORMAL",s[s.Z3_OP_FPA_IS_NEGATIVE=45089]="Z3_OP_FPA_IS_NEGATIVE",s[s.Z3_OP_FPA_IS_POSITIVE=45090]="Z3_OP_FPA_IS_POSITIVE",s[s.Z3_OP_FPA_FP=45091]="Z3_OP_FPA_FP",s[s.Z3_OP_FPA_TO_FP=45092]="Z3_OP_FPA_TO_FP",s[s.Z3_OP_FPA_TO_FP_UNSIGNED=45093]="Z3_OP_FPA_TO_FP_UNSIGNED",s[s.Z3_OP_FPA_TO_UBV=45094]="Z3_OP_FPA_TO_UBV",s[s.Z3_OP_FPA_TO_SBV=45095]="Z3_OP_FPA_TO_SBV",s[s.Z3_OP_FPA_TO_REAL=45096]="Z3_OP_FPA_TO_REAL",s[s.Z3_OP_FPA_TO_IEEE_BV=45097]="Z3_OP_FPA_TO_IEEE_BV",s[s.Z3_OP_FPA_BVWRAP=45098]="Z3_OP_FPA_BVWRAP",s[s.Z3_OP_FPA_BV2RM=45099]="Z3_OP_FPA_BV2RM",s[s.Z3_OP_INTERNAL=45100]="Z3_OP_INTERNAL",s[s.Z3_OP_RECURSIVE=45101]="Z3_OP_RECURSIVE",s[s.Z3_OP_UNINTERPRETED=45102]="Z3_OP_UNINTERPRETED"})(o||(at.Z3_decl_kind=o={}));var m;(function(s){s[s.Z3_PK_UINT=0]="Z3_PK_UINT",s[s.Z3_PK_BOOL=1]="Z3_PK_BOOL",s[s.Z3_PK_DOUBLE=2]="Z3_PK_DOUBLE",s[s.Z3_PK_SYMBOL=3]="Z3_PK_SYMBOL",s[s.Z3_PK_STRING=4]="Z3_PK_STRING",s[s.Z3_PK_OTHER=5]="Z3_PK_OTHER",s[s.Z3_PK_INVALID=6]="Z3_PK_INVALID"})(m||(at.Z3_param_kind=m={}));var h;(function(s){s[s.Z3_PRINT_SMTLIB_FULL=0]="Z3_PRINT_SMTLIB_FULL",s[s.Z3_PRINT_LOW_LEVEL=1]="Z3_PRINT_LOW_LEVEL",s[s.Z3_PRINT_SMTLIB2_COMPLIANT=2]="Z3_PRINT_SMTLIB2_COMPLIANT"})(h||(at.Z3_ast_print_mode=h={}));var c;(function(s){s[s.Z3_OK=0]="Z3_OK",s[s.Z3_SORT_ERROR=1]="Z3_SORT_ERROR",s[s.Z3_IOB=2]="Z3_IOB",s[s.Z3_INVALID_ARG=3]="Z3_INVALID_ARG",s[s.Z3_PARSER_ERROR=4]="Z3_PARSER_ERROR",s[s.Z3_NO_PARSER=5]="Z3_NO_PARSER",s[s.Z3_INVALID_PATTERN=6]="Z3_INVALID_PATTERN",s[s.Z3_MEMOUT_FAIL=7]="Z3_MEMOUT_FAIL",s[s.Z3_FILE_ACCESS_ERROR=8]="Z3_FILE_ACCESS_ERROR",s[s.Z3_INTERNAL_FATAL=9]="Z3_INTERNAL_FATAL",s[s.Z3_INVALID_USAGE=10]="Z3_INVALID_USAGE",s[s.Z3_DEC_REF_ERROR=11]="Z3_DEC_REF_ERROR",s[s.Z3_EXCEPTION=12]="Z3_EXCEPTION"})(c||(at.Z3_error_code=c={}));var w;return function(s){s[s.Z3_GOAL_PRECISE=0]="Z3_GOAL_PRECISE",s[s.Z3_GOAL_UNDER=1]="Z3_GOAL_UNDER",s[s.Z3_GOAL_OVER=2]="Z3_GOAL_OVER",s[s.Z3_GOAL_UNDER_OVER=3]="Z3_GOAL_UNDER_OVER"}(w||(at.Z3_goal_prec=w={})),at}var wr={},Zs;function J_(){if(Zs)return wr;Zs=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.init=e;async function e(r){let t=await r();function n(u){return new Uint8Array(new Uint32Array(u).buffer)}function i(u){return u.map(_=>_?1:0)}function o(u,_){return Array.from(new Uint32Array(t.HEAPU32.buffer,u,_))}let m=t._malloc(24),h=new Uint32Array(t.HEAPU32.buffer,m,4),c=u=>h[u],w=new Int32Array(t.HEAPU32.buffer,m,4),s=u=>w[u],Z=new BigUint64Array(t.HEAPU32.buffer,m,2),q=u=>Z[u],M=new BigInt64Array(t.HEAPU32.buffer,m,2),C=u=>M[u];return{em:t,Z3:{mk_context:function(u){let _=t._Z3_mk_context(u);return t._set_noop_error_handler(_),_},mk_context_rc:function(u){let _=t._Z3_mk_context_rc(u);return t._set_noop_error_handler(_),_},global_param_set:function(u,_){return t.ccall("Z3_global_param_set","void",["string","string"],[u,_])},global_param_reset_all:t._Z3_global_param_reset_all,global_param_get:function(u){return t.ccall("Z3_global_param_get","boolean",["string","number"],[u,m])?t.UTF8ToString(c(0)):null},mk_config:t._Z3_mk_config,del_config:t._Z3_del_config,set_param_value:function(u,_,f){return t.ccall("Z3_set_param_value","void",["number","string","string"],[u,_,f])},del_context:t._Z3_del_context,inc_ref:t._Z3_inc_ref,dec_ref:t._Z3_dec_ref,update_param_value:function(u,_,f){return t.ccall("Z3_update_param_value","void",["number","string","string"],[u,_,f])},get_global_param_descrs:t._Z3_get_global_param_descrs,interrupt:t._Z3_interrupt,enable_concurrent_dec_ref:t._Z3_enable_concurrent_dec_ref,mk_params:t._Z3_mk_params,params_inc_ref:t._Z3_params_inc_ref,params_dec_ref:t._Z3_params_dec_ref,params_set_bool:t._Z3_params_set_bool,params_set_uint:t._Z3_params_set_uint,params_set_double:t._Z3_params_set_double,params_set_symbol:t._Z3_params_set_symbol,params_to_string:function(u,_){return t.ccall("Z3_params_to_string","string",["number","number"],[u,_])},params_validate:t._Z3_params_validate,param_descrs_inc_ref:t._Z3_param_descrs_inc_ref,param_descrs_dec_ref:t._Z3_param_descrs_dec_ref,param_descrs_get_kind:t._Z3_param_descrs_get_kind,param_descrs_size:function(u,_){let f=t.ccall("Z3_param_descrs_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},param_descrs_get_name:t._Z3_param_descrs_get_name,param_descrs_get_documentation:function(u,_,f){return t.ccall("Z3_param_descrs_get_documentation","string",["number","number","number"],[u,_,f])},param_descrs_to_string:function(u,_){return t.ccall("Z3_param_descrs_to_string","string",["number","number"],[u,_])},mk_int_symbol:t._Z3_mk_int_symbol,mk_string_symbol:function(u,_){return t.ccall("Z3_mk_string_symbol","number",["number","string"],[u,_])},mk_uninterpreted_sort:t._Z3_mk_uninterpreted_sort,mk_type_variable:t._Z3_mk_type_variable,mk_bool_sort:t._Z3_mk_bool_sort,mk_int_sort:t._Z3_mk_int_sort,mk_real_sort:t._Z3_mk_real_sort,mk_bv_sort:t._Z3_mk_bv_sort,mk_finite_domain_sort:t._Z3_mk_finite_domain_sort,mk_array_sort:t._Z3_mk_array_sort,mk_array_sort_n:function(u,_,f){return t.ccall("Z3_mk_array_sort_n","number",["number","number","array","number"],[u,_.length,n(_),f])},mk_tuple_sort:function(u,_,f,y){if(f.length!==y.length)throw new TypeError(`field_names and field_sorts must be the same length (got ${f.length} and {field_sorts.length})`);let T=t._malloc(4*f.length);try{return{rv:t.ccall("Z3_mk_tuple_sort","number",["number","number","number","array","array","number","number"],[u,_,f.length,n(f),n(y),m,T]),mk_tuple_decl:c(0),proj_decl:o(T,f.length)}}finally{t._free(T)}},mk_enumeration_sort:function(u,_,f){let y=t._malloc(4*f.length);try{let T=t._malloc(4*f.length);try{return{rv:t.ccall("Z3_mk_enumeration_sort","number",["number","number","number","array","number","number"],[u,_,f.length,n(f),y,T]),enum_consts:o(y,f.length),enum_testers:o(T,f.length)}}finally{t._free(T)}}finally{t._free(y)}},mk_list_sort:function(u,_,f){return{rv:t.ccall("Z3_mk_list_sort","number",["number","number","number","number","number","number","number","number","number"],[u,_,f,m,m+4,m+8,m+12,m+16,m+20]),nil_decl:c(0),is_nil_decl:c(1),cons_decl:c(2),is_cons_decl:c(3),head_decl:c(4),tail_decl:c(5)}},mk_constructor:function(u,_,f,y,T,D){if(y.length!==T.length)throw new TypeError(`field_names and sorts must be the same length (got ${y.length} and {sorts.length})`);if(y.length!==D.length)throw new TypeError(`field_names and sort_refs must be the same length (got ${y.length} and {sort_refs.length})`);return t.ccall("Z3_mk_constructor","number",["number","number","number","number","array","array","array"],[u,_,f,y.length,n(y),n(T),n(D)])},constructor_num_fields:function(u,_){let f=t.ccall("Z3_constructor_num_fields","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},del_constructor:t._Z3_del_constructor,mk_datatype:function(u,_,f){return t.ccall("Z3_mk_datatype","number",["number","number","number","array"],[u,_,f.length,n(f)])},mk_polymorphic_datatype:function(u,_,f,y){return t.ccall("Z3_mk_polymorphic_datatype","number",["number","number","number","array","number","array"],[u,_,f.length,n(f),y.length,n(y)])},mk_datatype_sort:function(u,_,f){return t.ccall("Z3_mk_datatype_sort","number",["number","number","number","array"],[u,_,f.length,n(f)])},mk_constructor_list:function(u,_){return t.ccall("Z3_mk_constructor_list","number",["number","number","array"],[u,_.length,n(_)])},del_constructor_list:t._Z3_del_constructor_list,mk_datatypes:function(u,_,f){if(_.length!==f.length)throw new TypeError(`sort_names and constructor_lists must be the same length (got ${_.length} and {constructor_lists.length})`);let y=t._malloc(4*_.length);try{let T=t.ccall("Z3_mk_datatypes","void",["number","number","array","number","array"],[u,_.length,n(_),y,n(f)]);return o(y,_.length)}finally{t._free(y)}},query_constructor:function(u,_,f){let y=t._malloc(4*f);try{let T=t.ccall("Z3_query_constructor","void",["number","number","number","number","number","number"],[u,_,f,m,m+4,y]);return{constructor:c(0),tester:c(1),accessors:o(y,f)}}finally{t._free(y)}},mk_func_decl:function(u,_,f,y){return t.ccall("Z3_mk_func_decl","number",["number","number","number","array","number"],[u,_,f.length,n(f),y])},mk_app:function(u,_,f){return t.ccall("Z3_mk_app","number",["number","number","number","array"],[u,_,f.length,n(f)])},mk_const:t._Z3_mk_const,mk_fresh_func_decl:function(u,_,f,y){return t.ccall("Z3_mk_fresh_func_decl","number",["number","string","number","array","number"],[u,_,f.length,n(f),y])},mk_fresh_const:function(u,_,f){return t.ccall("Z3_mk_fresh_const","number",["number","string","number"],[u,_,f])},mk_rec_func_decl:function(u,_,f,y){return t.ccall("Z3_mk_rec_func_decl","number",["number","number","number","array","number"],[u,_,f.length,n(f),y])},add_rec_def:function(u,_,f,y){return t.ccall("Z3_add_rec_def","void",["number","number","number","array","number"],[u,_,f.length,n(f),y])},mk_true:t._Z3_mk_true,mk_false:t._Z3_mk_false,mk_eq:t._Z3_mk_eq,mk_distinct:function(u,_){return t.ccall("Z3_mk_distinct","number",["number","number","array"],[u,_.length,n(_)])},mk_not:t._Z3_mk_not,mk_ite:t._Z3_mk_ite,mk_iff:t._Z3_mk_iff,mk_implies:t._Z3_mk_implies,mk_xor:t._Z3_mk_xor,mk_and:function(u,_){return t.ccall("Z3_mk_and","number",["number","number","array"],[u,_.length,n(_)])},mk_or:function(u,_){return t.ccall("Z3_mk_or","number",["number","number","array"],[u,_.length,n(_)])},mk_add:function(u,_){return t.ccall("Z3_mk_add","number",["number","number","array"],[u,_.length,n(_)])},mk_mul:function(u,_){return t.ccall("Z3_mk_mul","number",["number","number","array"],[u,_.length,n(_)])},mk_sub:function(u,_){return t.ccall("Z3_mk_sub","number",["number","number","array"],[u,_.length,n(_)])},mk_unary_minus:t._Z3_mk_unary_minus,mk_div:t._Z3_mk_div,mk_mod:t._Z3_mk_mod,mk_rem:t._Z3_mk_rem,mk_power:t._Z3_mk_power,mk_abs:t._Z3_mk_abs,mk_lt:t._Z3_mk_lt,mk_le:t._Z3_mk_le,mk_gt:t._Z3_mk_gt,mk_ge:t._Z3_mk_ge,mk_divides:t._Z3_mk_divides,mk_int2real:t._Z3_mk_int2real,mk_real2int:t._Z3_mk_real2int,mk_is_int:t._Z3_mk_is_int,mk_bvnot:t._Z3_mk_bvnot,mk_bvredand:t._Z3_mk_bvredand,mk_bvredor:t._Z3_mk_bvredor,mk_bvand:t._Z3_mk_bvand,mk_bvor:t._Z3_mk_bvor,mk_bvxor:t._Z3_mk_bvxor,mk_bvnand:t._Z3_mk_bvnand,mk_bvnor:t._Z3_mk_bvnor,mk_bvxnor:t._Z3_mk_bvxnor,mk_bvneg:t._Z3_mk_bvneg,mk_bvadd:t._Z3_mk_bvadd,mk_bvsub:t._Z3_mk_bvsub,mk_bvmul:t._Z3_mk_bvmul,mk_bvudiv:t._Z3_mk_bvudiv,mk_bvsdiv:t._Z3_mk_bvsdiv,mk_bvurem:t._Z3_mk_bvurem,mk_bvsrem:t._Z3_mk_bvsrem,mk_bvsmod:t._Z3_mk_bvsmod,mk_bvult:t._Z3_mk_bvult,mk_bvslt:t._Z3_mk_bvslt,mk_bvule:t._Z3_mk_bvule,mk_bvsle:t._Z3_mk_bvsle,mk_bvuge:t._Z3_mk_bvuge,mk_bvsge:t._Z3_mk_bvsge,mk_bvugt:t._Z3_mk_bvugt,mk_bvsgt:t._Z3_mk_bvsgt,mk_concat:t._Z3_mk_concat,mk_extract:t._Z3_mk_extract,mk_sign_ext:t._Z3_mk_sign_ext,mk_zero_ext:t._Z3_mk_zero_ext,mk_repeat:t._Z3_mk_repeat,mk_bit2bool:t._Z3_mk_bit2bool,mk_bvshl:t._Z3_mk_bvshl,mk_bvlshr:t._Z3_mk_bvlshr,mk_bvashr:t._Z3_mk_bvashr,mk_rotate_left:t._Z3_mk_rotate_left,mk_rotate_right:t._Z3_mk_rotate_right,mk_ext_rotate_left:t._Z3_mk_ext_rotate_left,mk_ext_rotate_right:t._Z3_mk_ext_rotate_right,mk_int2bv:t._Z3_mk_int2bv,mk_bv2int:t._Z3_mk_bv2int,mk_bvadd_no_overflow:t._Z3_mk_bvadd_no_overflow,mk_bvadd_no_underflow:t._Z3_mk_bvadd_no_underflow,mk_bvsub_no_overflow:t._Z3_mk_bvsub_no_overflow,mk_bvsub_no_underflow:t._Z3_mk_bvsub_no_underflow,mk_bvsdiv_no_overflow:t._Z3_mk_bvsdiv_no_overflow,mk_bvneg_no_overflow:t._Z3_mk_bvneg_no_overflow,mk_bvmul_no_overflow:t._Z3_mk_bvmul_no_overflow,mk_bvmul_no_underflow:t._Z3_mk_bvmul_no_underflow,mk_select:t._Z3_mk_select,mk_select_n:function(u,_,f){return t.ccall("Z3_mk_select_n","number",["number","number","number","array"],[u,_,f.length,n(f)])},mk_store:t._Z3_mk_store,mk_store_n:function(u,_,f,y){return t.ccall("Z3_mk_store_n","number",["number","number","number","array","number"],[u,_,f.length,n(f),y])},mk_const_array:t._Z3_mk_const_array,mk_map:function(u,_,f){return t.ccall("Z3_mk_map","number",["number","number","number","array"],[u,_,f.length,n(f)])},mk_array_default:t._Z3_mk_array_default,mk_as_array:t._Z3_mk_as_array,mk_set_has_size:t._Z3_mk_set_has_size,mk_set_sort:t._Z3_mk_set_sort,mk_empty_set:t._Z3_mk_empty_set,mk_full_set:t._Z3_mk_full_set,mk_set_add:t._Z3_mk_set_add,mk_set_del:t._Z3_mk_set_del,mk_set_union:function(u,_){return t.ccall("Z3_mk_set_union","number",["number","number","array"],[u,_.length,n(_)])},mk_set_intersect:function(u,_){return t.ccall("Z3_mk_set_intersect","number",["number","number","array"],[u,_.length,n(_)])},mk_set_difference:t._Z3_mk_set_difference,mk_set_complement:t._Z3_mk_set_complement,mk_set_member:t._Z3_mk_set_member,mk_set_subset:t._Z3_mk_set_subset,mk_array_ext:t._Z3_mk_array_ext,mk_numeral:function(u,_,f){return t.ccall("Z3_mk_numeral","number",["number","string","number"],[u,_,f])},mk_real:t._Z3_mk_real,mk_real_int64:t._Z3_mk_real_int64,mk_int:t._Z3_mk_int,mk_unsigned_int:t._Z3_mk_unsigned_int,mk_int64:t._Z3_mk_int64,mk_unsigned_int64:t._Z3_mk_unsigned_int64,mk_bv_numeral:function(u,_){return t.ccall("Z3_mk_bv_numeral","number",["number","number","array"],[u,_.length,i(_)])},mk_seq_sort:t._Z3_mk_seq_sort,is_seq_sort:function(u,_){return t.ccall("Z3_is_seq_sort","boolean",["number","number"],[u,_])},get_seq_sort_basis:t._Z3_get_seq_sort_basis,mk_re_sort:t._Z3_mk_re_sort,is_re_sort:function(u,_){return t.ccall("Z3_is_re_sort","boolean",["number","number"],[u,_])},get_re_sort_basis:t._Z3_get_re_sort_basis,mk_string_sort:t._Z3_mk_string_sort,mk_char_sort:t._Z3_mk_char_sort,is_string_sort:function(u,_){return t.ccall("Z3_is_string_sort","boolean",["number","number"],[u,_])},is_char_sort:function(u,_){return t.ccall("Z3_is_char_sort","boolean",["number","number"],[u,_])},mk_string:function(u,_){return t.ccall("Z3_mk_string","number",["number","string"],[u,_])},mk_lstring:function(u,_,f){return t.ccall("Z3_mk_lstring","number",["number","number","string"],[u,_,f])},mk_u32string:function(u,_){return t.ccall("Z3_mk_u32string","number",["number","number","array"],[u,_.length,n(_)])},is_string:function(u,_){return t.ccall("Z3_is_string","boolean",["number","number"],[u,_])},get_string:function(u,_){return t.ccall("Z3_get_string","string",["number","number"],[u,_])},get_string_length:function(u,_){let f=t.ccall("Z3_get_string_length","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_string_contents:function(u,_,f){let y=t._malloc(4*f);try{let T=t.ccall("Z3_get_string_contents","void",["number","number","number","number"],[u,_,f,y]);return o(y,f)}finally{t._free(y)}},mk_seq_empty:t._Z3_mk_seq_empty,mk_seq_unit:t._Z3_mk_seq_unit,mk_seq_concat:function(u,_){return t.ccall("Z3_mk_seq_concat","number",["number","number","array"],[u,_.length,n(_)])},mk_seq_prefix:t._Z3_mk_seq_prefix,mk_seq_suffix:t._Z3_mk_seq_suffix,mk_seq_contains:t._Z3_mk_seq_contains,mk_str_lt:t._Z3_mk_str_lt,mk_str_le:t._Z3_mk_str_le,mk_seq_extract:t._Z3_mk_seq_extract,mk_seq_replace:t._Z3_mk_seq_replace,mk_seq_at:t._Z3_mk_seq_at,mk_seq_nth:t._Z3_mk_seq_nth,mk_seq_length:t._Z3_mk_seq_length,mk_seq_index:t._Z3_mk_seq_index,mk_seq_last_index:t._Z3_mk_seq_last_index,mk_seq_map:t._Z3_mk_seq_map,mk_seq_mapi:t._Z3_mk_seq_mapi,mk_seq_foldl:t._Z3_mk_seq_foldl,mk_seq_foldli:t._Z3_mk_seq_foldli,mk_str_to_int:t._Z3_mk_str_to_int,mk_int_to_str:t._Z3_mk_int_to_str,mk_string_to_code:t._Z3_mk_string_to_code,mk_string_from_code:t._Z3_mk_string_from_code,mk_ubv_to_str:t._Z3_mk_ubv_to_str,mk_sbv_to_str:t._Z3_mk_sbv_to_str,mk_seq_to_re:t._Z3_mk_seq_to_re,mk_seq_in_re:t._Z3_mk_seq_in_re,mk_re_plus:t._Z3_mk_re_plus,mk_re_star:t._Z3_mk_re_star,mk_re_option:t._Z3_mk_re_option,mk_re_union:function(u,_){return t.ccall("Z3_mk_re_union","number",["number","number","array"],[u,_.length,n(_)])},mk_re_concat:function(u,_){return t.ccall("Z3_mk_re_concat","number",["number","number","array"],[u,_.length,n(_)])},mk_re_range:t._Z3_mk_re_range,mk_re_allchar:t._Z3_mk_re_allchar,mk_re_loop:t._Z3_mk_re_loop,mk_re_power:t._Z3_mk_re_power,mk_re_intersect:function(u,_){return t.ccall("Z3_mk_re_intersect","number",["number","number","array"],[u,_.length,n(_)])},mk_re_complement:t._Z3_mk_re_complement,mk_re_diff:t._Z3_mk_re_diff,mk_re_empty:t._Z3_mk_re_empty,mk_re_full:t._Z3_mk_re_full,mk_char:t._Z3_mk_char,mk_char_le:t._Z3_mk_char_le,mk_char_to_int:t._Z3_mk_char_to_int,mk_char_to_bv:t._Z3_mk_char_to_bv,mk_char_from_bv:t._Z3_mk_char_from_bv,mk_char_is_digit:t._Z3_mk_char_is_digit,mk_linear_order:t._Z3_mk_linear_order,mk_partial_order:t._Z3_mk_partial_order,mk_piecewise_linear_order:t._Z3_mk_piecewise_linear_order,mk_tree_order:t._Z3_mk_tree_order,mk_transitive_closure:t._Z3_mk_transitive_closure,mk_pattern:function(u,_){return t.ccall("Z3_mk_pattern","number",["number","number","array"],[u,_.length,n(_)])},mk_bound:t._Z3_mk_bound,mk_forall:function(u,_,f,y,T,D){if(y.length!==T.length)throw new TypeError(`sorts and decl_names must be the same length (got ${y.length} and {decl_names.length})`);return t.ccall("Z3_mk_forall","number",["number","number","number","array","number","array","array","number"],[u,_,f.length,n(f),y.length,n(y),n(T),D])},mk_exists:function(u,_,f,y,T,D){if(y.length!==T.length)throw new TypeError(`sorts and decl_names must be the same length (got ${y.length} and {decl_names.length})`);return t.ccall("Z3_mk_exists","number",["number","number","number","array","number","array","array","number"],[u,_,f.length,n(f),y.length,n(y),n(T),D])},mk_quantifier:function(u,_,f,y,T,D,j){if(T.length!==D.length)throw new TypeError(`sorts and decl_names must be the same length (got ${T.length} and {decl_names.length})`);return t.ccall("Z3_mk_quantifier","number",["number","boolean","number","number","array","number","array","array","number"],[u,_,f,y.length,n(y),T.length,n(T),n(D),j])},mk_quantifier_ex:function(u,_,f,y,T,D,j,nt,H,g){if(nt.length!==H.length)throw new TypeError(`sorts and decl_names must be the same length (got ${nt.length} and {decl_names.length})`);return t.ccall("Z3_mk_quantifier_ex","number",["number","boolean","number","number","number","number","array","number","array","number","array","array","number"],[u,_,f,y,T,D.length,n(D),j.length,n(j),nt.length,n(nt),n(H),g])},mk_forall_const:function(u,_,f,y,T){return t.ccall("Z3_mk_forall_const","number",["number","number","number","array","number","array","number"],[u,_,f.length,n(f),y.length,n(y),T])},mk_exists_const:function(u,_,f,y,T){return t.ccall("Z3_mk_exists_const","number",["number","number","number","array","number","array","number"],[u,_,f.length,n(f),y.length,n(y),T])},mk_quantifier_const:function(u,_,f,y,T,D){return t.ccall("Z3_mk_quantifier_const","number",["number","boolean","number","number","array","number","array","number"],[u,_,f,y.length,n(y),T.length,n(T),D])},mk_quantifier_const_ex:function(u,_,f,y,T,D,j,nt,H){return t.ccall("Z3_mk_quantifier_const_ex","number",["number","boolean","number","number","number","number","array","number","array","number","array","number"],[u,_,f,y,T,D.length,n(D),j.length,n(j),nt.length,n(nt),H])},mk_lambda:function(u,_,f,y){if(_.length!==f.length)throw new TypeError(`sorts and decl_names must be the same length (got ${_.length} and {decl_names.length})`);return t.ccall("Z3_mk_lambda","number",["number","number","array","array","number"],[u,_.length,n(_),n(f),y])},mk_lambda_const:function(u,_,f){return t.ccall("Z3_mk_lambda_const","number",["number","number","array","number"],[u,_.length,n(_),f])},get_symbol_kind:t._Z3_get_symbol_kind,get_symbol_int:t._Z3_get_symbol_int,get_symbol_string:function(u,_){return t.ccall("Z3_get_symbol_string","string",["number","number"],[u,_])},get_sort_name:t._Z3_get_sort_name,get_sort_id:function(u,_){let f=t.ccall("Z3_get_sort_id","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},sort_to_ast:t._Z3_sort_to_ast,is_eq_sort:function(u,_,f){return t.ccall("Z3_is_eq_sort","boolean",["number","number","number"],[u,_,f])},get_sort_kind:t._Z3_get_sort_kind,get_bv_sort_size:function(u,_){let f=t.ccall("Z3_get_bv_sort_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_finite_domain_sort_size:function(u,_){return t.ccall("Z3_get_finite_domain_sort_size","boolean",["number","number","number"],[u,_,m])?q(0):null},get_array_arity:function(u,_){let f=t.ccall("Z3_get_array_arity","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_array_sort_domain:t._Z3_get_array_sort_domain,get_array_sort_domain_n:t._Z3_get_array_sort_domain_n,get_array_sort_range:t._Z3_get_array_sort_range,get_tuple_sort_mk_decl:t._Z3_get_tuple_sort_mk_decl,get_tuple_sort_num_fields:function(u,_){let f=t.ccall("Z3_get_tuple_sort_num_fields","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_tuple_sort_field_decl:t._Z3_get_tuple_sort_field_decl,is_recursive_datatype_sort:function(u,_){return t.ccall("Z3_is_recursive_datatype_sort","boolean",["number","number"],[u,_])},get_datatype_sort_num_constructors:function(u,_){let f=t.ccall("Z3_get_datatype_sort_num_constructors","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_datatype_sort_constructor:t._Z3_get_datatype_sort_constructor,get_datatype_sort_recognizer:t._Z3_get_datatype_sort_recognizer,get_datatype_sort_constructor_accessor:t._Z3_get_datatype_sort_constructor_accessor,datatype_update_field:t._Z3_datatype_update_field,get_relation_arity:function(u,_){let f=t.ccall("Z3_get_relation_arity","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_relation_column:t._Z3_get_relation_column,mk_atmost:function(u,_,f){return t.ccall("Z3_mk_atmost","number",["number","number","array","number"],[u,_.length,n(_),f])},mk_atleast:function(u,_,f){return t.ccall("Z3_mk_atleast","number",["number","number","array","number"],[u,_.length,n(_),f])},mk_pble:function(u,_,f,y){if(_.length!==f.length)throw new TypeError(`args and coeffs must be the same length (got ${_.length} and {coeffs.length})`);return t.ccall("Z3_mk_pble","number",["number","number","array","array","number"],[u,_.length,n(_),n(f),y])},mk_pbge:function(u,_,f,y){if(_.length!==f.length)throw new TypeError(`args and coeffs must be the same length (got ${_.length} and {coeffs.length})`);return t.ccall("Z3_mk_pbge","number",["number","number","array","array","number"],[u,_.length,n(_),n(f),y])},mk_pbeq:function(u,_,f,y){if(_.length!==f.length)throw new TypeError(`args and coeffs must be the same length (got ${_.length} and {coeffs.length})`);return t.ccall("Z3_mk_pbeq","number",["number","number","array","array","number"],[u,_.length,n(_),n(f),y])},func_decl_to_ast:t._Z3_func_decl_to_ast,is_eq_func_decl:function(u,_,f){return t.ccall("Z3_is_eq_func_decl","boolean",["number","number","number"],[u,_,f])},get_func_decl_id:function(u,_){let f=t.ccall("Z3_get_func_decl_id","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_decl_name:t._Z3_get_decl_name,get_decl_kind:t._Z3_get_decl_kind,get_domain_size:function(u,_){let f=t.ccall("Z3_get_domain_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_arity:function(u,_){let f=t.ccall("Z3_get_arity","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_domain:t._Z3_get_domain,get_range:t._Z3_get_range,get_decl_num_parameters:function(u,_){let f=t.ccall("Z3_get_decl_num_parameters","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_decl_parameter_kind:t._Z3_get_decl_parameter_kind,get_decl_int_parameter:t._Z3_get_decl_int_parameter,get_decl_double_parameter:t._Z3_get_decl_double_parameter,get_decl_symbol_parameter:t._Z3_get_decl_symbol_parameter,get_decl_sort_parameter:t._Z3_get_decl_sort_parameter,get_decl_ast_parameter:t._Z3_get_decl_ast_parameter,get_decl_func_decl_parameter:t._Z3_get_decl_func_decl_parameter,get_decl_rational_parameter:function(u,_,f){return t.ccall("Z3_get_decl_rational_parameter","string",["number","number","number"],[u,_,f])},app_to_ast:t._Z3_app_to_ast,get_app_decl:t._Z3_get_app_decl,get_app_num_args:function(u,_){let f=t.ccall("Z3_get_app_num_args","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_app_arg:t._Z3_get_app_arg,is_eq_ast:function(u,_,f){return t.ccall("Z3_is_eq_ast","boolean",["number","number","number"],[u,_,f])},get_ast_id:function(u,_){let f=t.ccall("Z3_get_ast_id","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_ast_hash:function(u,_){let f=t.ccall("Z3_get_ast_hash","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_sort:t._Z3_get_sort,is_well_sorted:function(u,_){return t.ccall("Z3_is_well_sorted","boolean",["number","number"],[u,_])},get_bool_value:t._Z3_get_bool_value,get_ast_kind:t._Z3_get_ast_kind,is_app:function(u,_){return t.ccall("Z3_is_app","boolean",["number","number"],[u,_])},is_ground:function(u,_){return t.ccall("Z3_is_ground","boolean",["number","number"],[u,_])},get_depth:function(u,_){let f=t.ccall("Z3_get_depth","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},is_numeral_ast:function(u,_){return t.ccall("Z3_is_numeral_ast","boolean",["number","number"],[u,_])},is_algebraic_number:function(u,_){return t.ccall("Z3_is_algebraic_number","boolean",["number","number"],[u,_])},to_app:t._Z3_to_app,to_func_decl:t._Z3_to_func_decl,get_numeral_string:function(u,_){return t.ccall("Z3_get_numeral_string","string",["number","number"],[u,_])},get_numeral_binary_string:function(u,_){return t.ccall("Z3_get_numeral_binary_string","string",["number","number"],[u,_])},get_numeral_decimal_string:function(u,_,f){return t.ccall("Z3_get_numeral_decimal_string","string",["number","number","number"],[u,_,f])},get_numeral_double:t._Z3_get_numeral_double,get_numerator:t._Z3_get_numerator,get_denominator:t._Z3_get_denominator,get_numeral_small:function(u,_){return t.ccall("Z3_get_numeral_small","boolean",["number","number","number","number"],[u,_,m,m+8])?{num:C(0),den:C(1)}:null},get_numeral_int:function(u,_){return t.ccall("Z3_get_numeral_int","boolean",["number","number","number"],[u,_,m])?s(0):null},get_numeral_uint:function(u,_){return t.ccall("Z3_get_numeral_uint","boolean",["number","number","number"],[u,_,m])?c(0):null},get_numeral_uint64:function(u,_){return t.ccall("Z3_get_numeral_uint64","boolean",["number","number","number"],[u,_,m])?q(0):null},get_numeral_int64:function(u,_){return t.ccall("Z3_get_numeral_int64","boolean",["number","number","number"],[u,_,m])?C(0):null},get_numeral_rational_int64:function(u,_){return t.ccall("Z3_get_numeral_rational_int64","boolean",["number","number","number","number"],[u,_,m,m+8])?{num:C(0),den:C(1)}:null},get_algebraic_number_lower:t._Z3_get_algebraic_number_lower,get_algebraic_number_upper:t._Z3_get_algebraic_number_upper,pattern_to_ast:t._Z3_pattern_to_ast,get_pattern_num_terms:function(u,_){let f=t.ccall("Z3_get_pattern_num_terms","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_pattern:t._Z3_get_pattern,get_index_value:function(u,_){let f=t.ccall("Z3_get_index_value","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},is_quantifier_forall:function(u,_){return t.ccall("Z3_is_quantifier_forall","boolean",["number","number"],[u,_])},is_quantifier_exists:function(u,_){return t.ccall("Z3_is_quantifier_exists","boolean",["number","number"],[u,_])},is_lambda:function(u,_){return t.ccall("Z3_is_lambda","boolean",["number","number"],[u,_])},get_quantifier_weight:function(u,_){let f=t.ccall("Z3_get_quantifier_weight","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_quantifier_skolem_id:t._Z3_get_quantifier_skolem_id,get_quantifier_id:t._Z3_get_quantifier_id,get_quantifier_num_patterns:function(u,_){let f=t.ccall("Z3_get_quantifier_num_patterns","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_quantifier_pattern_ast:t._Z3_get_quantifier_pattern_ast,get_quantifier_num_no_patterns:function(u,_){let f=t.ccall("Z3_get_quantifier_num_no_patterns","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_quantifier_no_pattern_ast:t._Z3_get_quantifier_no_pattern_ast,get_quantifier_num_bound:function(u,_){let f=t.ccall("Z3_get_quantifier_num_bound","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},get_quantifier_bound_name:t._Z3_get_quantifier_bound_name,get_quantifier_bound_sort:t._Z3_get_quantifier_bound_sort,get_quantifier_body:t._Z3_get_quantifier_body,simplify:function(u,_){return t.async_call(t._async_Z3_simplify,u,_)},simplify_ex:function(u,_,f){return t.async_call(t._async_Z3_simplify_ex,u,_,f)},simplify_get_help:function(u){return t.ccall("Z3_simplify_get_help","string",["number"],[u])},simplify_get_param_descrs:t._Z3_simplify_get_param_descrs,update_term:function(u,_,f){return t.ccall("Z3_update_term","number",["number","number","number","array"],[u,_,f.length,n(f)])},substitute:function(u,_,f,y){if(f.length!==y.length)throw new TypeError(`from and to must be the same length (got ${f.length} and {to.length})`);return t.ccall("Z3_substitute","number",["number","number","number","array","array"],[u,_,f.length,n(f),n(y)])},substitute_vars:function(u,_,f){return t.ccall("Z3_substitute_vars","number",["number","number","number","array"],[u,_,f.length,n(f)])},substitute_funs:function(u,_,f,y){if(f.length!==y.length)throw new TypeError(`from and to must be the same length (got ${f.length} and {to.length})`);return t.ccall("Z3_substitute_funs","number",["number","number","number","array","array"],[u,_,f.length,n(f),n(y)])},translate:t._Z3_translate,mk_model:t._Z3_mk_model,model_inc_ref:t._Z3_model_inc_ref,model_dec_ref:t._Z3_model_dec_ref,model_eval:function(u,_,f,y){return t.ccall("Z3_model_eval","boolean",["number","number","number","boolean","number"],[u,_,f,y,m])?c(0):null},model_get_const_interp:t._Z3_model_get_const_interp,model_has_interp:function(u,_,f){return t.ccall("Z3_model_has_interp","boolean",["number","number","number"],[u,_,f])},model_get_func_interp:t._Z3_model_get_func_interp,model_get_num_consts:function(u,_){let f=t.ccall("Z3_model_get_num_consts","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},model_get_const_decl:t._Z3_model_get_const_decl,model_get_num_funcs:function(u,_){let f=t.ccall("Z3_model_get_num_funcs","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},model_get_func_decl:t._Z3_model_get_func_decl,model_get_num_sorts:function(u,_){let f=t.ccall("Z3_model_get_num_sorts","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},model_get_sort:t._Z3_model_get_sort,model_get_sort_universe:t._Z3_model_get_sort_universe,model_translate:t._Z3_model_translate,is_as_array:function(u,_){return t.ccall("Z3_is_as_array","boolean",["number","number"],[u,_])},get_as_array_func_decl:t._Z3_get_as_array_func_decl,add_func_interp:t._Z3_add_func_interp,add_const_interp:t._Z3_add_const_interp,func_interp_inc_ref:t._Z3_func_interp_inc_ref,func_interp_dec_ref:t._Z3_func_interp_dec_ref,func_interp_get_num_entries:function(u,_){let f=t.ccall("Z3_func_interp_get_num_entries","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},func_interp_get_entry:t._Z3_func_interp_get_entry,func_interp_get_else:t._Z3_func_interp_get_else,func_interp_set_else:t._Z3_func_interp_set_else,func_interp_get_arity:function(u,_){let f=t.ccall("Z3_func_interp_get_arity","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},func_interp_add_entry:t._Z3_func_interp_add_entry,func_entry_inc_ref:t._Z3_func_entry_inc_ref,func_entry_dec_ref:t._Z3_func_entry_dec_ref,func_entry_get_value:t._Z3_func_entry_get_value,func_entry_get_num_args:function(u,_){let f=t.ccall("Z3_func_entry_get_num_args","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},func_entry_get_arg:t._Z3_func_entry_get_arg,open_log:function(u){return t.ccall("Z3_open_log","boolean",["string"],[u])},append_log:function(u){return t.ccall("Z3_append_log","void",["string"],[u])},close_log:t._Z3_close_log,toggle_warning_messages:t._Z3_toggle_warning_messages,set_ast_print_mode:t._Z3_set_ast_print_mode,ast_to_string:function(u,_){return t.ccall("Z3_ast_to_string","string",["number","number"],[u,_])},pattern_to_string:function(u,_){return t.ccall("Z3_pattern_to_string","string",["number","number"],[u,_])},sort_to_string:function(u,_){return t.ccall("Z3_sort_to_string","string",["number","number"],[u,_])},func_decl_to_string:function(u,_){return t.ccall("Z3_func_decl_to_string","string",["number","number"],[u,_])},model_to_string:function(u,_){return t.ccall("Z3_model_to_string","string",["number","number"],[u,_])},benchmark_to_smtlib_string:function(u,_,f,y,T,D,j){return t.ccall("Z3_benchmark_to_smtlib_string","string",["number","string","string","string","string","number","array","number"],[u,_,f,y,T,D.length,n(D),j])},parse_smtlib2_string:function(u,_,f,y,T,D){if(f.length!==y.length)throw new TypeError(`sort_names and sorts must be the same length (got ${f.length} and {sorts.length})`);if(T.length!==D.length)throw new TypeError(`decl_names and decls must be the same length (got ${T.length} and {decls.length})`);return t.ccall("Z3_parse_smtlib2_string","number",["number","string","number","array","array","number","array","array"],[u,_,f.length,n(f),n(y),T.length,n(T),n(D)])},parse_smtlib2_file:function(u,_,f,y,T,D){if(f.length!==y.length)throw new TypeError(`sort_names and sorts must be the same length (got ${f.length} and {sorts.length})`);if(T.length!==D.length)throw new TypeError(`decl_names and decls must be the same length (got ${T.length} and {decls.length})`);return t.ccall("Z3_parse_smtlib2_file","number",["number","string","number","array","array","number","array","array"],[u,_,f.length,n(f),n(y),T.length,n(T),n(D)])},eval_smtlib2_string:async function(u,_){return await t.async_call(()=>t.ccall("async_Z3_eval_smtlib2_string","void",["number","string"],[u,_]))},mk_parser_context:t._Z3_mk_parser_context,parser_context_inc_ref:t._Z3_parser_context_inc_ref,parser_context_dec_ref:t._Z3_parser_context_dec_ref,parser_context_add_sort:t._Z3_parser_context_add_sort,parser_context_add_decl:t._Z3_parser_context_add_decl,parser_context_from_string:function(u,_,f){return t.ccall("Z3_parser_context_from_string","number",["number","number","string"],[u,_,f])},get_error_code:t._Z3_get_error_code,set_error:t._Z3_set_error,get_error_msg:function(u,_){return t.ccall("Z3_get_error_msg","string",["number","number"],[u,_])},get_version:function(){return t.ccall("Z3_get_version","void",["number","number","number","number"],[m,m+4,m+8,m+12]),{major:c(0),minor:c(1),build_number:c(2),revision_number:c(3)}},get_full_version:function(){return t.ccall("Z3_get_full_version","string",[],[])},enable_trace:function(u){return t.ccall("Z3_enable_trace","void",["string"],[u])},disable_trace:function(u){return t.ccall("Z3_disable_trace","void",["string"],[u])},reset_memory:t._Z3_reset_memory,finalize_memory:t._Z3_finalize_memory,mk_goal:t._Z3_mk_goal,goal_inc_ref:t._Z3_goal_inc_ref,goal_dec_ref:t._Z3_goal_dec_ref,goal_precision:t._Z3_goal_precision,goal_assert:t._Z3_goal_assert,goal_inconsistent:function(u,_){return t.ccall("Z3_goal_inconsistent","boolean",["number","number"],[u,_])},goal_depth:function(u,_){let f=t.ccall("Z3_goal_depth","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},goal_reset:t._Z3_goal_reset,goal_size:function(u,_){let f=t.ccall("Z3_goal_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},goal_formula:t._Z3_goal_formula,goal_num_exprs:function(u,_){let f=t.ccall("Z3_goal_num_exprs","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},goal_is_decided_sat:function(u,_){return t.ccall("Z3_goal_is_decided_sat","boolean",["number","number"],[u,_])},goal_is_decided_unsat:function(u,_){return t.ccall("Z3_goal_is_decided_unsat","boolean",["number","number"],[u,_])},goal_translate:t._Z3_goal_translate,goal_convert_model:t._Z3_goal_convert_model,goal_to_string:function(u,_){return t.ccall("Z3_goal_to_string","string",["number","number"],[u,_])},goal_to_dimacs_string:function(u,_,f){return t.ccall("Z3_goal_to_dimacs_string","string",["number","number","boolean"],[u,_,f])},mk_tactic:function(u,_){return t.ccall("Z3_mk_tactic","number",["number","string"],[u,_])},tactic_inc_ref:t._Z3_tactic_inc_ref,tactic_dec_ref:t._Z3_tactic_dec_ref,mk_probe:function(u,_){return t.ccall("Z3_mk_probe","number",["number","string"],[u,_])},probe_inc_ref:t._Z3_probe_inc_ref,probe_dec_ref:t._Z3_probe_dec_ref,tactic_and_then:t._Z3_tactic_and_then,tactic_or_else:t._Z3_tactic_or_else,tactic_par_or:function(u,_){return t.ccall("Z3_tactic_par_or","number",["number","number","array"],[u,_.length,n(_)])},tactic_par_and_then:t._Z3_tactic_par_and_then,tactic_try_for:t._Z3_tactic_try_for,tactic_when:t._Z3_tactic_when,tactic_cond:t._Z3_tactic_cond,tactic_repeat:t._Z3_tactic_repeat,tactic_skip:t._Z3_tactic_skip,tactic_fail:t._Z3_tactic_fail,tactic_fail_if:t._Z3_tactic_fail_if,tactic_fail_if_not_decided:t._Z3_tactic_fail_if_not_decided,tactic_using_params:t._Z3_tactic_using_params,mk_simplifier:function(u,_){return t.ccall("Z3_mk_simplifier","number",["number","string"],[u,_])},simplifier_inc_ref:t._Z3_simplifier_inc_ref,simplifier_dec_ref:t._Z3_simplifier_dec_ref,solver_add_simplifier:t._Z3_solver_add_simplifier,simplifier_and_then:t._Z3_simplifier_and_then,simplifier_using_params:t._Z3_simplifier_using_params,get_num_simplifiers:function(u){let _=t.ccall("Z3_get_num_simplifiers","number",["number"],[u]);return _=new Uint32Array([_])[0],_},get_simplifier_name:function(u,_){return t.ccall("Z3_get_simplifier_name","string",["number","number"],[u,_])},simplifier_get_help:function(u,_){return t.ccall("Z3_simplifier_get_help","string",["number","number"],[u,_])},simplifier_get_param_descrs:t._Z3_simplifier_get_param_descrs,simplifier_get_descr:function(u,_){return t.ccall("Z3_simplifier_get_descr","string",["number","string"],[u,_])},probe_const:t._Z3_probe_const,probe_lt:t._Z3_probe_lt,probe_gt:t._Z3_probe_gt,probe_le:t._Z3_probe_le,probe_ge:t._Z3_probe_ge,probe_eq:t._Z3_probe_eq,probe_and:t._Z3_probe_and,probe_or:t._Z3_probe_or,probe_not:t._Z3_probe_not,get_num_tactics:function(u){let _=t.ccall("Z3_get_num_tactics","number",["number"],[u]);return _=new Uint32Array([_])[0],_},get_tactic_name:function(u,_){return t.ccall("Z3_get_tactic_name","string",["number","number"],[u,_])},get_num_probes:function(u){let _=t.ccall("Z3_get_num_probes","number",["number"],[u]);return _=new Uint32Array([_])[0],_},get_probe_name:function(u,_){return t.ccall("Z3_get_probe_name","string",["number","number"],[u,_])},tactic_get_help:function(u,_){return t.ccall("Z3_tactic_get_help","string",["number","number"],[u,_])},tactic_get_param_descrs:t._Z3_tactic_get_param_descrs,tactic_get_descr:function(u,_){return t.ccall("Z3_tactic_get_descr","string",["number","string"],[u,_])},probe_get_descr:function(u,_){return t.ccall("Z3_probe_get_descr","string",["number","string"],[u,_])},probe_apply:t._Z3_probe_apply,tactic_apply:function(u,_,f){return t.async_call(t._async_Z3_tactic_apply,u,_,f)},tactic_apply_ex:function(u,_,f,y){return t.async_call(t._async_Z3_tactic_apply_ex,u,_,f,y)},apply_result_inc_ref:t._Z3_apply_result_inc_ref,apply_result_dec_ref:t._Z3_apply_result_dec_ref,apply_result_to_string:function(u,_){return t.ccall("Z3_apply_result_to_string","string",["number","number"],[u,_])},apply_result_get_num_subgoals:function(u,_){let f=t.ccall("Z3_apply_result_get_num_subgoals","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},apply_result_get_subgoal:t._Z3_apply_result_get_subgoal,mk_solver:t._Z3_mk_solver,mk_simple_solver:t._Z3_mk_simple_solver,mk_solver_for_logic:t._Z3_mk_solver_for_logic,mk_solver_from_tactic:t._Z3_mk_solver_from_tactic,solver_translate:t._Z3_solver_translate,solver_import_model_converter:t._Z3_solver_import_model_converter,solver_get_help:function(u,_){return t.ccall("Z3_solver_get_help","string",["number","number"],[u,_])},solver_get_param_descrs:t._Z3_solver_get_param_descrs,solver_set_params:t._Z3_solver_set_params,solver_inc_ref:t._Z3_solver_inc_ref,solver_dec_ref:t._Z3_solver_dec_ref,solver_interrupt:t._Z3_solver_interrupt,solver_push:t._Z3_solver_push,solver_pop:t._Z3_solver_pop,solver_reset:t._Z3_solver_reset,solver_get_num_scopes:function(u,_){let f=t.ccall("Z3_solver_get_num_scopes","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},solver_assert:t._Z3_solver_assert,solver_assert_and_track:t._Z3_solver_assert_and_track,solver_from_file:function(u,_,f){return t.ccall("Z3_solver_from_file","void",["number","number","string"],[u,_,f])},solver_from_string:function(u,_,f){return t.ccall("Z3_solver_from_string","void",["number","number","string"],[u,_,f])},solver_get_assertions:t._Z3_solver_get_assertions,solver_get_units:t._Z3_solver_get_units,solver_get_trail:t._Z3_solver_get_trail,solver_get_non_units:t._Z3_solver_get_non_units,solver_get_levels:function(u,_,f,y){return t.ccall("Z3_solver_get_levels","void",["number","number","number","number","array"],[u,_,f,y.length,n(y)])},solver_congruence_root:t._Z3_solver_congruence_root,solver_congruence_next:t._Z3_solver_congruence_next,solver_congruence_explain:t._Z3_solver_congruence_explain,solver_solve_for:t._Z3_solver_solve_for,solver_next_split:function(u,_,f,y,T){return t.ccall("Z3_solver_next_split","boolean",["number","number","number","number","number"],[u,_,f,y,T])},solver_propagate_declare:function(u,_,f,y){return t.ccall("Z3_solver_propagate_declare","number",["number","number","number","array","number"],[u,_,f.length,n(f),y])},solver_propagate_register:t._Z3_solver_propagate_register,solver_propagate_register_cb:t._Z3_solver_propagate_register_cb,solver_propagate_consequence:function(u,_,f,y,T,D){if(y.length!==T.length)throw new TypeError(`eq_lhs and eq_rhs must be the same length (got ${y.length} and {eq_rhs.length})`);return t.ccall("Z3_solver_propagate_consequence","boolean",["number","number","number","array","number","array","array","number"],[u,_,f.length,n(f),y.length,n(y),n(T),D])},solver_set_initial_value:t._Z3_solver_set_initial_value,solver_check:function(u,_){return t.async_call(t._async_Z3_solver_check,u,_)},solver_check_assumptions:async function(u,_,f){return await t.async_call(()=>t.ccall("async_Z3_solver_check_assumptions","void",["number","number","number","array"],[u,_,f.length,n(f)]))},get_implied_equalities:function(u,_,f){let y=t._malloc(4*f.length);try{return{rv:t.ccall("Z3_get_implied_equalities","number",["number","number","number","array","number"],[u,_,f.length,n(f),y]),class_ids:o(y,f.length)}}finally{t._free(y)}},solver_get_consequences:function(u,_,f,y,T){return t.async_call(t._async_Z3_solver_get_consequences,u,_,f,y,T)},solver_cube:function(u,_,f,y){return t.async_call(t._async_Z3_solver_cube,u,_,f,y)},solver_get_model:t._Z3_solver_get_model,solver_get_proof:t._Z3_solver_get_proof,solver_get_unsat_core:t._Z3_solver_get_unsat_core,solver_get_reason_unknown:function(u,_){return t.ccall("Z3_solver_get_reason_unknown","string",["number","number"],[u,_])},solver_get_statistics:t._Z3_solver_get_statistics,solver_to_string:function(u,_){return t.ccall("Z3_solver_to_string","string",["number","number"],[u,_])},solver_to_dimacs_string:function(u,_,f){return t.ccall("Z3_solver_to_dimacs_string","string",["number","number","boolean"],[u,_,f])},stats_to_string:function(u,_){return t.ccall("Z3_stats_to_string","string",["number","number"],[u,_])},stats_inc_ref:t._Z3_stats_inc_ref,stats_dec_ref:t._Z3_stats_dec_ref,stats_size:function(u,_){let f=t.ccall("Z3_stats_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},stats_get_key:function(u,_,f){return t.ccall("Z3_stats_get_key","string",["number","number","number"],[u,_,f])},stats_is_uint:function(u,_,f){return t.ccall("Z3_stats_is_uint","boolean",["number","number","number"],[u,_,f])},stats_is_double:function(u,_,f){return t.ccall("Z3_stats_is_double","boolean",["number","number","number"],[u,_,f])},stats_get_uint_value:function(u,_,f){let y=t.ccall("Z3_stats_get_uint_value","number",["number","number","number"],[u,_,f]);return y=new Uint32Array([y])[0],y},stats_get_double_value:t._Z3_stats_get_double_value,get_estimated_alloc_size:t._Z3_get_estimated_alloc_size,algebraic_is_value:function(u,_){return t.ccall("Z3_algebraic_is_value","boolean",["number","number"],[u,_])},algebraic_is_pos:function(u,_){return t.ccall("Z3_algebraic_is_pos","boolean",["number","number"],[u,_])},algebraic_is_neg:function(u,_){return t.ccall("Z3_algebraic_is_neg","boolean",["number","number"],[u,_])},algebraic_is_zero:function(u,_){return t.ccall("Z3_algebraic_is_zero","boolean",["number","number"],[u,_])},algebraic_sign:t._Z3_algebraic_sign,algebraic_add:t._Z3_algebraic_add,algebraic_sub:t._Z3_algebraic_sub,algebraic_mul:t._Z3_algebraic_mul,algebraic_div:t._Z3_algebraic_div,algebraic_root:t._Z3_algebraic_root,algebraic_power:t._Z3_algebraic_power,algebraic_lt:function(u,_,f){return t.ccall("Z3_algebraic_lt","boolean",["number","number","number"],[u,_,f])},algebraic_gt:function(u,_,f){return t.ccall("Z3_algebraic_gt","boolean",["number","number","number"],[u,_,f])},algebraic_le:function(u,_,f){return t.ccall("Z3_algebraic_le","boolean",["number","number","number"],[u,_,f])},algebraic_ge:function(u,_,f){return t.ccall("Z3_algebraic_ge","boolean",["number","number","number"],[u,_,f])},algebraic_eq:function(u,_,f){return t.ccall("Z3_algebraic_eq","boolean",["number","number","number"],[u,_,f])},algebraic_neq:function(u,_,f){return t.ccall("Z3_algebraic_neq","boolean",["number","number","number"],[u,_,f])},algebraic_roots:async function(u,_,f){return await t.async_call(()=>t.ccall("async_Z3_algebraic_roots","void",["number","number","number","array"],[u,_,f.length,n(f)]))},algebraic_eval:async function(u,_,f){return await t.async_call(()=>t.ccall("async_Z3_algebraic_eval","void",["number","number","number","array"],[u,_,f.length,n(f)]))},algebraic_get_poly:t._Z3_algebraic_get_poly,algebraic_get_i:function(u,_){let f=t.ccall("Z3_algebraic_get_i","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},mk_ast_vector:t._Z3_mk_ast_vector,ast_vector_inc_ref:t._Z3_ast_vector_inc_ref,ast_vector_dec_ref:t._Z3_ast_vector_dec_ref,ast_vector_size:function(u,_){let f=t.ccall("Z3_ast_vector_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},ast_vector_get:t._Z3_ast_vector_get,ast_vector_set:t._Z3_ast_vector_set,ast_vector_resize:t._Z3_ast_vector_resize,ast_vector_push:t._Z3_ast_vector_push,ast_vector_translate:t._Z3_ast_vector_translate,ast_vector_to_string:function(u,_){return t.ccall("Z3_ast_vector_to_string","string",["number","number"],[u,_])},mk_ast_map:t._Z3_mk_ast_map,ast_map_inc_ref:t._Z3_ast_map_inc_ref,ast_map_dec_ref:t._Z3_ast_map_dec_ref,ast_map_contains:function(u,_,f){return t.ccall("Z3_ast_map_contains","boolean",["number","number","number"],[u,_,f])},ast_map_find:t._Z3_ast_map_find,ast_map_insert:t._Z3_ast_map_insert,ast_map_erase:t._Z3_ast_map_erase,ast_map_reset:t._Z3_ast_map_reset,ast_map_size:function(u,_){let f=t.ccall("Z3_ast_map_size","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},ast_map_keys:t._Z3_ast_map_keys,ast_map_to_string:function(u,_){return t.ccall("Z3_ast_map_to_string","string",["number","number"],[u,_])},mk_fixedpoint:t._Z3_mk_fixedpoint,fixedpoint_inc_ref:t._Z3_fixedpoint_inc_ref,fixedpoint_dec_ref:t._Z3_fixedpoint_dec_ref,fixedpoint_add_rule:t._Z3_fixedpoint_add_rule,fixedpoint_add_fact:function(u,_,f,y){return t.ccall("Z3_fixedpoint_add_fact","void",["number","number","number","number","array"],[u,_,f,y.length,n(y)])},fixedpoint_assert:t._Z3_fixedpoint_assert,fixedpoint_query:function(u,_,f){return t.async_call(t._async_Z3_fixedpoint_query,u,_,f)},fixedpoint_query_relations:async function(u,_,f){return await t.async_call(()=>t.ccall("async_Z3_fixedpoint_query_relations","void",["number","number","number","array"],[u,_,f.length,n(f)]))},fixedpoint_get_answer:t._Z3_fixedpoint_get_answer,fixedpoint_get_reason_unknown:function(u,_){return t.ccall("Z3_fixedpoint_get_reason_unknown","string",["number","number"],[u,_])},fixedpoint_update_rule:t._Z3_fixedpoint_update_rule,fixedpoint_get_num_levels:function(u,_,f){let y=t.ccall("Z3_fixedpoint_get_num_levels","number",["number","number","number"],[u,_,f]);return y=new Uint32Array([y])[0],y},fixedpoint_get_cover_delta:t._Z3_fixedpoint_get_cover_delta,fixedpoint_add_cover:t._Z3_fixedpoint_add_cover,fixedpoint_get_statistics:t._Z3_fixedpoint_get_statistics,fixedpoint_register_relation:t._Z3_fixedpoint_register_relation,fixedpoint_set_predicate_representation:function(u,_,f,y){return t.ccall("Z3_fixedpoint_set_predicate_representation","void",["number","number","number","number","array"],[u,_,f,y.length,n(y)])},fixedpoint_get_rules:t._Z3_fixedpoint_get_rules,fixedpoint_get_assertions:t._Z3_fixedpoint_get_assertions,fixedpoint_set_params:t._Z3_fixedpoint_set_params,fixedpoint_get_help:function(u,_){return t.ccall("Z3_fixedpoint_get_help","string",["number","number"],[u,_])},fixedpoint_get_param_descrs:t._Z3_fixedpoint_get_param_descrs,fixedpoint_to_string:function(u,_,f){return t.ccall("Z3_fixedpoint_to_string","string",["number","number","number","array"],[u,_,f.length,n(f)])},fixedpoint_from_string:function(u,_,f){return t.ccall("Z3_fixedpoint_from_string","number",["number","number","string"],[u,_,f])},fixedpoint_from_file:function(u,_,f){return t.ccall("Z3_fixedpoint_from_file","number",["number","number","string"],[u,_,f])},mk_fpa_rounding_mode_sort:t._Z3_mk_fpa_rounding_mode_sort,mk_fpa_round_nearest_ties_to_even:t._Z3_mk_fpa_round_nearest_ties_to_even,mk_fpa_rne:t._Z3_mk_fpa_rne,mk_fpa_round_nearest_ties_to_away:t._Z3_mk_fpa_round_nearest_ties_to_away,mk_fpa_rna:t._Z3_mk_fpa_rna,mk_fpa_round_toward_positive:t._Z3_mk_fpa_round_toward_positive,mk_fpa_rtp:t._Z3_mk_fpa_rtp,mk_fpa_round_toward_negative:t._Z3_mk_fpa_round_toward_negative,mk_fpa_rtn:t._Z3_mk_fpa_rtn,mk_fpa_round_toward_zero:t._Z3_mk_fpa_round_toward_zero,mk_fpa_rtz:t._Z3_mk_fpa_rtz,mk_fpa_sort:t._Z3_mk_fpa_sort,mk_fpa_sort_half:t._Z3_mk_fpa_sort_half,mk_fpa_sort_16:t._Z3_mk_fpa_sort_16,mk_fpa_sort_single:t._Z3_mk_fpa_sort_single,mk_fpa_sort_32:t._Z3_mk_fpa_sort_32,mk_fpa_sort_double:t._Z3_mk_fpa_sort_double,mk_fpa_sort_64:t._Z3_mk_fpa_sort_64,mk_fpa_sort_quadruple:t._Z3_mk_fpa_sort_quadruple,mk_fpa_sort_128:t._Z3_mk_fpa_sort_128,mk_fpa_nan:t._Z3_mk_fpa_nan,mk_fpa_inf:t._Z3_mk_fpa_inf,mk_fpa_zero:t._Z3_mk_fpa_zero,mk_fpa_fp:t._Z3_mk_fpa_fp,mk_fpa_numeral_float:t._Z3_mk_fpa_numeral_float,mk_fpa_numeral_double:t._Z3_mk_fpa_numeral_double,mk_fpa_numeral_int:t._Z3_mk_fpa_numeral_int,mk_fpa_numeral_int_uint:t._Z3_mk_fpa_numeral_int_uint,mk_fpa_numeral_int64_uint64:t._Z3_mk_fpa_numeral_int64_uint64,mk_fpa_abs:t._Z3_mk_fpa_abs,mk_fpa_neg:t._Z3_mk_fpa_neg,mk_fpa_add:t._Z3_mk_fpa_add,mk_fpa_sub:t._Z3_mk_fpa_sub,mk_fpa_mul:t._Z3_mk_fpa_mul,mk_fpa_div:t._Z3_mk_fpa_div,mk_fpa_fma:t._Z3_mk_fpa_fma,mk_fpa_sqrt:t._Z3_mk_fpa_sqrt,mk_fpa_rem:t._Z3_mk_fpa_rem,mk_fpa_round_to_integral:t._Z3_mk_fpa_round_to_integral,mk_fpa_min:t._Z3_mk_fpa_min,mk_fpa_max:t._Z3_mk_fpa_max,mk_fpa_leq:t._Z3_mk_fpa_leq,mk_fpa_lt:t._Z3_mk_fpa_lt,mk_fpa_geq:t._Z3_mk_fpa_geq,mk_fpa_gt:t._Z3_mk_fpa_gt,mk_fpa_eq:t._Z3_mk_fpa_eq,mk_fpa_is_normal:t._Z3_mk_fpa_is_normal,mk_fpa_is_subnormal:t._Z3_mk_fpa_is_subnormal,mk_fpa_is_zero:t._Z3_mk_fpa_is_zero,mk_fpa_is_infinite:t._Z3_mk_fpa_is_infinite,mk_fpa_is_nan:t._Z3_mk_fpa_is_nan,mk_fpa_is_negative:t._Z3_mk_fpa_is_negative,mk_fpa_is_positive:t._Z3_mk_fpa_is_positive,mk_fpa_to_fp_bv:t._Z3_mk_fpa_to_fp_bv,mk_fpa_to_fp_float:t._Z3_mk_fpa_to_fp_float,mk_fpa_to_fp_real:t._Z3_mk_fpa_to_fp_real,mk_fpa_to_fp_signed:t._Z3_mk_fpa_to_fp_signed,mk_fpa_to_fp_unsigned:t._Z3_mk_fpa_to_fp_unsigned,mk_fpa_to_ubv:t._Z3_mk_fpa_to_ubv,mk_fpa_to_sbv:t._Z3_mk_fpa_to_sbv,mk_fpa_to_real:t._Z3_mk_fpa_to_real,fpa_get_ebits:function(u,_){let f=t.ccall("Z3_fpa_get_ebits","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},fpa_get_sbits:function(u,_){let f=t.ccall("Z3_fpa_get_sbits","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},fpa_is_numeral_nan:function(u,_){return t.ccall("Z3_fpa_is_numeral_nan","boolean",["number","number"],[u,_])},fpa_is_numeral_inf:function(u,_){return t.ccall("Z3_fpa_is_numeral_inf","boolean",["number","number"],[u,_])},fpa_is_numeral_zero:function(u,_){return t.ccall("Z3_fpa_is_numeral_zero","boolean",["number","number"],[u,_])},fpa_is_numeral_normal:function(u,_){return t.ccall("Z3_fpa_is_numeral_normal","boolean",["number","number"],[u,_])},fpa_is_numeral_subnormal:function(u,_){return t.ccall("Z3_fpa_is_numeral_subnormal","boolean",["number","number"],[u,_])},fpa_is_numeral_positive:function(u,_){return t.ccall("Z3_fpa_is_numeral_positive","boolean",["number","number"],[u,_])},fpa_is_numeral_negative:function(u,_){return t.ccall("Z3_fpa_is_numeral_negative","boolean",["number","number"],[u,_])},fpa_get_numeral_sign_bv:t._Z3_fpa_get_numeral_sign_bv,fpa_get_numeral_significand_bv:t._Z3_fpa_get_numeral_significand_bv,fpa_get_numeral_sign:function(u,_){return t.ccall("Z3_fpa_get_numeral_sign","boolean",["number","number","number"],[u,_,m])?s(0):null},fpa_get_numeral_significand_string:function(u,_){return t.ccall("Z3_fpa_get_numeral_significand_string","string",["number","number"],[u,_])},fpa_get_numeral_significand_uint64:function(u,_){return t.ccall("Z3_fpa_get_numeral_significand_uint64","boolean",["number","number","number"],[u,_,m])?q(0):null},fpa_get_numeral_exponent_string:function(u,_,f){return t.ccall("Z3_fpa_get_numeral_exponent_string","string",["number","number","boolean"],[u,_,f])},fpa_get_numeral_exponent_int64:function(u,_,f){return t.ccall("Z3_fpa_get_numeral_exponent_int64","boolean",["number","number","number","boolean"],[u,_,m,f])?C(0):null},fpa_get_numeral_exponent_bv:t._Z3_fpa_get_numeral_exponent_bv,mk_fpa_to_ieee_bv:t._Z3_mk_fpa_to_ieee_bv,mk_fpa_to_fp_int_real:t._Z3_mk_fpa_to_fp_int_real,mk_optimize:t._Z3_mk_optimize,optimize_inc_ref:t._Z3_optimize_inc_ref,optimize_dec_ref:t._Z3_optimize_dec_ref,optimize_assert:t._Z3_optimize_assert,optimize_assert_and_track:t._Z3_optimize_assert_and_track,optimize_assert_soft:function(u,_,f,y,T){let D=t.ccall("Z3_optimize_assert_soft","number",["number","number","number","string","number"],[u,_,f,y,T]);return D=new Uint32Array([D])[0],D},optimize_maximize:function(u,_,f){let y=t.ccall("Z3_optimize_maximize","number",["number","number","number"],[u,_,f]);return y=new Uint32Array([y])[0],y},optimize_minimize:function(u,_,f){let y=t.ccall("Z3_optimize_minimize","number",["number","number","number"],[u,_,f]);return y=new Uint32Array([y])[0],y},optimize_push:t._Z3_optimize_push,optimize_pop:t._Z3_optimize_pop,optimize_set_initial_value:t._Z3_optimize_set_initial_value,optimize_check:async function(u,_,f){return await t.async_call(()=>t.ccall("async_Z3_optimize_check","void",["number","number","number","array"],[u,_,f.length,n(f)]))},optimize_get_reason_unknown:function(u,_){return t.ccall("Z3_optimize_get_reason_unknown","string",["number","number"],[u,_])},optimize_get_model:t._Z3_optimize_get_model,optimize_get_unsat_core:t._Z3_optimize_get_unsat_core,optimize_set_params:t._Z3_optimize_set_params,optimize_get_param_descrs:t._Z3_optimize_get_param_descrs,optimize_get_lower:t._Z3_optimize_get_lower,optimize_get_upper:t._Z3_optimize_get_upper,optimize_get_lower_as_vector:t._Z3_optimize_get_lower_as_vector,optimize_get_upper_as_vector:t._Z3_optimize_get_upper_as_vector,optimize_to_string:function(u,_){return t.ccall("Z3_optimize_to_string","string",["number","number"],[u,_])},optimize_from_string:function(u,_,f){return t.ccall("Z3_optimize_from_string","void",["number","number","string"],[u,_,f])},optimize_from_file:function(u,_,f){return t.ccall("Z3_optimize_from_file","void",["number","number","string"],[u,_,f])},optimize_get_help:function(u,_){return t.ccall("Z3_optimize_get_help","string",["number","number"],[u,_])},optimize_get_statistics:t._Z3_optimize_get_statistics,optimize_get_assertions:t._Z3_optimize_get_assertions,optimize_get_objectives:t._Z3_optimize_get_objectives,polynomial_subresultants:function(u,_,f,y){return t.async_call(t._async_Z3_polynomial_subresultants,u,_,f,y)},rcf_del:t._Z3_rcf_del,rcf_mk_rational:function(u,_){return t.ccall("Z3_rcf_mk_rational","number",["number","string"],[u,_])},rcf_mk_small_int:t._Z3_rcf_mk_small_int,rcf_mk_pi:t._Z3_rcf_mk_pi,rcf_mk_e:t._Z3_rcf_mk_e,rcf_mk_infinitesimal:t._Z3_rcf_mk_infinitesimal,rcf_mk_roots:function(u,_){let f=t._malloc(4*_.length);try{let y=t.ccall("Z3_rcf_mk_roots","number",["number","number","array","number"],[u,_.length,n(_),f]);return y=new Uint32Array([y])[0],{rv:y,roots:o(f,_.length)}}finally{t._free(f)}},rcf_add:t._Z3_rcf_add,rcf_sub:t._Z3_rcf_sub,rcf_mul:t._Z3_rcf_mul,rcf_div:t._Z3_rcf_div,rcf_neg:t._Z3_rcf_neg,rcf_inv:t._Z3_rcf_inv,rcf_power:t._Z3_rcf_power,rcf_lt:function(u,_,f){return t.ccall("Z3_rcf_lt","boolean",["number","number","number"],[u,_,f])},rcf_gt:function(u,_,f){return t.ccall("Z3_rcf_gt","boolean",["number","number","number"],[u,_,f])},rcf_le:function(u,_,f){return t.ccall("Z3_rcf_le","boolean",["number","number","number"],[u,_,f])},rcf_ge:function(u,_,f){return t.ccall("Z3_rcf_ge","boolean",["number","number","number"],[u,_,f])},rcf_eq:function(u,_,f){return t.ccall("Z3_rcf_eq","boolean",["number","number","number"],[u,_,f])},rcf_neq:function(u,_,f){return t.ccall("Z3_rcf_neq","boolean",["number","number","number"],[u,_,f])},rcf_num_to_string:function(u,_,f,y){return t.ccall("Z3_rcf_num_to_string","string",["number","number","boolean","boolean"],[u,_,f,y])},rcf_num_to_decimal_string:function(u,_,f){return t.ccall("Z3_rcf_num_to_decimal_string","string",["number","number","number"],[u,_,f])},rcf_get_numerator_denominator:function(u,_){return t.ccall("Z3_rcf_get_numerator_denominator","void",["number","number","number","number"],[u,_,m,m+4]),{n:c(0),d:c(1)}},rcf_is_rational:function(u,_){return t.ccall("Z3_rcf_is_rational","boolean",["number","number"],[u,_])},rcf_is_algebraic:function(u,_){return t.ccall("Z3_rcf_is_algebraic","boolean",["number","number"],[u,_])},rcf_is_infinitesimal:function(u,_){return t.ccall("Z3_rcf_is_infinitesimal","boolean",["number","number"],[u,_])},rcf_is_transcendental:function(u,_){return t.ccall("Z3_rcf_is_transcendental","boolean",["number","number"],[u,_])},rcf_extension_index:function(u,_){let f=t.ccall("Z3_rcf_extension_index","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},rcf_transcendental_name:t._Z3_rcf_transcendental_name,rcf_infinitesimal_name:t._Z3_rcf_infinitesimal_name,rcf_num_coefficients:function(u,_){let f=t.ccall("Z3_rcf_num_coefficients","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},rcf_coefficient:t._Z3_rcf_coefficient,rcf_num_sign_conditions:function(u,_){let f=t.ccall("Z3_rcf_num_sign_conditions","number",["number","number"],[u,_]);return f=new Uint32Array([f])[0],f},rcf_sign_condition_sign:t._Z3_rcf_sign_condition_sign,rcf_num_sign_condition_coefficients:function(u,_,f){let y=t.ccall("Z3_rcf_num_sign_condition_coefficients","number",["number","number","number"],[u,_,f]);return y=new Uint32Array([y])[0],y},rcf_sign_condition_coefficient:t._Z3_rcf_sign_condition_coefficient,fixedpoint_query_from_lvl:function(u,_,f,y){return t.async_call(t._async_Z3_fixedpoint_query_from_lvl,u,_,f,y)},fixedpoint_get_ground_sat_answer:t._Z3_fixedpoint_get_ground_sat_answer,fixedpoint_get_rules_along_trace:t._Z3_fixedpoint_get_rules_along_trace,fixedpoint_get_rule_names_along_trace:t._Z3_fixedpoint_get_rule_names_along_trace,fixedpoint_add_invariant:t._Z3_fixedpoint_add_invariant,fixedpoint_get_reachable:t._Z3_fixedpoint_get_reachable,qe_model_project:function(u,_,f,y){return t.ccall("Z3_qe_model_project","number",["number","number","number","array","number"],[u,_,f.length,n(f),y])},qe_model_project_skolem:function(u,_,f,y,T){return t.ccall("Z3_qe_model_project_skolem","number",["number","number","number","array","number","number"],[u,_,f.length,n(f),y,T])},qe_model_project_with_witness:function(u,_,f,y,T){return t.ccall("Z3_qe_model_project_with_witness","number",["number","number","number","array","number","number"],[u,_,f.length,n(f),y,T])},model_extrapolate:t._Z3_model_extrapolate,qe_lite:t._Z3_qe_lite}}}return wr}var Is;function Da(){return Is||(Is=1,function(e){var r=we&&we.__createBinding||(Object.create?function(n,i,o,m){m===void 0&&(m=o);var h=Object.getOwnPropertyDescriptor(i,o);(!h||("get"in h?!i.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,m,h)}:function(n,i,o,m){m===void 0&&(m=o),n[m]=i[o]}),t=we&&we.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&r(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),t(Fa(),e),t(J_(),e)}(we)),we}var Ee={},Ls;function kr(){if(Ls)return Ee;Ls=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.Z3AssertionError=Ee.Z3Error=void 0;class e extends Error{}Ee.Z3Error=e;class r extends e{}return Ee.Z3AssertionError=r,Ee}var Le={},xs;function to(){if(xs)return Le;xs=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.assertExhaustive=r,Le.assert=t,Le.allSatisfy=n;const e=kr();function r(i){throw new Error("Unexpected code execution detected, should be caught at compile time")}function t(i,o){if(!i)throw new e.Z3AssertionError(o??"Assertion failed")}function n(i,o){let m=!1;for(const h of i)if(m=!0,!o(h))return!1;return m===!0?!0:null}return Le}var Ns;function eo(){if(Ns)return dr;Ns=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.createApi=h;const e=K_(),r=Da(),t=kr(),n=to(),i=17,o=new e.Mutex;function m(c){const w=c!==null&&(typeof c=="object"||typeof c=="function")&&c.numerator!==null&&(typeof c.numerator=="number"||typeof c.numerator=="bigint")&&c.denominator!==null&&(typeof c.denominator=="number"||typeof c.denominator=="bigint");return w&&(0,n.assert)((typeof c.numerator!="number"||Number.isSafeInteger(c.numerator))&&(typeof c.denominator!="number"||Number.isSafeInteger(c.denominator)),"Fraction numerator and denominator must be integers"),w}function h(c){const w=new FinalizationRegistry(j=>j());function s(j){c.enable_trace(j)}function Z(j){c.disable_trace(j)}function q(){return c.get_version()}function M(){const{major:j,minor:nt,build_number:H}=c.get_version();return`${j}.${nt}.${H}`}function C(){return c.get_full_version()}function u(j){return c.open_log(j)}function _(j){c.append_log(j)}function f(j,nt){typeof j=="string"?c.global_param_set(j,nt.toString()):((0,n.assert)(nt===void 0,"Can't provide a Record and second parameter to set_param at the same time"),Object.entries(j).forEach(([H,g])=>f(H,g)))}function y(){c.global_param_reset_all()}function T(j){return c.global_param_get(j)}function D(j,nt){const H=c.mk_config();nt!=null&&Object.entries(nt).forEach(([l,a])=>d(c.set_param_value(H,l,a.toString())));const g=c.mk_context_rc(H);c.set_ast_print_mode(g,r.Z3_ast_print_mode.Z3_PRINT_SMTLIB2_COMPLIANT),c.del_config(H);function I(...l){l.forEach(a=>(0,n.assert)("ctx"in a?lt===a.ctx:lt===a,"Context mismatch"))}function Ct(l){if(l==null)throw new TypeError("Expected non-null pointer")}function zt(){if(c.get_error_code(g)!==r.Z3_error_code.Z3_OK)throw new Error(c.get_error_msg(lt.ptr,c.get_error_code(lt.ptr)))}function d(l){return zt(),l}function X(l){return d(typeof l=="number"?c.mk_int_symbol(g,l):c.mk_string_symbol(g,l))}function wt(l){const a=d(c.get_symbol_kind(g,l));switch(a){case r.Z3_symbol_kind.Z3_INT_SYMBOL:return c.get_symbol_int(g,l);case r.Z3_symbol_kind.Z3_STRING_SYMBOL:return c.get_symbol_string(g,l);default:(0,n.assertExhaustive)(a)}}function Tt(l,a){const b=c.mk_params(g);return c.params_inc_ref(g,b),typeof a=="boolean"?c.params_set_bool(g,b,X(l),a):typeof a=="number"?Number.isInteger(a)?d(c.params_set_uint(g,b,X(l),a)):d(c.params_set_double(g,b,X(l),a)):typeof a=="string"&&d(c.params_set_symbol(g,b,X(l),X(a))),b}function qt(l){switch(d(c.get_ast_kind(g,l))){case r.Z3_ast_kind.Z3_SORT_AST:return Zt(l);case r.Z3_ast_kind.Z3_FUNC_DECL_AST:return new Pt(l);default:return N(l)}}function Zt(l){switch(d(c.get_sort_kind(g,l))){case r.Z3_sort_kind.Z3_BOOL_SORT:return new ss(l);case r.Z3_sort_kind.Z3_INT_SORT:case r.Z3_sort_kind.Z3_REAL_SORT:return new Ve(l);case r.Z3_sort_kind.Z3_BV_SORT:return new an(l);case r.Z3_sort_kind.Z3_ARRAY_SORT:return new fr(l);default:return new Kt(l)}}function N(l){const a=d(c.get_ast_kind(g,l));if(a===r.Z3_ast_kind.Z3_QUANTIFIER_AST)return c.is_lambda(g,l)?new os(l):new un(l);switch(d(c.get_sort_kind(g,c.get_sort(g,l)))){case r.Z3_sort_kind.Z3_BOOL_SORT:return new V(l);case r.Z3_sort_kind.Z3_INT_SORT:return a===r.Z3_ast_kind.Z3_NUMERAL_AST?new Ge(l):new et(l);case r.Z3_sort_kind.Z3_REAL_SORT:return a===r.Z3_ast_kind.Z3_NUMERAL_AST?new sn(l):new et(l);case r.Z3_sort_kind.Z3_BV_SORT:return a===r.Z3_ast_kind.Z3_NUMERAL_AST?new _n(l):new G(l);case r.Z3_sort_kind.Z3_ARRAY_SORT:return new mr(l);default:return new Ht(l)}}function W(l){const a=[];for(const b of l)v(b)?a.push(...b.values()):a.push(b);return a}function re(l){return Xt(l)?l:new cr(l)}function Qt(l,a){(0,n.assert)(a.length>0,"At least one argument expected");let b=re(a[0]);for(let O=1;O<a.length;O++)b=new cr(d(l(g,b.ptr,re(a[O]).ptr)));return b}function ge(){d(c.interrupt(g))}function It(l){const a=l instanceof lr;return a&&I(l),a}function Lt(l){const a=l instanceof ur;return a&&I(l),a}function jt(l){const a=l instanceof Kt;return a&&I(l),a}function Mt(l){const a=l instanceof Pt;return a&&I(l),a}function ne(l){const a=l instanceof Yr;return a&&I(l),a}function bt(l){if(!Y(l))return!1;const a=d(c.get_ast_kind(g,l.ast));return a===r.Z3_ast_kind.Z3_NUMERAL_AST||a===r.Z3_ast_kind.Z3_APP_AST}function ot(l){return Y(l)&&bt(l)&&l.numArgs()===0}function Y(l){const a=l instanceof Ht;return a&&I(l),a}function Et(l){return Y(l)&&d(c.get_ast_kind(g,l.ast))===r.Z3_ast_kind.Z3_VAR_AST}function Ot(l,a){return Y(l)&&bt(l)&&l.decl().kind()===a}function se(l){const a=l instanceof Ht&&l.sort.kind()===r.Z3_sort_kind.Z3_BOOL_SORT;return a&&I(l),a}function pe(l){return Ot(l,r.Z3_decl_kind.Z3_OP_TRUE)}function Ut(l){return Ot(l,r.Z3_decl_kind.Z3_OP_FALSE)}function Yt(l){return Ot(l,r.Z3_decl_kind.Z3_OP_AND)}function Ae(l){return Ot(l,r.Z3_decl_kind.Z3_OP_OR)}function Te(l){return Ot(l,r.Z3_decl_kind.Z3_OP_IMPLIES)}function rr(l){return Ot(l,r.Z3_decl_kind.Z3_OP_NOT)}function Ze(l){return Ot(l,r.Z3_decl_kind.Z3_OP_EQ)}function nr(l){return Ot(l,r.Z3_decl_kind.Z3_OP_DISTINCT)}function De(l){const a=l instanceof on;return a&&I(l),a}function Ft(l){const a=l instanceof et;return a&&I(l),a}function qr(l){const a=l instanceof Ve;return a&&I(l),a}function Be(l){return Ft(l)&&ae(l.sort)}function $e(l){const a=l instanceof Ge;return a&&I(l),a}function ae(l){return jt(l)&&l.kind()===r.Z3_sort_kind.Z3_INT_SORT}function ze(l){return Ft(l)&&je(l.sort)}function Mr(l){const a=l instanceof sn;return a&&I(l),a}function je(l){return jt(l)&&l.kind()===r.Z3_sort_kind.Z3_REAL_SORT}function Ie(l){const a=l instanceof an;return a&&I(l),a}function Ur(l){const a=l instanceof G;return a&&I(l),a}function sr(l){const a=l instanceof _n;return a&&I(l),a}function ar(l){const a=l instanceof fr;return a&&I(l),a}function ir(l){const a=l instanceof mr;return a&&I(l),a}function _r(l){return Ot(l,r.Z3_decl_kind.Z3_OP_CONST_ARRAY)}function Xt(l){const a=l instanceof cr;return a&&I(l),a}function p(l){const a=l instanceof Xr;return a&&I(l),a}function v(l){const a=l instanceof ue;return a&&I(l),a}function E(l,a){return l.eqIdentity(a)}function R(l){return(0,n.assert)(Et(l),"Z3 bound variable expected"),c.get_index_value(g,l.ast)}function S(l){if(typeof l=="boolean")return Q.val(l);if(typeof l=="number"){if(!Number.isFinite(l))throw new Error(`cannot represent infinity/NaN (got ${l})`);return Math.floor(l)===l?_t.val(l):tt.val(l)}else{if(m(l))return tt.val(l);if(typeof l=="bigint")return _t.val(l);if(Y(l))return l}(0,n.assert)(!1)}async function L(...l){const a=new lt.Solver;a.add(...l);const b=await a.check();return b==="sat"?a.model():b}async function x(l){const a=await c.simplify(g,l.ast);return N(d(a))}const $={declare:l=>new Kt(c.mk_uninterpreted_sort(g,X(l)))},K={declare:(l,...a)=>{const b=a.length-1,O=a[b];I(O);const U=[];for(let B=0;B<b;B++)I(a[B]),U.push(a[B].ptr);return new Pt(c.mk_func_decl(g,X(l),U,O.ptr))},fresh:(...l)=>{const a=l.length-1,b=l[a];I(b);const O=[];for(let U=0;U<a;U++)I(l[U]),O.push(l[U].ptr);return new Pt(c.mk_fresh_func_decl(g,"f",O,b.ptr))}},pt={declare:(l,...a)=>{const b=a.length-1,O=a[b];I(O);const U=[];for(let B=0;B<b;B++)I(a[B]),U.push(a[B].ptr);return new Pt(c.mk_rec_func_decl(g,X(l),U,O.ptr))},addDefinition:(l,a,b)=>{I(l,...a,b),d(c.add_rec_def(g,l.ptr,a.map(O=>O.ast),b.ast))}},Q={sort:()=>new ss(c.mk_bool_sort(g)),const:l=>new V(c.mk_const(g,X(l),Q.sort().ptr)),consts:l=>(typeof l=="string"&&(l=l.split(" ")),l.map(a=>Q.const(a))),vector:(l,a)=>{const b=[];for(let O=0;O<a;O++)b.push(Q.const(`${l}__${O}`));return b},fresh:(l="b")=>new V(c.mk_fresh_const(g,l,Q.sort().ptr)),val:l=>l?new V(c.mk_true(g)):new V(c.mk_false(g))},_t={sort:()=>new Ve(c.mk_int_sort(g)),const:l=>new et(c.mk_const(g,X(l),_t.sort().ptr)),consts:l=>(typeof l=="string"&&(l=l.split(" ")),l.map(a=>_t.const(a))),vector:(l,a)=>{const b=[];for(let O=0;O<a;O++)b.push(_t.const(`${l}__${O}`));return b},fresh:(l="x")=>new et(c.mk_fresh_const(g,l,_t.sort().ptr)),val:l=>((0,n.assert)(typeof l=="bigint"||typeof l=="string"||Number.isSafeInteger(l)),new Ge(d(c.mk_numeral(g,l.toString(),_t.sort().ptr))))},tt={sort:()=>new Ve(c.mk_real_sort(g)),const:l=>new et(d(c.mk_const(g,X(l),tt.sort().ptr))),consts:l=>(typeof l=="string"&&(l=l.split(" ")),l.map(a=>tt.const(a))),vector:(l,a)=>{const b=[];for(let O=0;O<a;O++)b.push(tt.const(`${l}__${O}`));return b},fresh:(l="b")=>new et(c.mk_fresh_const(g,l,tt.sort().ptr)),val:l=>(m(l)&&(l=`${l.numerator}/${l.denominator}`),new sn(c.mk_numeral(g,l.toString(),tt.sort().ptr)))},ht={sort(l){return(0,n.assert)(Number.isSafeInteger(l),"number of bits must be an integer"),new an(c.mk_bv_sort(g,l))},const(l,a){return new G(d(c.mk_const(g,X(l),Ie(a)?a.ptr:ht.sort(a).ptr)))},consts(l,a){return typeof l=="string"&&(l=l.split(" ")),l.map(b=>ht.const(b,a))},val(l,a){return l===!0?ht.val(1,a):l===!1?ht.val(0,a):new _n(d(c.mk_numeral(g,l.toString(),Ie(a)?a.ptr:ht.sort(a).ptr)))}},xt={sort(...l){const a=l.length-1,b=l[a],O=l[0];if(a===1)return new fr(c.mk_array_sort(g,O.ptr,b.ptr));const U=l.slice(0,a);return new fr(c.mk_array_sort_n(g,U.map(B=>B.ptr),b.ptr))},const(l,...a){return new mr(d(c.mk_const(g,X(l),xt.sort(...a).ptr)))},consts(l,...a){return typeof l=="string"&&(l=l.split(" ")),l.map(b=>xt.const(b,...a))},K(l,a){return new mr(d(c.mk_const_array(g,l.ptr,a.ptr)))}},or={sort(l){return xt.sort(l,Q.sort())},const(l,a){return new Jt(d(c.mk_const(g,X(l),xt.sort(a,Q.sort()).ptr)))},consts(l,a){return typeof l=="string"&&(l=l.split(" ")),l.map(b=>or.const(b,a))},empty(l){return Qr(l)},val(l,a){var b=Qr(a);for(const O of l)b=Wr(b,O);return b}},ut=Object.assign(l=>new is(lt,l),{createDatatypes(...l){return _s(...l)}});function Vt(l,a,b){return Xt(l)&&p(a)&&p(b)?qn(l,a,b):((0,n.assert)(!Xt(l)&&!p(a)&&!p(b),"Mixed expressions and goals"),typeof l=="boolean"&&(l=Q.val(l)),a=S(a),b=S(b),N(d(c.mk_ite(g,l.ptr,a.ast,b.ast))))}function ie(...l){return(0,n.assert)(l.length>0,"Can't make Distinct ouf of nothing"),new V(d(c.mk_distinct(g,l.map(a=>(a=S(a),I(a),a.ast)))))}function Gt(l,a){return I(a),N(d(c.mk_const(g,X(l),a.ptr)))}function _e(l,a){return I(a),typeof l=="string"&&(l=l.split(" ")),l.map(b=>Gt(b,a))}function oe(l,a="c"){return I(l),N(c.mk_fresh_const(l.ctx.ptr,a,l.ptr))}function ai(l,a){return I(a),N(c.mk_bound(a.ctx.ptr,l,a.ptr))}function Fr(l,a){return l=S(l),a=S(a),I(l,a),new V(d(c.mk_implies(g,l.ptr,a.ptr)))}function Dr(l,a){return l=S(l),a=S(a),I(l,a),new V(d(c.mk_iff(g,l.ptr,a.ptr)))}function ii(l,a){return l=S(l),a=S(a),I(l,a),l.eq(a)}function Br(l,a){return l=S(l),a=S(a),I(l,a),new V(d(c.mk_xor(g,l.ptr,a.ptr)))}function $r(l){return typeof l=="boolean"&&(l=S(l)),I(l),Xt(l)?new cr(d(c.probe_not(g,l.ptr))):new V(d(c.mk_not(g,l.ptr)))}function zr(...l){if(l.length==1&&l[0]instanceof lt.AstVector&&(l=[...l[0].values()],(0,n.assert)((0,n.allSatisfy)(l,se)??!0,"AstVector containing not bools")),(0,n.allSatisfy)(l,Xt)??!1)return Qt(c.probe_and,l);{const b=l.map(S);return I(...b),new V(d(c.mk_and(g,b.map(O=>O.ptr))))}}function jr(...l){if(l.length==1&&l[0]instanceof lt.AstVector&&(l=[...l[0].values()],(0,n.assert)((0,n.allSatisfy)(l,se)??!0,"AstVector containing not bools")),(0,n.allSatisfy)(l,Xt)??!1)return Qt(c.probe_or,l);{const b=l.map(S);return I(...b),new V(d(c.mk_or(g,b.map(O=>O.ptr))))}}function _i(l,a,b){if(I(...l),l.length!==a.length)throw new Error("Number of arguments and coefficients must match");return new V(d(c.mk_pbeq(g,l.map(O=>O.ast),a,b)))}function oi(l,a,b){if(I(...l),l.length!==a.length)throw new Error("Number of arguments and coefficients must match");return new V(d(c.mk_pbge(g,l.map(O=>O.ast),a,b)))}function ui(l,a,b){if(I(...l),l.length!==a.length)throw new Error("Number of arguments and coefficients must match");return new V(d(c.mk_pble(g,l.map(O=>O.ast),a,b)))}function li(l,a,b=1){if(!(0,n.allSatisfy)(l,ot))throw new Error("Quantifier variables must be constants");return new un(d(c.mk_quantifier_const_ex(g,!0,b,X(""),X(""),l.map(O=>O.ptr),[],[],a.ptr)))}function ci(l,a,b=1){if(!(0,n.allSatisfy)(l,ot))throw new Error("Quantifier variables must be constants");return new un(d(c.mk_quantifier_const_ex(g,!1,b,X(""),X(""),l.map(O=>O.ptr),[],[],a.ptr)))}function fi(l,a){if(!(0,n.allSatisfy)(l,ot))throw new Error("Quantifier variables must be constants");return new os(d(c.mk_lambda_const(g,l.map(b=>b.ptr),a.ptr)))}function Vr(l){return l=S(l),I(l),(0,n.assert)(Be(l),"Int expression expected"),new et(d(c.mk_int2real(g,l.ast)))}function mi(l){return Y(l)||(l=tt.val(l)),I(l),(0,n.assert)(ze(l),"Real expression expected"),new et(d(c.mk_real2int(g,l.ast)))}function gi(l){return Y(l)||(l=tt.val(l)),I(l),(0,n.assert)(ze(l),"Real expression expected"),new V(d(c.mk_is_int(g,l.ast)))}function pi(l){return Y(l)||(l=tt.val(l)),l.pow("1/2")}function hi(l){return Y(l)||(l=tt.val(l)),l.pow("1/3")}function bi(l,a){return I(l),new et(d(c.mk_bv2int(g,l.ast,a)))}function di(l,a){return Ft(l)?(0,n.assert)(Be(l),"parameter must be an integer"):((0,n.assert)(typeof l!="number"||Number.isSafeInteger(l),"parameter must not have decimal places"),l=_t.val(l)),new G(d(c.mk_int2bv(g,a,l.ast)))}function vi(...l){return I(...l),l.reduce((a,b)=>new G(d(c.mk_concat(g,a.ast,b.ast))))}function qn(l,a,b){return I(l,a,b),new Xr(d(c.tactic_cond(g,l.ptr,a.ptr,b.ptr)))}function Mn(l,a){return new V(d(c.mk_lt(g,l.ast,l.sort.cast(a).ast)))}function Un(l,a){return new V(d(c.mk_gt(g,l.ast,l.sort.cast(a).ast)))}function Fn(l,a){return new V(d(c.mk_le(g,l.ast,l.sort.cast(a).ast)))}function Dn(l,a){return new V(d(c.mk_ge(g,l.ast,l.sort.cast(a).ast)))}function Bn(l,a){return new V(d(c.mk_bvult(g,l.ast,l.sort.cast(a).ast)))}function $n(l,a){return new V(d(c.mk_bvugt(g,l.ast,l.sort.cast(a).ast)))}function zn(l,a){return new V(d(c.mk_bvule(g,l.ast,l.sort.cast(a).ast)))}function jn(l,a){return new V(d(c.mk_bvuge(g,l.ast,l.sort.cast(a).ast)))}function Vn(l,a){return new V(d(c.mk_bvslt(g,l.ast,l.sort.cast(a).ast)))}function Gn(l,a){return new V(d(c.mk_bvsgt(g,l.ast,l.sort.cast(a).ast)))}function Hn(l,a){return new V(d(c.mk_bvsle(g,l.ast,l.sort.cast(a).ast)))}function Wn(l,a){return new V(d(c.mk_bvsge(g,l.ast,l.sort.cast(a).ast)))}function Qn(l,a,b){return new G(d(c.mk_extract(g,l,a,b.ast)))}function Gr(l,...a){const b=a.map((U,B)=>l.domain_n(B).cast(U));if(b.length===1)return N(d(c.mk_select(g,l.ast,b[0].ast)));const O=b.map(U=>U.ast);return N(d(c.mk_select_n(g,l.ast,O)))}function Hr(l,...a){const b=a.map((U,B)=>B===a.length-1?l.range().cast(U):l.domain_n(B).cast(U));if(b.length<=1)throw new Error("Array store requires both index and value arguments");if(b.length===2)return N(d(c.mk_store(g,l.ast,b[0].ast,b[1].ast)));const O=b.slice(0,b.length-1).map(U=>U.ast);return N(d(c.mk_store_n(g,l.ast,O,b[b.length-1].ast)))}function Yn(...l){return new Jt(d(c.mk_set_union(g,l.map(a=>a.ast))))}function Xn(...l){return new Jt(d(c.mk_set_intersect(g,l.map(a=>a.ast))))}function Kn(l,a){return new Jt(d(c.mk_set_difference(g,l.ast,a.ast)))}function Jn(l,a){const b=_t.sort().cast(a);return new V(d(c.mk_set_has_size(g,l.ast,b.ast)))}function Wr(l,a){const b=l.elemSort().cast(a);return new Jt(d(c.mk_set_add(g,l.ast,b.ast)))}function ts(l,a){const b=l.elemSort().cast(a);return new Jt(d(c.mk_set_del(g,l.ast,b.ast)))}function es(l){return new Jt(d(c.mk_set_complement(g,l.ast)))}function Qr(l){return new Jt(d(c.mk_empty_set(g,l.ptr)))}function yi(l){return new Jt(d(c.mk_full_set(g,l.ptr)))}function rs(l,a){const b=a.elemSort().cast(l);return new V(d(c.mk_set_member(g,b.ast,a.ast)))}function ns(l,a){return new V(d(c.mk_set_subset(g,l.ast,a.ast)))}class ur{constructor(a){this.ptr=a,this.ctx=lt;const b=this.ast;c.inc_ref(g,b),w.register(this,()=>c.dec_ref(g,b),this)}get ast(){return this.ptr}id(){return c.get_ast_id(g,this.ast)}eqIdentity(a){return I(a),d(c.is_eq_ast(g,this.ast,a.ast))}neqIdentity(a){return I(a),!this.eqIdentity(a)}sexpr(){return c.ast_to_string(g,this.ast)}hash(){return c.get_ast_hash(g,this.ast)}toString(){return this.sexpr()}}class wi{get ptr(){return Ct(this._ptr),this._ptr}constructor(a=c.mk_solver(g)){this.ctx=lt;let b;typeof a=="string"?b=d(c.mk_solver_for_logic(g,X(a))):b=a,this._ptr=b,c.solver_inc_ref(g,b),w.register(this,()=>c.solver_dec_ref(g,b),this)}set(a,b){c.solver_set_params(g,this.ptr,Tt(a,b))}push(){c.solver_push(g,this.ptr)}pop(a=1){c.solver_pop(g,this.ptr,a)}numScopes(){return c.solver_get_num_scopes(g,this.ptr)}reset(){c.solver_reset(g,this.ptr)}add(...a){W(a).forEach(b=>{I(b),d(c.solver_assert(g,this.ptr,b.ast))})}addAndTrack(a,b){typeof b=="string"&&(b=Q.const(b)),(0,n.assert)(ot(b),"Provided expression that is not a constant to addAndTrack"),d(c.solver_assert_and_track(g,this.ptr,a.ast,b.ast))}assertions(){return new ue(d(c.solver_get_assertions(g,this.ptr)))}async check(...a){const b=W(a).map(U=>(I(U),U.ast)),O=await o.runExclusive(()=>d(c.solver_check_assumptions(g,this.ptr,b)));switch(O){case r.Z3_lbool.Z3_L_FALSE:return"unsat";case r.Z3_lbool.Z3_L_TRUE:return"sat";case r.Z3_lbool.Z3_L_UNDEF:return"unknown";default:(0,n.assertExhaustive)(O)}}model(){return new lr(d(c.solver_get_model(g,this.ptr)))}toString(){return d(c.solver_to_string(g,this.ptr))}fromString(a){c.solver_from_string(g,this.ptr,a),zt()}release(){c.solver_dec_ref(g,this.ptr),this._ptr=null,w.unregister(this)}}class Ei{get ptr(){return Ct(this._ptr),this._ptr}constructor(a=c.mk_optimize(g)){this.ctx=lt;let b;b=a,this._ptr=b,c.optimize_inc_ref(g,b),w.register(this,()=>c.optimize_dec_ref(g,b),this)}set(a,b){c.optimize_set_params(g,this.ptr,Tt(a,b))}push(){c.optimize_push(g,this.ptr)}pop(){c.optimize_pop(g,this.ptr)}add(...a){W(a).forEach(b=>{I(b),d(c.optimize_assert(g,this.ptr,b.ast))})}addSoft(a,b,O=""){m(b)&&(b=`${b.numerator}/${b.denominator}`),d(c.optimize_assert_soft(g,this.ptr,a.ast,b.toString(),X(O)))}addAndTrack(a,b){typeof b=="string"&&(b=Q.const(b)),(0,n.assert)(ot(b),"Provided expression that is not a constant to addAndTrack"),d(c.optimize_assert_and_track(g,this.ptr,a.ast,b.ast))}assertions(){return new ue(d(c.optimize_get_assertions(g,this.ptr)))}maximize(a){d(c.optimize_maximize(g,this.ptr,a.ast))}minimize(a){d(c.optimize_minimize(g,this.ptr,a.ast))}async check(...a){const b=W(a).map(U=>(I(U),U.ast)),O=await o.runExclusive(()=>d(c.optimize_check(g,this.ptr,b)));switch(O){case r.Z3_lbool.Z3_L_FALSE:return"unsat";case r.Z3_lbool.Z3_L_TRUE:return"sat";case r.Z3_lbool.Z3_L_UNDEF:return"unknown";default:(0,n.assertExhaustive)(O)}}model(){return new lr(d(c.optimize_get_model(g,this.ptr)))}toString(){return d(c.optimize_to_string(g,this.ptr))}fromString(a){c.optimize_from_string(g,this.ptr,a),zt()}release(){c.optimize_dec_ref(g,this.ptr),this._ptr=null,w.unregister(this)}}class lr{get ptr(){return Ct(this._ptr),this._ptr}constructor(a=c.mk_model(g)){this.ctx=lt,this._ptr=a,c.model_inc_ref(g,a),w.register(this,()=>c.model_dec_ref(g,a),this)}length(){return c.model_get_num_consts(g,this.ptr)+c.model_get_num_funcs(g,this.ptr)}[Symbol.iterator](){return this.values()}*entries(){const a=this.length();for(let b=0;b<a;b++)yield[b,this.get(b)]}*keys(){for(const[a]of this.entries())yield a}*values(){for(const[,a]of this.entries())yield a}decls(){return[...this.values()]}sexpr(){return d(c.model_to_string(g,this.ptr))}toString(){return this.sexpr()}eval(a,b=!1){I(a);const O=d(c.model_eval(g,this.ptr,a.ast,b));if(O===null)throw new t.Z3Error("Failed to evaluate expression in the model");return N(O)}get(a,b){if((0,n.assert)(b===void 0||typeof a=="number"),typeof a=="number"){const O=this.length();if(a>=O)throw new RangeError(`expected index ${a} to be less than length ${O}`);if(b===void 0){const B=d(c.model_get_num_consts(g,this.ptr));return a<B?new Pt(d(c.model_get_const_decl(g,this.ptr,a))):new Pt(d(c.model_get_func_decl(g,this.ptr,a-B)))}if(b<0&&(b+=O),b>=O)throw new RangeError(`expected index ${b} to be less than length ${O}`);const U=[];for(let B=a;B<b;B++)U.push(this.get(B));return U}else if(Mt(a)||Y(a)&&ot(a)){const O=this.getInterp(a);return(0,n.assert)(O!==null),O}else if(jt(a))return this.getUniverse(a);(0,n.assert)(!1,"Number, declaration or constant expected")}updateValue(a,b){if(I(a),I(b),Y(a)&&(a=a.decl()),Mt(a)&&a.arity()!==0&&ne(b)){const O=this.addFuncInterp(a,b.elseValue());for(let U=0;U<b.numEntries();U++){const B=b.entry(U),gr=B.numArgs(),pr=Qs.Array(gr).map((le,vt)=>B.argValue(vt));O.addEntry(pr,B.value())}return}if(!Mt(a)||a.arity()!==0)throw new t.Z3Error("Expecting 0-ary function or constant expression");if(!Lt(b))throw new t.Z3Error("Only func declarations can be assigned to func interpretations");d(c.add_const_interp(g,this.ptr,a.ptr,b.ast))}addFuncInterp(a,b){const O=d(c.add_func_interp(g,this.ptr,a.ptr,a.range().cast(b).ptr));return new Yr(O)}getInterp(a){if((0,n.assert)(Mt(a)||ot(a),"Declaration expected"),ot(a)&&((0,n.assert)(Y(a)),a=a.decl()),(0,n.assert)(Mt(a)),a.arity()===0){const b=d(c.model_get_const_interp(g,this.ptr,a.ptr));return b===null?null:N(b)}else{const b=d(c.model_get_func_interp(g,this.ptr,a.ptr));return b===null?null:new Yr(b)}}getUniverse(a){return I(a),new ue(d(c.model_get_sort_universe(g,this.ptr,a.ptr)))}release(){c.model_dec_ref(g,this.ptr),this._ptr=null,w.unregister(this)}}class Oi{constructor(a){this.ptr=a,this.ctx=lt,c.func_entry_inc_ref(g,a),w.register(this,()=>c.func_entry_dec_ref(g,a),this)}numArgs(){return d(c.func_entry_get_num_args(g,this.ptr))}argValue(a){return N(d(c.func_entry_get_arg(g,this.ptr,a)))}value(){return N(d(c.func_entry_get_value(g,this.ptr)))}}class Yr{constructor(a){this.ptr=a,this.ctx=lt,c.func_interp_inc_ref(g,a),w.register(this,()=>c.func_interp_dec_ref(g,a),this)}elseValue(){return N(d(c.func_interp_get_else(g,this.ptr)))}numEntries(){return d(c.func_interp_get_num_entries(g,this.ptr))}arity(){return d(c.func_interp_get_arity(g,this.ptr))}entry(a){return new Oi(d(c.func_interp_get_entry(g,this.ptr,a)))}addEntry(a,b){const O=new ue;for(const U of a)O.push(U);I(O),I(b),(0,n.assert)(this.arity()===O.length(),"Number of arguments in entry doesn't match function arity"),d(c.func_interp_add_entry(g,this.ptr,O.ptr,b.ptr))}}class Kt extends ur{get ast(){return c.sort_to_ast(g,this.ptr)}kind(){return c.get_sort_kind(g,this.ptr)}subsort(a){return I(a),!1}cast(a){return I(a),(0,n.assert)(a.sort.eqIdentity(a.sort),"Sort mismatch"),a}name(){return wt(c.get_sort_name(g,this.ptr))}eqIdentity(a){return I(a),d(c.is_eq_sort(g,this.ptr,a.ptr))}neqIdentity(a){return!this.eqIdentity(a)}}class Pt extends ur{get ast(){return c.func_decl_to_ast(g,this.ptr)}name(){return wt(c.get_decl_name(g,this.ptr))}arity(){return c.get_arity(g,this.ptr)}domain(a){return(0,n.assert)(a<this.arity(),"Index out of bounds"),Zt(c.get_domain(g,this.ptr,a))}range(){return Zt(c.get_range(g,this.ptr))}kind(){return c.get_decl_kind(g,this.ptr)}params(){const a=c.get_decl_num_parameters(g,this.ptr),b=[];for(let O=0;O<a;O++){const U=d(c.get_decl_parameter_kind(g,this.ptr,O));switch(U){case r.Z3_parameter_kind.Z3_PARAMETER_INT:b.push(d(c.get_decl_int_parameter(g,this.ptr,O)));break;case r.Z3_parameter_kind.Z3_PARAMETER_DOUBLE:b.push(d(c.get_decl_double_parameter(g,this.ptr,O)));break;case r.Z3_parameter_kind.Z3_PARAMETER_RATIONAL:b.push(d(c.get_decl_rational_parameter(g,this.ptr,O)));break;case r.Z3_parameter_kind.Z3_PARAMETER_SYMBOL:b.push(wt(d(c.get_decl_symbol_parameter(g,this.ptr,O))));break;case r.Z3_parameter_kind.Z3_PARAMETER_SORT:b.push(new Kt(d(c.get_decl_sort_parameter(g,this.ptr,O))));break;case r.Z3_parameter_kind.Z3_PARAMETER_AST:b.push(new Ht(d(c.get_decl_ast_parameter(g,this.ptr,O))));break;case r.Z3_parameter_kind.Z3_PARAMETER_FUNC_DECL:b.push(new Pt(d(c.get_decl_func_decl_parameter(g,this.ptr,O))));break;case r.Z3_parameter_kind.Z3_PARAMETER_INTERNAL:break;case r.Z3_parameter_kind.Z3_PARAMETER_ZSTRING:break;default:(0,n.assertExhaustive)(U)}}return b}call(...a){return(0,n.assert)(a.length===this.arity(),`Incorrect number of arguments to ${this}`),N(d(c.mk_app(g,this.ptr,a.map((b,O)=>this.domain(O).cast(b).ast))))}}class Ht extends ur{get sort(){return Zt(c.get_sort(g,this.ast))}eq(a){return new V(d(c.mk_eq(g,this.ast,S(a).ast)))}neq(a){return new V(d(c.mk_distinct(g,[this,a].map(b=>S(b).ast))))}name(){return this.decl().name()}params(){return this.decl().params()}decl(){return(0,n.assert)(bt(this),"Z3 application expected"),new Pt(d(c.get_app_decl(g,d(c.to_app(g,this.ast)))))}numArgs(){return(0,n.assert)(bt(this),"Z3 applicaiton expected"),d(c.get_app_num_args(g,d(c.to_app(g,this.ast))))}arg(a){return(0,n.assert)(bt(this),"Z3 applicaiton expected"),(0,n.assert)(a<this.numArgs(),`Invalid argument index - expected ${a} to be less than ${this.numArgs()}`),N(d(c.get_app_arg(g,d(c.to_app(g,this.ast)),a)))}children(){const a=this.numArgs();if(bt(this)){const b=[];for(let O=0;O<a;O++)b.push(this.arg(O));return b}return[]}}class Pi{constructor(a){this.ptr=a,this.ctx=lt}}class ss extends Kt{cast(a){return typeof a=="boolean"&&(a=Q.val(a)),(0,n.assert)(Y(a),"true, false or Z3 Boolean expression expected."),(0,n.assert)(this.eqIdentity(a.sort),"Value cannot be converted into a Z3 Boolean value"),a}subsort(a){return I(a.ctx),a instanceof Ve}}class V extends Ht{not(){return $r(this)}and(a){return zr(this,a)}or(a){return jr(this,a)}xor(a){return Br(this,a)}implies(a){return Fr(this,a)}iff(a){return Dr(this,a)}}class cr{constructor(a){this.ptr=a,this.ctx=lt}}class Xr{constructor(a){this.ctx=lt;let b;typeof a=="string"?b=d(c.mk_tactic(g,a)):b=a,this.ptr=b,c.tactic_inc_ref(g,b),w.register(this,()=>c.tactic_dec_ref(g,b),this)}}class Ve extends Kt{cast(a){const b=ae(this)?"IntSort":"RealSort";if(Y(a)){const O=a.sort;if(Ft(a)){if(this.eqIdentity(O))return a;if(ae(O)&&je(this))return Vr(a);(0,n.assert)(!1,"Can't cast Real to IntSort without loss")}else if(se(a))return ae(this)?Vt(a,1,0):Vr(Vt(a,1,0));(0,n.assert)(!1,`Can't cast expression to ${b}`)}else{if(typeof a!="boolean")return ae(this)?((0,n.assert)(!m(a),"Can't cast fraction to IntSort"),_t.val(a)):tt.val(a);(0,n.assert)(!1,`Can't cast primitive to ${b}`)}}}function Kr(l,...a){if(l instanceof G){if(a.length!==1)throw new Error("BitVec add only supports 2 arguments");return new G(d(c.mk_bvadd(g,l.ast,l.sort.cast(a[0]).ast)))}else return(0,n.assert)(l instanceof et),new et(d(c.mk_add(g,[l.ast].concat(a.map(b=>l.sort.cast(b).ast)))))}function Jr(l,...a){if(l instanceof G){if(a.length!==1)throw new Error("BitVec sub only supports 2 arguments");return new G(d(c.mk_bvsub(g,l.ast,l.sort.cast(a[0]).ast)))}else return(0,n.assert)(l instanceof et),new et(d(c.mk_sub(g,[l.ast].concat(a.map(b=>l.sort.cast(b).ast)))))}function tn(l,...a){if(l instanceof G){if(a.length!==1)throw new Error("BitVec mul only supports 2 arguments");return new G(d(c.mk_bvmul(g,l.ast,l.sort.cast(a[0]).ast)))}else return(0,n.assert)(l instanceof et),new et(d(c.mk_mul(g,[l.ast].concat(a.map(b=>l.sort.cast(b).ast)))))}function en(l,a){return l instanceof G?new G(d(c.mk_bvsdiv(g,l.ast,l.sort.cast(a).ast))):((0,n.assert)(l instanceof et),new et(d(c.mk_div(g,l.ast,l.sort.cast(a).ast))))}function as(l,a){return new G(d(c.mk_bvudiv(g,l.ast,l.sort.cast(a).ast)))}function rn(l){return l instanceof G?new G(d(c.mk_bvneg(g,l.ast))):((0,n.assert)(l instanceof et),new et(d(c.mk_unary_minus(g,l.ast))))}function nn(l,a){return l instanceof G?new G(d(c.mk_bvsrem(g,l.ast,l.sort.cast(a).ast))):((0,n.assert)(l instanceof et),new et(d(c.mk_mod(g,l.ast,l.sort.cast(a).ast))))}class et extends Ht{add(a){return Kr(this,a)}mul(a){return tn(this,a)}sub(a){return Jr(this,a)}pow(a){return new et(d(c.mk_power(g,this.ast,this.sort.cast(a).ast)))}div(a){return en(this,a)}mod(a){return nn(this,a)}neg(){return rn(this)}le(a){return Fn(this,a)}lt(a){return Mn(this,a)}gt(a){return Un(this,a)}ge(a){return Dn(this,a)}}class Ge extends et{value(){return BigInt(this.asString())}asString(){return c.get_numeral_string(g,this.ast)}asBinary(){return c.get_numeral_binary_string(g,this.ast)}}class sn extends et{value(){return{numerator:this.numerator().value(),denominator:this.denominator().value()}}numerator(){return new Ge(c.get_numerator(g,this.ast))}denominator(){return new Ge(c.get_denominator(g,this.ast))}asNumber(){const{numerator:a,denominator:b}=this.value(),O=a/b;return Number(O)+Number(a-O*b)/Number(b)}asDecimal(a=Number.parseInt(T("precision")??i.toString())){return c.get_numeral_decimal_string(g,this.ast,a)}asString(){return c.get_numeral_string(g,this.ast)}}class an extends Kt{size(){return c.get_bv_sort_size(g,this.ptr)}subsort(a){return Ie(a)&&this.size()<a.size()}cast(a){return Y(a)?(I(a),a):((0,n.assert)(!m(a),"Can't convert rational to BitVec"),ht.val(a,this.size()))}}class G extends Ht{size(){return this.sort.size()}add(a){return Kr(this,a)}mul(a){return tn(this,a)}sub(a){return Jr(this,a)}sdiv(a){return en(this,a)}udiv(a){return as(this,a)}smod(a){return nn(this,a)}urem(a){return new G(d(c.mk_bvurem(g,this.ast,this.sort.cast(a).ast)))}srem(a){return new G(d(c.mk_bvsrem(g,this.ast,this.sort.cast(a).ast)))}neg(){return rn(this)}or(a){return new G(d(c.mk_bvor(g,this.ast,this.sort.cast(a).ast)))}and(a){return new G(d(c.mk_bvand(g,this.ast,this.sort.cast(a).ast)))}nand(a){return new G(d(c.mk_bvnand(g,this.ast,this.sort.cast(a).ast)))}xor(a){return new G(d(c.mk_bvxor(g,this.ast,this.sort.cast(a).ast)))}xnor(a){return new G(d(c.mk_bvxnor(g,this.ast,this.sort.cast(a).ast)))}shr(a){return new G(d(c.mk_bvashr(g,this.ast,this.sort.cast(a).ast)))}lshr(a){return new G(d(c.mk_bvlshr(g,this.ast,this.sort.cast(a).ast)))}shl(a){return new G(d(c.mk_bvshl(g,this.ast,this.sort.cast(a).ast)))}rotateRight(a){return new G(d(c.mk_ext_rotate_right(g,this.ast,this.sort.cast(a).ast)))}rotateLeft(a){return new G(d(c.mk_ext_rotate_left(g,this.ast,this.sort.cast(a).ast)))}not(){return new G(d(c.mk_bvnot(g,this.ast)))}extract(a,b){return Qn(a,b,this)}signExt(a){return new G(d(c.mk_sign_ext(g,a,this.ast)))}zeroExt(a){return new G(d(c.mk_zero_ext(g,a,this.ast)))}repeat(a){return new G(d(c.mk_repeat(g,a,this.ast)))}sle(a){return Hn(this,a)}ule(a){return zn(this,a)}slt(a){return Vn(this,a)}ult(a){return Bn(this,a)}sge(a){return Wn(this,a)}uge(a){return jn(this,a)}sgt(a){return Gn(this,a)}ugt(a){return $n(this,a)}redAnd(){return new G(d(c.mk_bvredand(g,this.ast)))}redOr(){return new G(d(c.mk_bvredor(g,this.ast)))}addNoOverflow(a,b){return new V(d(c.mk_bvadd_no_overflow(g,this.ast,this.sort.cast(a).ast,b)))}addNoUnderflow(a){return new V(d(c.mk_bvadd_no_underflow(g,this.ast,this.sort.cast(a).ast)))}subNoOverflow(a){return new V(d(c.mk_bvsub_no_overflow(g,this.ast,this.sort.cast(a).ast)))}subNoUndeflow(a,b){return new V(d(c.mk_bvsub_no_underflow(g,this.ast,this.sort.cast(a).ast,b)))}sdivNoOverflow(a){return new V(d(c.mk_bvsdiv_no_overflow(g,this.ast,this.sort.cast(a).ast)))}mulNoOverflow(a,b){return new V(d(c.mk_bvmul_no_overflow(g,this.ast,this.sort.cast(a).ast,b)))}mulNoUndeflow(a){return new V(d(c.mk_bvmul_no_underflow(g,this.ast,this.sort.cast(a).ast)))}negNoOverflow(){return new V(d(c.mk_bvneg_no_overflow(g,this.ast)))}}class _n extends G{value(){return BigInt(this.asString())}asSignedValue(){let a=this.value();const b=BigInt(this.size());return a>=2n**(b-1n)&&(a=a-2n**b),a<(-2n)**(b-1n)&&(a=a+2n**b),a}asString(){return c.get_numeral_string(g,this.ast)}asBinaryString(){return c.get_numeral_binary_string(g,this.ast)}}class fr extends Kt{domain(){return Zt(d(c.get_array_sort_domain(g,this.ptr)))}domain_n(a){return Zt(d(c.get_array_sort_domain_n(g,this.ptr,a)))}range(){return Zt(d(c.get_array_sort_range(g,this.ptr)))}}class mr extends Ht{domain(){return this.sort.domain()}domain_n(a){return this.sort.domain_n(a)}range(){return this.sort.range()}select(...a){return Gr(this,...a)}store(...a){return Hr(this,...a)}}class Jt extends Ht{elemSort(){return this.sort.domain()}union(...a){return Yn(this,...a)}intersect(...a){return Xn(this,...a)}diff(a){return Kn(this,a)}hasSize(a){return Jn(this,a)}add(a){return Wr(this,a)}del(a){return ts(this,a)}complement(){return es(this)}contains(a){return rs(a,this)}subsetOf(a){return ns(this,a)}}class is{constructor(a,b){this.constructors=[],this.ctx=a,this.name=b}declare(a,...b){return this.constructors.push([a,b]),this}create(){return _s(this)[0]}}class Ri extends Kt{numConstructors(){return c.get_datatype_sort_num_constructors(g,this.ptr)}constructorDecl(a){const b=c.get_datatype_sort_constructor(g,this.ptr,a);return new Pt(b)}recognizer(a){const b=c.get_datatype_sort_recognizer(g,this.ptr,a);return new Pt(b)}accessor(a,b){const O=c.get_datatype_sort_constructor_accessor(g,this.ptr,a,b);return new Pt(O)}cast(a){if(Y(a))return(0,n.assert)(this.eqIdentity(a.sort),"Value cannot be converted to this datatype"),a;throw new Error("Cannot coerce value to datatype expression")}subsort(a){return I(a.ctx),this.eqIdentity(a)}}function _s(...l){if(l.length===0)throw new Error("At least one datatype must be provided");const a=l[0].ctx;for(const B of l)if(B.ctx!==a)throw new Error("All datatypes must be from the same context");const b=l.map(B=>B.name),O=[],U=[];try{for(const le of l){const vt=[];for(const[ce,he]of le.constructors){const hr=[],be=[],de=[];for(const[We,br]of he)if(hr.push(We),br instanceof is){const us=l.indexOf(br);if(us===-1)throw new Error(`Referenced datatype "${br.name}" not found in datatypes being created`);be.push(null),de.push(us)}else be.push(br.ptr),de.push(0);const He=c.mk_constructor(g,c.mk_string_symbol(g,ce),c.mk_string_symbol(g,`is_${ce}`),hr.map(We=>c.mk_string_symbol(g,We)),be,de);vt.push(He),U.push(He)}const ln=c.mk_constructor_list(g,vt);O.push(ln)}const B=b.map(le=>c.mk_string_symbol(g,le)),gr=c.mk_datatypes(g,B,O),pr=[];for(let le=0;le<gr.length;le++){const vt=new Ri(gr[le]),ln=vt.numConstructors();for(let ce=0;ce<ln;ce++){const he=vt.constructorDecl(ce),hr=vt.recognizer(ce),be=he.name().toString();he.arity()===0?vt[be]=he.call():vt[be]=he,vt[`is_${be}`]=hr;for(let de=0;de<he.arity();de++){const He=vt.accessor(ce,de),We=He.name().toString();vt[We]=He}}pr.push(vt)}return pr}finally{for(const B of U)c.del_constructor(g,B);for(const B of O)c.del_constructor_list(g,B)}}class on extends Ht{is_forall(){return c.is_quantifier_forall(g,this.ast)}is_exists(){return c.is_quantifier_exists(g,this.ast)}is_lambda(){return c.is_lambda(g,this.ast)}weight(){return c.get_quantifier_weight(g,this.ast)}num_patterns(){return c.get_quantifier_num_patterns(g,this.ast)}pattern(a){return new Pi(d(c.get_quantifier_pattern_ast(g,this.ast,a)))}num_no_patterns(){return c.get_quantifier_num_no_patterns(g,this.ast)}no_pattern(a){return N(d(c.get_quantifier_no_pattern_ast(g,this.ast,a)))}body(){return N(d(c.get_quantifier_body(g,this.ast)))}num_vars(){return c.get_quantifier_num_bound(g,this.ast)}var_name(a){return wt(c.get_quantifier_bound_name(g,this.ast,a))}var_sort(a){return Zt(d(c.get_quantifier_bound_sort(g,this.ast,a)))}children(){return[this.body()]}}class un extends on{not(){return $r(this)}and(a){return zr(this,a)}or(a){return jr(this,a)}xor(a){return Br(this,a)}implies(a){return Fr(this,a)}iff(a){return Dr(this,a)}}class os extends on{domain(){return this.sort.domain()}domain_n(a){return this.sort.domain_n(a)}range(){return this.sort.range()}select(...a){return Gr(this,...a)}store(...a){return Hr(this,...a)}}class ue{constructor(a=c.mk_ast_vector(g)){this.ptr=a,this.ctx=lt,c.ast_vector_inc_ref(g,a),w.register(this,()=>c.ast_vector_dec_ref(g,a),this)}length(){return c.ast_vector_size(g,this.ptr)}[Symbol.iterator](){return this.values()}*entries(){const a=this.length();for(let b=0;b<a;b++)yield[b,this.get(b)]}*keys(){for(let[a]of this.entries())yield a}*values(){for(let[,a]of this.entries())yield a}get(a,b){const O=this.length();if(a<0&&(a+=O),a>=O)throw new RangeError(`expected from index ${a} to be less than length ${O}`);if(b===void 0)return qt(d(c.ast_vector_get(g,this.ptr,a)));if(b<0&&(b+=O),b>=O)throw new RangeError(`expected to index ${b} to be less than length ${O}`);const U=[];for(let B=a;B<b;B++)U.push(qt(d(c.ast_vector_get(g,this.ptr,B))));return U}set(a,b){if(I(b),a>=this.length())throw new RangeError(`expected index ${a} to be less than length ${this.length()}`);d(c.ast_vector_set(g,this.ptr,a,b.ast))}push(a){I(a),d(c.ast_vector_push(g,this.ptr,a.ast))}resize(a){d(c.ast_vector_resize(g,this.ptr,a))}has(a){I(a);for(const b of this.values())if(b.eqIdentity(a))return!0;return!1}sexpr(){return d(c.ast_vector_to_string(g,this.ptr))}}class Si{constructor(a=c.mk_ast_map(g)){this.ptr=a,this.ctx=lt,c.ast_map_inc_ref(g,a),w.register(this,()=>c.ast_map_dec_ref(g,a),this)}[Symbol.iterator](){return this.entries()}get size(){return c.ast_map_size(g,this.ptr)}*entries(){for(const a of this.keys())yield[a,this.get(a)]}keys(){return new ue(c.ast_map_keys(g,this.ptr))}*values(){for(const[a,b]of this.entries())yield b}get(a){return qt(d(c.ast_map_find(g,this.ptr,a.ast)))}set(a,b){d(c.ast_map_insert(g,this.ptr,a.ast,b.ast))}delete(a){d(c.ast_map_erase(g,this.ptr,a.ast))}clear(){d(c.ast_map_reset(g,this.ptr))}has(a){return d(c.ast_map_contains(g,this.ptr,a.ast))}sexpr(){return d(c.ast_map_to_string(g,this.ptr))}}function Ai(l,...a){I(l);const b=[],O=[];for(const[U,B]of a)I(U),I(B),b.push(U.ast),O.push(B.ast);return N(d(c.substitute(g,l.ast,b,O)))}function Ti(l){const a=[],b=[],O=[],U=[],B=new ue(d(c.parse_smtlib2_string(g,l,a,b,O,U)));if(B.length()!==1)throw new Error("Expected exactly one AST. Instead got "+B.length()+": "+B.sexpr());return B.get(0)}const lt={ptr:g,name:j,Solver:wi,Optimize:Ei,Model:lr,Tactic:Xr,AstVector:ue,AstMap:Si,interrupt:ge,isModel:It,isAst:Lt,isSort:jt,isFuncDecl:Mt,isFuncInterp:ne,isApp:bt,isConst:ot,isExpr:Y,isVar:Et,isAppOf:Ot,isBool:se,isTrue:pe,isFalse:Ut,isAnd:Yt,isOr:Ae,isImplies:Te,isNot:rr,isEq:Ze,isDistinct:nr,isQuantifier:De,isArith:Ft,isArithSort:qr,isInt:Be,isIntVal:$e,isIntSort:ae,isReal:ze,isRealVal:Mr,isRealSort:je,isBitVecSort:Ie,isBitVec:Ur,isBitVecVal:sr,isArraySort:ar,isArray:ir,isConstArray:_r,isProbe:Xt,isTactic:p,isAstVector:v,eqIdentity:E,getVarIndex:R,from:S,solve:L,Sort:$,Function:K,RecFunc:pt,Bool:Q,Int:_t,Real:tt,BitVec:ht,Array:xt,Set:or,Datatype:ut,If:Vt,Distinct:ie,Const:Gt,Consts:_e,FreshConst:oe,Var:ai,Implies:Fr,Iff:Dr,Eq:ii,Xor:Br,Not:$r,And:zr,Or:jr,PbEq:_i,PbGe:oi,PbLe:ui,ForAll:li,Exists:ci,Lambda:fi,ToReal:Vr,ToInt:mi,IsInt:gi,Sqrt:pi,Cbrt:hi,BV2Int:bi,Int2BV:di,Concat:vi,Cond:qn,LT:Mn,GT:Un,LE:Fn,GE:Dn,ULT:Bn,UGT:$n,ULE:zn,UGE:jn,SLT:Vn,SGT:Gn,SLE:Hn,SGE:Wn,Sum:Kr,Sub:Jr,Product:tn,Div:en,BUDiv:as,Neg:rn,Mod:nn,Select:Gr,Store:Hr,Extract:Qn,substitute:Ai,simplify:x,ast_from_string:Ti,SetUnion:Yn,SetIntersect:Xn,SetDifference:Kn,SetHasSize:Jn,SetAdd:Wr,SetDel:ts,SetComplement:es,EmptySet:Qr,FullSet:yi,isMember:rs,isSubset:ns};return w.register(lt,()=>c.del_context(g)),lt}return{enableTrace:s,disableTrace:Z,getVersion:q,getVersionString:M,getFullVersion:C,openLog:u,appendLog:_,getParam:T,setParam:f,resetParams:y,Context:D}}return dr}var ks;function ro(){return ks||(ks=1,function(e){var r=ye&&ye.__createBinding||(Object.create?function(n,i,o,m){m===void 0&&(m=o);var h=Object.getOwnPropertyDescriptor(i,o);(!h||("get"in h?!i.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,m,h)}:function(n,i,o,m){m===void 0&&(m=o),n[m]=i[o]}),t=ye&&ye.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&r(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),t(eo(),e),t(kr(),e)}(ye)),ye}var Cs;function no(){return Cs||(Cs=1,function(e){var r=ve&&ve.__createBinding||(Object.create?function(m,h,c,w){w===void 0&&(w=c);var s=Object.getOwnPropertyDescriptor(h,c);(!s||("get"in s?!h.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return h[c]}}),Object.defineProperty(m,w,s)}:function(m,h,c,w){w===void 0&&(w=c),m[w]=h[c]}),t=ve&&ve.__exportStar||function(m,h){for(var c in m)c!=="default"&&!Object.prototype.hasOwnProperty.call(h,c)&&r(h,m,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.init=o;const n=ro(),i=Da();t(kr(),e),t(Fa(),e);async function o(){const m=Qs.initZ3;if(m===void 0)throw new Error("initZ3 was not imported correctly. Please consult documentation on how to load Z3 in browser");const h=await(0,i.init)(m),c=(0,n.createApi)(h.Z3);return{...h,...c}}}(ve)),ve}var so=no();const qs=async()=>await so.init(),ao=async(e,r,t,n)=>{const i=E_(n,new Re,new Re([...t.letters()])),o=w_(n,new Set);if(!i.is_empty()||o.size>0)return{tag:"undeclared-vars",variables:{sentence:[...i],real:[...o]}};const m=l_(n),h=t.n_states()-1;for(const M of m){const C=kt(t,M),[u,_]=hs(t.n_states(),h,{tag:"constraint",constraint:C});if(_.tag!=="constraint")throw new Error("Expected constraint after elimination");const f=Ln(e,r,_.constraint);if(r.eval(f,!0).sexpr()==="false")return{tag:"div0"}}const c=y_(t,n),[w,s]=hs(t.n_states(),h,c),Z=lo(e,r,s);if(n.tag==="constraint")return{tag:"bool-result",result:r.eval(Z,!0).sexpr()==="true"};const q=await Ba(e,r,Z);return console.log("RESULT",q),{tag:"result",result:q}},ke=e=>{const r=parseInt(e);return isNaN(r)?[!1,`Parsing '${e}' as int gave a NaN!`]:[!0,r]},io=e=>{const r=parseFloat(e);return isNaN(r)?[!1,`Parsing '${e}' as float gave a NaN!`]:[!0,r]},_o=e=>{const r=Se("c"),t=Se("exp"),n=i=>Ke(ke(i));return On(e,[ft({c:"string"},r,i=>{const[o,m]=ke(i("c"));return o?[m,0]:[1,1]}),ft({c:"string"},["-",r],i=>{const[o,m]=ke(i("c"));return o?[-m,0]:[-1,1]}),ft({exp:"string"},["^","x",t],i=>[1,n(i("exp"))]),ft({exp:"string"},["-",["^","x",t]],i=>[-1,n(i("exp"))]),ft({c:"string"},["*",r,"x"],i=>[n(i("c")),1]),ft({c:"string"},["*",["-",r],"x"],i=>[-n(i("c")),1]),ft({c:"string",exp:"string"},["*",r,["^","x",t]],i=>[n(i("c")),Ke(ke(i("exp")))]),ft({c:"string",exp:"string"},["*",["-",r],["^","x",t]],i=>[-n(i("c")),Ke(ke(i("exp")))])])},Ce=e=>{const[r,t]=[Se("a"),Se("b")];return On(e,[ft({a:"string"},r,n=>{const i=n("a");return{tag:"literal",value:Ke(io(i))}}),ft({a:"s"},["-",r],n=>({tag:"negative",inner:Ce(n("a"))})),ft({a:"string",b:"string"},["/",r,t],n=>{const i=Ce(n("a")),o=Ce(n("b"));return{tag:"rational",numerator:i,denominator:o}}),ft({a:"string",b:"string"},["/",r,t],n=>{const i=Ce(n("a")),o=Ce(n("b"));return{tag:"rational",numerator:i,denominator:o}}),Ks(n=>{const i=n("s");if(Array.isArray(i)&&i.length>2&&i[0]==="root-obj"){const o=z(Li(i[1]),"missing sum in root-obj!");if(o.length<=1)throw new Error("sum_s in root-obj doesn't have enough terms!");F(o[0]==="+",`first element of sum isn't '+', but is instead '${o[0]}'!`);const m=[],h=o.length-1;let c=0,w;for(let q=0;q<h;q++){const M=z(o[1+q],`term missing at index ${1+q}`),[C,u]=_o(M);if(w!==void 0&&w<=u)throw new Error("Expected exponents to monotonically decrease in polynomial!");if(F(w===void 0||w>u),w!==void 0)for(let _=w-1;_>u;_--)m.push(0);m.push(C),c=Math.max(c,u),w=u}const s=z(i[2],"missing index!"),Z=typeof s=="string"?Ke(ke(s)):typeof s=="number"?s:-1;return{tag:"generic-root-obj",degree:c,coefficients:m,index:Z}}else return{tag:"unknown",s:n("s")}})])},Ba=async(e,r,t)=>{const n=await e.simplify(r.eval(t)),i=d_(n.sexpr());return Ce(i)},oo=async(e,r)=>{const t=[];for(const n of r.decls()){if(n.arity()!==0)continue;const i=n.name().toString();if(i.length<3)throw new Error(`Expected model entry name to be of length at least 3!
name: ${i.length}`);const o=i.substring(2),m=parseInt(o);if(isNaN(m))throw new Error(`Expected model entry name to be of the form a_<number>!
name: ${i}`);const h=m-1;t.push([h,await e.simplify(r.eval(n.call()))])}return t},uo=async(e,r)=>{const t={},n=await oo(e,r);for(const[i,o]of n)t[i]=await Ba(e,r,o);return t},lo=(e,r,t)=>t.tag==="constraint"?Ln(e,r,t.constraint):t.tag==="real_expr"?In(e,r,t.real_expr):rt("constraint_or_real_expr_to_z3_expr"),In=(e,r,t)=>{const n=i=>In(e,r,i);if(t.tag==="divide")return e.Div(n(t.numerator),n(t.denominator));if(t.tag==="given_probability")throw new Error("Unable to convert conditional probability to a Z3 arith expression!");if(t.tag==="literal")return e.Real.val(t.value);if(t.tag==="minus")return e.Sub(n(t.left),n(t.right));if(t.tag==="multiply")return e.Product(n(t.left),n(t.right));if(t.tag==="negative")return e.Neg(n(t.expr));if(t.tag==="plus")return e.Sum(n(t.left),n(t.right));if(t.tag==="power")throw new Error("Unable to convert exponent to Z3 arith expression (be careful where real_expr_to_arith is called!)");if(t.tag==="probability")throw new Error("Unable to convert probability to a Z3 arith expression!");if(t.tag==="state_variable_sum"){if(t.indices.length===0)return e.Real.val(0);{const i=e.Const(Je(t.indices[0]),e.Real.sort()),o=t.indices.slice(1).map(m=>e.Const(Je(m),e.Real.sort()));return e.Sum(i,...o)}}else{if(t.tag==="variable")throw new Error("Unable to convert variable to Z3 arith expression (be careful where real_expr_to_arith is called!)");return rt("real_expr_to_arith")}},Ln=(e,r,t)=>{const n=o=>Ln(e,r,o),i=o=>In(e,r,o);return t.tag==="biconditional"?e.Iff(n(t.left),n(t.right)):t.tag==="conditional"?e.Implies(n(t.left),n(t.right)):t.tag==="conjunction"?e.And(n(t.left),n(t.right)):t.tag==="disjunction"?e.Or(n(t.left),n(t.right)):t.tag==="equal"?e.Eq(i(t.left),i(t.right)):t.tag==="greater_than"?e.GT(i(t.left),i(t.right)):t.tag==="greater_than_or_equal"?e.GE(i(t.left),i(t.right)):t.tag==="less_than"?e.LT(i(t.left),i(t.right)):t.tag==="less_than_or_equal"?e.LE(i(t.left),i(t.right)):t.tag==="negation"?e.Not(n(t.constraint)):t.tag==="not_equal"?e.Not(e.Eq(i(t.left),i(t.right))):rt("constraint_to_bool")},co={regular:!1,abort_signal:void 0},fo=async(e,r,t,n)=>{const{regular:i,abort_signal:o,cancel_fallback:m,onTranslated:h}={...co,...n??{}},c=__(r,t);h==null||h(c);const w=r.n_states()-1,s=p_(r,w,i,c),[Z,q]=g_(r.n_states(),w,s),C=v_(r,w,q).map(f=>En(f,!1)).join(`
`),u=await e.solve(C,o,m),_={original:t,translated:c,extra:s,eliminated:q};if(u.status==="sat"){const f=await u.evaluate(r,{tag:"real_expr",real_expr:Z});if(f.tag!=="result")throw new Error("Oh no error when trying to calculate eliminated variable!");return{constraints:_,smtlib_input:C+`
(check-sat)
(get-model)`,solver_output:{...u,state_assignments:{...u.state_assignments,[w]:f.result}}}}else return{constraints:_,smtlib_input:C+`
(check-sat)`,solver_output:u}},mo=async(e,r,t,n,i)=>{const o=new Promise(c=>{i==null||i.addEventListener("abort",()=>{c({tag:"cancelled"})})}),m=e(i).then(c=>({tag:"finished",result:c})),h=await Promise.race([m,o]);if(h.tag==="finished")return h.result;if(h.tag==="cancelled"){const c=await r(),w=await Promise.race([m.then(()=>({tag:"finished",result:c})),Hs(n).then(()=>({tag:"cancelled"}))]);return w.tag==="finished"?w.result:w.tag==="cancelled"?await t():rt("run_solve_cancel_logic")}else return rt("run_solve_cancel_logic")};class go{constructor(r,t){this.z3_interface=r,this.init=t}async reinitialize(){const r=this.z3_interface;this.z3_interface=await this.init(),console.log("reinitialized?",r!==this.z3_interface)}async solve(r,t,n){return await mo(async i=>{if(this.z3_interface===void 0)return{status:"cancelled"};const o=this.z3_interface.Context("main"),m=new o.Solver("QF_NRA"),h=r;try{m.fromString(h)}catch(w){throw console.error(`smtlib_lines:
`,h),w}const c=()=>{o.interrupt()};i==null||i.addEventListener("abort",c);try{const w=await m.check();if(w==="sat"){const s=m.model(),Z=async(M,C)=>await ao(o,s,M,C),q=await uo(o,s);return{status:"sat",evaluate:Z,state_assignments:q}}else return{status:w}}catch(w){return{status:"exception",message:w.message}}finally{i==null||i.removeEventListener("abort",c)}},async()=>(await this.reinitialize(),{status:"cancelled"}),async()=>(console.log("attempting slow cancel..."),await(n==null?void 0:n()),await this.reinitialize(),{status:"cancelled"}),2*2e3,t)}}class po{constructor(r){J(this,"text",new cs(""));J(this,"output",new cs({tag:"nothing"}));J(this,"watch_group",new xi([]));J(this,"associate");J(this,"has_siblings");J(this,"is_focused",new dt(!1));var t;this.parent_block=r,this.text.watch(async n=>{if(n==="")await this.output.set({tag:"nothing"});else{const[i,o]=this.parent_block.parser(n);i?await this.output.set({tag:"parsed",output:o}):await this.output.set({tag:"error",message:o})}}),this.has_siblings=new dt(!1),this.associate=(t=this.parent_block)==null?void 0:t.associate_init(this)}remove(){return z(this.parent_block,"Can't remove if we don't have a parent!").remove_input(this)}then_insert(){return z(this.parent_block,"Can't remove if we don't have a parent!").insert_input_after(this)}on_state_change(r){return this.output.watch(r)}get_output(){return this.output.get()}on_focus(r){return this.is_focused.watch(r)}set_focused(){var r;(r=this.parent_block)==null||r.set_focus(this)}focus_previous(){var r;return(r=this.parent_block)==null?void 0:r.focus_previous()}focus_next(){var r;return(r=this.parent_block)==null?void 0:r.focus_next()}destroy(){this.text.cleanup(),this.output.cleanup(),this.watch_group.unwatch(),this.is_focused.cleanup()}add_watcher(r){this.watch_group.add(r)}}class $a{constructor(r,t){J(this,"inputs",new Ni([]));J(this,"longest_line_length",new dt(0));J(this,"outputs",new dt(void 0));J(this,"focused",new dt(void 0));this.parser=r,this.associate_init=t,this.inputs.watch_insert(n=>{var i;n.on_state_change(async(o,m)=>{if(m===void 0)throw new Error("SingleInputLogic updates from undefined!");if(m.tag==="nothing"){if(o.tag!=="nothing")if(o.tag==="error")this.outputs.set(void 0);else if(o.tag==="parsed")this.update_outputs();else return rt("InputBlockLogic.constructor input.on_state_change last_state")}else if(m.tag==="error"){if(o.tag==="nothing")this.update_outputs();else if(o.tag!=="error")if(o.tag==="parsed")this.update_outputs();else return rt("InputBlockLogic.constructor input.on_state_change last_state")}else if(m.tag==="parsed")if(o.tag==="nothing")this.update_outputs();else if(o.tag==="error")this.outputs.set(void 0);else if(o.tag==="parsed")this.update_outputs();else return rt("InputBlockLogic.constructor input.on_state_change last_state");else return rt("InputBlockLogic.constructor input.on_state_change")}),this.inputs.size()===1?n.has_siblings.set(!1):(i=this.inputs.at(0))==null||i.has_siblings.set(!0)}),this.inputs.watch_remove(n=>{if(this.inputs.size()===2){const i=this.inputs.get_previous(n);if(i!==void 0)i.has_siblings.set(!1);else{const o=this.inputs.get_next(n);o==null||o.has_siblings.set(!1)}}})}get_inputs(){return this.inputs[Symbol.iterator]()}set_outputs(r){this.get_output()===void 0&&r===void 0||this.outputs.set(r)}update_outputs(){const r=[];for(const t of this.inputs){const n=t.get_output();if(n.tag==="error"){this.set_outputs(void 0);return}else n.tag==="parsed"&&r.push(n.output)}this.set_outputs(r)}on_insert(r){this.inputs.watch_insert(r)}on_remove(r){this.inputs.watch_remove(r)}insert_input_after(r){const t=new po(this);return(r===void 0||r.is_focused.get())&&t.set_focused(),this.inputs.insert_after(r,t),t}remove_input(r){const t=this.inputs.get_previous(r)??this.inputs.get_next(r);if(t!==void 0)return this.inputs.remove(r),this.update_outputs(),t}on_ready(r){return this.outputs.watch(r)}get_output(){return this.outputs.get()}set_focus(r){const t=this.focused.get();t!==void 0&&t.is_focused.set(!1),this.focused.set(r),r==null||r.is_focused.set(!0)}focus_previous(){if(this.inputs.size()===0)return;const r=this.focused.get();if(r===void 0){const t=this.inputs.at(this.inputs.size()-1);return this.set_focus(t),t}else{const t=this.inputs.get_previous(r);return t!==void 0&&this.set_focus(t),t}}focus_next(){if(this.inputs.size()===0)return;const r=this.focused.get();if(r===void 0){const t=this.inputs.at(0);return this.set_focus(t),t}else{const t=this.inputs.get_next(r);return t!==void 0&&this.set_focus(t),t}}n_inputs(){return this.inputs.size()}async set_fields(r){const t=r.map(n=>n.trim());for(const[n,i]of this.inputs.entries())if(n>=t.length)i.remove();else{const o=z(t[n],`Field at index ${n} doesn't exist so you probably messed up near this assertion!`);await i.text.set(o)}if(this.inputs.size()<t.length){let n=this.inputs.at(this.inputs.size()-1);for(const i of t.slice(this.inputs.size()))n=this.insert_input_after(n),await n.text.set(i)}this.update_outputs()}get_fields(){const r=[];for(const t of this.inputs)r.push(t.text.get());return r}destroy(){for(const r of this.inputs)r.destroy();this.inputs.cleanup(),this.longest_line_length.cleanup(),this.outputs.cleanup()}}class ho{constructor(r){J(this,"text",new dt(""));J(this,"is_synced",new dt(!1));this.parent_block=r,this.parent_block.on_insert(t=>{this.desync(),t.text.watch(async()=>{this.desync()})}),this.parent_block.on_remove(()=>{this.desync()}),this.text.watch(()=>{this.desync()})}desync(){this.is_synced.get()&&this.is_synced.set(!1)}on_sync(r){this.is_synced.watch(r)}synced(){return this.is_synced.get()}async send(){const r=this.text.get().split(`
`);await this.parent_block.set_fields(r),this.is_synced.set(!0)}}const er=e=>{const r=typeof e=="number"?e+1:e;return A("msub",{},A("mi",{},"a"),A("mi",{},r.toString()))},xn=(e,r)=>{const t=o=>za(o),n=(o,m)=>{if(m.includes(o.tag))return i(o);{const h=A("mo",{},"("),c=A("mo",{},")");return A("mrow",{},h,i(o),c)}},i=o=>{const m=z(At[o.tag]),h=z(m[0]),c=A("mo",{},h);if(o.tag==="equal")return A("mrow",{},t(o.left),c,t(o.right));if(o.tag==="not_equal")return A("mrow",{},t(o.left),c,t(o.right));if(o.tag==="less_than")return A("mrow",{},t(o.left),c,t(o.right));if(o.tag==="less_than_or_equal")return A("mrow",{},t(o.left),c,t(o.right));if(o.tag==="greater_than")return A("mrow",{},t(o.left),c,t(o.right));if(o.tag==="greater_than_or_equal")return A("mrow",{},t(o.left),c,t(o.right));if(o.tag==="negation")return A("mrow",{},c,n(o.constraint,["negation"]));{const w=["negation","equal","not_equal","less_than","less_than_or_equal","greater_than","greater_than_or_equal"];return A("mrow",{},n(o.left,w),c,n(o.right,[...w,o.tag]))}};return r?A("math",{},i(e)):i(e)},za=(e,r)=>{const t=(o,m)=>{if(o.tag==="state_variable_sum"&&o.indices.length===1)return i(o);if(m.includes(o.tag))return i(o);{const h=A("mo",{},"("),c=A("mo",{},")");return A("mrow",{},h,i(o),c)}},n=ja,i=o=>{if(o.tag==="literal")return A("mi",{},o.value.toString());if(o.tag==="variable")return A("mi",{},o.id);if(o.tag==="probability"){const m=A("mo",{lspace:"0",rspace:"0"},"Pr"),h=A("mo",{},"("),c=A("mo",{},")");return A("mrow",{},m,h,n(o.arg),c)}else if(o.tag==="given_probability"){const m=A("mo",{lspace:"0",rspace:"0"},"Pr"),h=A("mo",{},"("),c=A("mo",{},"|"),w=A("mo",{},")");return A("mrow",{},m,h,n(o.arg),c,n(o.given),w)}else if(o.tag==="state_variable_sum"){if(o.indices.length===0)return A("mi",{},"0");const m=A("mrow",{});for(const[h,c]of o.indices.entries()){const w=er(c);if(m.appendChild(w),h<o.indices.length-1){const s=A("mo",{},"+");m.appendChild(s)}}return m}else if(o.tag==="negative"){const m=A("mo",{},"-");return A("mrow",{},m,t(o.expr,["literal","probability","given_probability","variable"]))}else{if(o.tag==="power")return A("msup",{},t(o.base,["literal","probability","given_probability","negative","variable"]),i(o.exponent));if(o.tag==="plus"){const m=A("mo",{},"+");return A("mrow",{},t(o.left,["literal","variable","probability","given_probability","negative","plus","minus","multiply","divide","power"]),m,t(o.right,["variable","literal","probability","given_probability","negative","multiply","divide","power"]))}else if(o.tag==="minus"){const m=A("mo",{},"-");return A("mrow",{},t(o.left,["variable","literal","probability","given_probability","negative","plus","minus","multiply","divide","power"]),m,t(o.right,["variable","literal","probability","given_probability","negative","multiply","divide","power"]))}else if(o.tag==="multiply"){const m=A("mo",{},"*");return A("mrow",{},t(o.left,["variable","literal","probability","given_probability","negative","multiply","divide","power"]),m,t(o.right,["variable","literal","probability","given_probability","negative","power","divide"]))}else if(o.tag==="divide"){const m=A("mrow",{},t(o.numerator,["state_variable_sum","variable","literal","probability","given_probability","negative","plus","minus","multiply","power"])),h=A("mrow",{},t(o.denominator,["state_variable_sum","variable","literal","probability","given_probability","negative","plus","minus","multiply","power"]));return A("mfrac",{},m,h)}else throw new Error("real_expr_to_html fallthrough")}};return i(e)},ja=e=>{const r=n=>ja(n),t=(n,i)=>{if(i.includes(n.tag))return r(n);{const o=A("mo",{},"("),m=A("mo",{},")");return A("mrow",{},o,r(n),m)}};if(e.tag==="value"){const n=e.value?"⊤":"⊥";return A("mi",{},n)}else if(e.tag==="letter"){const n=Ir(e);return A("mi",{mathvariant:"normal"},n)}else if(e.tag==="negation"){const n=A("mo",{},"~");return A("mrow",{},n,t(e.sentence,["negation","letter","value"]))}else{const n=z(Oe[e.tag]),i=A("mo",{},z(n[0]));return A("mrow",{},t(e.left,["negation","letter","value"]),i,t(e.right,["negation","letter","value"]))}},bo=150,vo="Enter constraint",yo="Enter constraints separated by newlines",wo="Enter expression",Eo="Enter expressions separated by newlines",Oo="ⓘ How?",Po="ⓘ",Ro="Find Model",So="Cancel",Ao=`
To insert a [Constraint], type in one of:
- '[RealExpr] = [RealExpr]' for equality,
- '[RealExpr] ≠ [RealExpr]' or '[RealExpr] != [RealExpr]' for disequality,
- '[RealExpr] < [RealExpr]' for less than,
- '[RealExpr] > [RealExpr]' for greater than,
- '[RealExpr] ≤ [RealExpr]' or '[RealExpr] <= [RealExpr] for less than or equal to,'
- '[RealExpr] ≥ [RealExpr]' or '[RealExpr] >= [RealExpr] for greater than or equal to,'
- '~[Constraint]', '![Constraint]', or '-[Constraint]' for negation,
- '[Constraint] ∨ [Constraint]', '[Constraint] \\/ [Constraint]', or '[Constraint] v [Constraint]' for disjunction,
- '[Constraint] & [Constraint]' for conjunction,
- '[Constraint] → [Constraint]', '[Constraint] -> [Constraint]', or '[Constraint] > [Constraint]' for biconditional,
- '[Constraint] ↔ [Constraint]', '[Constraint] <-> [Constraint]', or '[Constraint] <> [Constraint]' for biconditional.

To insert a [RealExpr], type in one of:
- Any number (integer or decimal),
- 'Pr([Sentence])' for probability,
- 'Pr([Sentence] | [Sentence])' for conditional probability,
- '-[RealExpr]' for negatives,
- '[RealExpr] + [RealExpr]' for addition,
- '[RealExpr] - [RealExpr]' for subtraction,
- '[RealExpr] * [RealExpr]' for multiplication,
- '[RealExpr] / [RealExpr]' for division,
- '[RealExpr]^[RealExpr]' for exponentiation.

To insert a [Sentence], type in one of:
- '⊤' or 'true' for truth (hint: the ⊤ is read as 'top', not 'tee'),
- '⊥' or 'false' for falsity,
- Any upper-case letter for propositional variable, optionally followed by an integer > 0,
- '~[Sentence]', '![Sentence]', or '-[Sentence]' for negation,
- '[Sentence] ∨ [Sentence]', '[Sentence] \\/ [Sentence]', or '[Sentence] v [Sentence]' for disjunction,
- '[Sentence] & [Sentence]' for conjunction,
- '[Sentence] → [Sentence]', '[Sentence] -> [Sentence]', or '[Sentence] > [Sentence]' for biconditional,
- '[Sentence] ↔ [Sentence]', '[Sentence] <-> [Sentence]', or '[Sentence] <> [Sentence]' for biconditional.
`.trim(),To="Constraints are SATisfiable!",Zo="Constraints are UNSATisfiable!",Io="Unable to determine if constraints are satisfiable",Lo="Solve was cancelled",xo="Searching for model satisfying constraints...",No="Cancelling...",ko="Division by zero!",Co="No model to evaluate!",qo=1*1e3*60,Mo=(e,r)=>{F(Number.isInteger(e),`Trying to call debounce with a non-integer ms!
ms: ${e}`);let t;const n=(...i)=>{t=setTimeout(()=>{var o;(o=r.trail)==null||o.call(r,...i),clearTimeout(t),t=void 0},e)};return(...i)=>{var o;t===void 0?((o=r.lead)==null||o.call(r,...i),n(...i)):(clearTimeout(t),n(...i))}},dn=(e,r,t)=>{const n=new Blob([e],{type:t}),i=document.createElement("a"),o=URL.createObjectURL(n);i.href=o,i.download=r,document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(o)},0)},Va=(e,r)=>{const t=e.style.display;r.watch(n=>{n?e.style.display="none":e.style.display=t}).call()},Ga=(e,r,t,n)=>{const i=ct(n.close,"input",{type:"button",value:"⌫",class:"close"}),o=ct(n.newline,"input",{type:"button",value:"⏎",class:"newline"}),m=k("input",{type:"button"}),h=ct(n.input,"input",{type:"input",style:`width: ${t.length}ch`,placeholder:t,class:"text"}),c=ct(n.output,"span",{}),w=k("div",{class:"error",style:"margin-bottom: 0.4em;"},"error!"),s=k("div",{class:"input-instructions"},w,Ao),Z=ct(n.single.gen(),"div",{class:"single-input"},i,h,o,m,c,s),q=async()=>{const f=h.selectionStart,y=h.selectionEnd;if(f===0&&y===0){const T=e.remove();if(T!==void 0){const D=T.text.get().length;return await T.text.set(`${T.text.get()}${h.value}`),T.set_focused(),T.associate.set_cursor(D),!0}else return!1}else return!1},M=(f,y)=>[f.substring(0,y),f.substring(y)],C=new dt(!0);Va(s,C),m.onclick=f=>{C.set(!C.get()),f.stopPropagation()},h.onkeydown=async f=>{if(f.key==="Enter"){const y=z(h.selectionEnd,"While trying to get cursor position, ArrowUp event called when textbox not focused"),[T,D]=M(h.value,y),j=e.then_insert();await j.text.set(D),await e.text.set(T),j.associate.set_cursor(0),j.set_focused(),f.preventDefault()}else if(f.key==="ArrowUp"){const y=z(h.selectionEnd,"While trying to get cursor position, ArrowUp event called when textbox not focused"),T=e.focus_previous();T==null||T.associate.set_cursor(y),f.preventDefault()}else if(f.key==="ArrowDown"){const y=z(h.selectionEnd,"While trying to get cursor position, ArrowUp event called when textbox not focused"),T=e.focus_next();T==null||T.associate.set_cursor(y),f.preventDefault()}else f.key==="Backspace"&&await q()&&f.preventDefault()},i.onclick=()=>{e.remove()},o.onclick=()=>{e.then_insert()},e.has_siblings.watch(f=>{i.disabled=!f});const u=async(f,y)=>{try{return await f(y)}catch(T){return console.error(T),k("span",{class:"error"},`Exception! ${T.message}`)}};return e.on_state_change(async f=>{if(c.innerHTML="",c.style.display="none",w.innerHTML="",f.tag==="parsed"){const y=await u(r,f.output);c.appendChild(y),c.style.display="inline",m.value=Po,m.classList.remove("error")}else f.tag==="error"?(m.value="Syntax error (not a wff).",m.classList.add("error")):f.tag==="nothing"?(m.value=Oo,m.classList.remove("error")):rt("split_input.logic.on_state_change")}).call().catch(()=>{throw new Error("Shouldn't have an error!")}),h.addEventListener("input",Mo(bo,{lead:()=>c.classList.add("updating"),trail:()=>{c.classList.remove("updating"),e.text.set(h.value).catch(f=>{throw new Error(`Should not throw! ${f.message}`)})}})),h.addEventListener("input",()=>{h.value.length<t.length?h.style.width=`${t.length}ch`:h.style.width=`${h.value.length}ch`}),e.text.watch(async f=>{h.value=f,h.value.length<t.length?h.style.width=`${t.length}ch`:h.style.width=`${h.value.length}ch`}),h.onfocus=()=>{Z.classList.add("focused")},h.onblur=()=>{Z.classList.remove("focused")},e.on_focus(f=>{f?h.focus():h.blur()}),Z.onclick=()=>{e.set_focused()},{element:Z,set_cursor:f=>{f<0?h.setSelectionRange(h.value.length,h.value.length):h.setSelectionRange(f,f)}}},Uo=e=>{const r=k("div",{}),t=k("div",{class:"split-input-block"},r);return e.on_insert((n,i)=>{i===void 0?r.insertAdjacentElement("afterbegin",n.associate.element):i.associate.element.insertAdjacentElement("afterend",n.associate.element)}),e.on_remove(n=>{n.associate.element.remove()}),e.insert_input_after(void 0),{element:t,set_fields:n=>e.set_fields(n),set_disabled:n=>{Nn(t,n)}}},Nn=(e,r)=>{const t=e.getElementsByTagName("input");for(const n of t)n.disabled=r},Fo=(e,r,t)=>{const n=ct(t.batch.textbox,"textarea",{placeholder:r,style:"display: block; border-radius: 0.4em;",rows:"10",cols:"50"}),i=qe("⇩ Parse",{style:"margin-right: 0.4em;"},t.batch.parse);i.onclick=async()=>{console.log("parsed stuff yeah!",e.text.get()),await e.send(),e.text.set(""),n.value=""},n.addEventListener("input",()=>{e.text.set(n.value)});const o=k("div",{class:"batch-input",style:"width: fit-content;"},n,k("span",{style:"display: flex; margin-top: 0.4em;"},i));return{element:o,set_fields:m=>{e.text.set(m.join(`
`))},set_disabled:m=>{Nn(o,m)}}},qe=(e,r={},t)=>t===void 0?k("input",{...r,type:"button",value:e}):ct(t,"input",{...r,type:"button",value:e}),Ha=(e,r,t)=>{const n=new ho(e),i=Fo(n,r,t),o=Uo(e),m=k("input",{type:"file",style:"display: none;"}),h=qe("Load From File",{style:"margin-right: 0.4em;"}),c=qe("Save to File"),w=qe("Copy to Clipboard",{style:"margin-left: 0.4em;"}),s=k("span",{style:"margin-left: 0.4em;",class:"copy-message"},"Copied Constraints!"),Z=qe("",{},t.toggle),q=qe("Clear",{style:"margin-left: 0.4em;"});q.onclick=async()=>{await e.set_fields([""])};const M=new dt(!0);Va(i.element,M),Z.onclick=()=>{M.set(!M.get())},M.watch(_=>{_?Z.value="Show Batch Input":Z.value="Hide Batch Input"}).call(),h.onclick=()=>{m.click()},c.onclick=()=>{const _=e.get_fields().join(`
`);dn(_,"constraints.txt","text/plain")};let C;w.onclick=async()=>{const _=e.get_fields().join(`
`);await navigator.clipboard.writeText(_),s.classList.add("show"),w.disabled=!0,C=setTimeout(()=>{s.classList.remove("show"),w.disabled=!1,clearTimeout(C)},800)},m.onchange=async()=>{const _=z(m.files,"file_loader.files is null!");F(_.length===1,`Number of files in file_loader != 1!
actually: ${_.length}`);const f=z(_[0],"files[0] is null!");n.text.set(await f.text()),await n.send()};const u=ct(t.id,"div",{class:"generic-input-block"},m,k("div",{style:"width: fit-content;"},k("div",{style:"margin-bottom: 0.4em;"},h,Z,q),i.element),o.element,k("div",{style:"margin-top: 0.4em;"},c,k("span",{},w,s)));return{element:u,set_fields:_=>{i.set_fields(_),o.set_fields(_)},set_disabled:_=>{Nn(u,_)}}},Do=e=>{let r=0;return{prefix:e,gen:()=>`${e}-${r++}`,get:t=>`${e}-${t}`}},Bo="z3-status",$o="find-model",zo="regular-toggle",jo="model-table",vn=Or({state:e=>`state-a${e}`,value:e=>`state-value-${e}`}),Wa=e=>{const r=e;return{id:r,toggle:`${r}-batch-toggle`,batch:Or({id:`${r}-batch-parent`,textbox:`${r}-batch-textbox`,parse:`${r}-batch-parse`}),split:Or({single:Do(`${r}-single`),close:`${r}-close`,input:`${r}-input`,newline:`${r}-newline`,output:`${r}-output`})}},Vo="exception",Go="state-display",Ho="cancel",Ms=Or({id:"timeout",seconds:"timeout-seconds"});function Wo(e,r){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const t=document.implementation.createHTMLDocument(),n=t.createElement("base"),i=t.createElement("a");return t.head.appendChild(n),t.body.appendChild(i),r&&(n.href=r),i.href=e,i.href}const Qo=(()=>{let e=0;const r=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${r()}${e}`)})();function me(e){const r=[];for(let t=0,n=e.length;t<n;t++)r.push(e[t]);return r}let xe=null;function Qa(e={}){return xe||(e.includeStyleProperties?(xe=e.includeStyleProperties,xe):(xe=me(window.getComputedStyle(document.documentElement)),xe))}function Tr(e,r){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(r);return n?parseFloat(n.replace("px","")):0}function Yo(e){const r=Tr(e,"border-left-width"),t=Tr(e,"border-right-width");return e.clientWidth+r+t}function Xo(e){const r=Tr(e,"border-top-width"),t=Tr(e,"border-bottom-width");return e.clientHeight+r+t}function Ya(e,r={}){const t=r.width||Yo(e),n=r.height||Xo(e);return{width:t,height:n}}function Ko(){let e,r;try{r=process}catch{}const t=r&&r.env?r.env.devicePixelRatio:null;return t&&(e=parseInt(t,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Rt=16384;function Jo(e){(e.width>Rt||e.height>Rt)&&(e.width>Rt&&e.height>Rt?e.width>e.height?(e.height*=Rt/e.width,e.width=Rt):(e.width*=Rt/e.height,e.height=Rt):e.width>Rt?(e.height*=Rt/e.width,e.width=Rt):(e.width*=Rt/e.height,e.height=Rt))}function Zr(e){return new Promise((r,t)=>{const n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>r(n))})},n.onerror=t,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function tu(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(r=>`data:image/svg+xml;charset=utf-8,${r}`)}async function eu(e,r,t){const n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),o=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${r}`),i.setAttribute("height",`${t}`),i.setAttribute("viewBox",`0 0 ${r} ${t}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),tu(i)}const yt=(e,r)=>{if(e instanceof r)return!0;const t=Object.getPrototypeOf(e);return t===null?!1:t.constructor.name===r.name||yt(t,r)};function ru(e){const r=e.getPropertyValue("content");return`${e.cssText} content: '${r.replace(/'|"/g,"")}';`}function nu(e,r){return Qa(r).map(t=>{const n=e.getPropertyValue(t),i=e.getPropertyPriority(t);return`${t}: ${n}${i?" !important":""};`}).join(" ")}function su(e,r,t,n){const i=`.${e}:${r}`,o=t.cssText?ru(t):nu(t,n);return document.createTextNode(`${i}{${o}}`)}function Us(e,r,t,n){const i=window.getComputedStyle(e,t),o=i.getPropertyValue("content");if(o===""||o==="none")return;const m=Qo();try{r.className=`${r.className} ${m}`}catch{return}const h=document.createElement("style");h.appendChild(su(m,t,i,n)),r.appendChild(h)}function au(e,r,t){Us(e,r,":before",t),Us(e,r,":after",t)}const Fs="application/font-woff",Ds="image/jpeg",iu={woff:Fs,woff2:Fs,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Ds,jpeg:Ds,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function _u(e){const r=/\.([^./]*?)$/g.exec(e);return r?r[1]:""}function kn(e){const r=_u(e).toLowerCase();return iu[r]||""}function ou(e){return e.split(/,/)[1]}function yn(e){return e.search(/^(data:)/)!==-1}function uu(e,r){return`data:${r};base64,${e}`}async function Xa(e,r,t){const n=await fetch(e,r);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const i=await n.blob();return new Promise((o,m)=>{const h=new FileReader;h.onerror=m,h.onloadend=()=>{try{o(t({res:n,result:h.result}))}catch(c){m(c)}},h.readAsDataURL(i)})}const gn={};function lu(e,r,t){let n=e.replace(/\?.*/,"");return t&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),r?`[${r}]${n}`:n}async function Cn(e,r,t){const n=lu(e,r,t.includeQueryParams);if(gn[n]!=null)return gn[n];t.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const o=await Xa(e,t.fetchRequestInit,({res:m,result:h})=>(r||(r=m.headers.get("Content-Type")||""),ou(h)));i=uu(o,r)}catch(o){i=t.imagePlaceholder||"";let m=`Failed to fetch resource: ${e}`;o&&(m=typeof o=="string"?o:o.message),m&&console.warn(m)}return gn[n]=i,i}async function cu(e){const r=e.toDataURL();return r==="data:,"?e.cloneNode(!1):Zr(r)}async function fu(e,r){if(e.currentSrc){const o=document.createElement("canvas"),m=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,m==null||m.drawImage(e,0,0,o.width,o.height);const h=o.toDataURL();return Zr(h)}const t=e.poster,n=kn(t),i=await Cn(t,n,r);return Zr(i)}async function mu(e,r){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await Cr(e.contentDocument.body,r,!0)}catch{}return e.cloneNode(!1)}async function gu(e,r){return yt(e,HTMLCanvasElement)?cu(e):yt(e,HTMLVideoElement)?fu(e,r):yt(e,HTMLIFrameElement)?mu(e,r):e.cloneNode(Ka(e))}const pu=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Ka=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function hu(e,r,t){var n,i;if(Ka(r))return r;let o=[];return pu(e)&&e.assignedNodes?o=me(e.assignedNodes()):yt(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?o=me(e.contentDocument.body.childNodes):o=me(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),o.length===0||yt(e,HTMLVideoElement)||await o.reduce((m,h)=>m.then(()=>Cr(h,t)).then(c=>{c&&r.appendChild(c)}),Promise.resolve()),r}function bu(e,r,t){const n=r.style;if(!n)return;const i=window.getComputedStyle(e);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):Qa(t).forEach(o=>{let m=i.getPropertyValue(o);o==="font-size"&&m.endsWith("px")&&(m=`${Math.floor(parseFloat(m.substring(0,m.length-2)))-.1}px`),yt(e,HTMLIFrameElement)&&o==="display"&&m==="inline"&&(m="block"),o==="d"&&r.getAttribute("d")&&(m=`path(${r.getAttribute("d")})`),n.setProperty(o,m,i.getPropertyPriority(o))})}function du(e,r){yt(e,HTMLTextAreaElement)&&(r.innerHTML=e.value),yt(e,HTMLInputElement)&&r.setAttribute("value",e.value)}function vu(e,r){if(yt(e,HTMLSelectElement)){const t=r,n=Array.from(t.children).find(i=>e.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}function yu(e,r,t){return yt(r,Element)&&(bu(e,r,t),au(e,r,t),du(e,r),vu(e,r)),r}async function wu(e,r){const t=e.querySelectorAll?e.querySelectorAll("use"):[];if(t.length===0)return e;const n={};for(let o=0;o<t.length;o++){const h=t[o].getAttribute("xlink:href");if(h){const c=e.querySelector(h),w=document.querySelector(h);!c&&w&&!n[h]&&(n[h]=await Cr(w,r,!0))}}const i=Object.values(n);if(i.length){const o="http://www.w3.org/1999/xhtml",m=document.createElementNS(o,"svg");m.setAttribute("xmlns",o),m.style.position="absolute",m.style.width="0",m.style.height="0",m.style.overflow="hidden",m.style.display="none";const h=document.createElementNS(o,"defs");m.appendChild(h);for(let c=0;c<i.length;c++)h.appendChild(i[c]);e.appendChild(m)}return e}async function Cr(e,r,t){return!t&&r.filter&&!r.filter(e)?null:Promise.resolve(e).then(n=>gu(n,r)).then(n=>hu(e,n,r)).then(n=>yu(e,n,r)).then(n=>wu(n,r))}const Ja=/url\((['"]?)([^'"]+?)\1\)/g,Eu=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Ou=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Pu(e){const r=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${r})(['"]?\\))`,"g")}function Ru(e){const r=[];return e.replace(Ja,(t,n,i)=>(r.push(i),t)),r.filter(t=>!yn(t))}async function Su(e,r,t,n,i){try{const o=t?Wo(r,t):r,m=kn(r);let h;return i||(h=await Cn(o,m,n)),e.replace(Pu(r),`$1${h}$3`)}catch{}return e}function Au(e,{preferredFontFormat:r}){return r?e.replace(Ou,t=>{for(;;){const[n,,i]=Eu.exec(t)||[];if(!i)return"";if(i===r)return`src: ${n};`}}):e}function ti(e){return e.search(Ja)!==-1}async function ei(e,r,t){if(!ti(e))return e;const n=Au(e,t);return Ru(n).reduce((o,m)=>o.then(h=>Su(h,m,r,t)),Promise.resolve(n))}async function Ne(e,r,t){var n;const i=(n=r.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(i){const o=await ei(i,null,t);return r.style.setProperty(e,o,r.style.getPropertyPriority(e)),!0}return!1}async function Tu(e,r){await Ne("background",e,r)||await Ne("background-image",e,r),await Ne("mask",e,r)||await Ne("-webkit-mask",e,r)||await Ne("mask-image",e,r)||await Ne("-webkit-mask-image",e,r)}async function Zu(e,r){const t=yt(e,HTMLImageElement);if(!(t&&!yn(e.src))&&!(yt(e,SVGImageElement)&&!yn(e.href.baseVal)))return;const n=t?e.src:e.href.baseVal,i=await Cn(n,kn(n),r);await new Promise((o,m)=>{e.onload=o,e.onerror=r.onImageErrorHandler?(...c)=>{try{o(r.onImageErrorHandler(...c))}catch(w){m(w)}}:m;const h=e;h.decode&&(h.decode=o),h.loading==="lazy"&&(h.loading="eager"),t?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Iu(e,r){const n=me(e.childNodes).map(i=>ri(i,r));await Promise.all(n).then(()=>e)}async function ri(e,r){yt(e,Element)&&(await Tu(e,r),await Zu(e,r),await Iu(e,r))}function Lu(e,r){const{style:t}=e;r.backgroundColor&&(t.backgroundColor=r.backgroundColor),r.width&&(t.width=`${r.width}px`),r.height&&(t.height=`${r.height}px`);const n=r.style;return n!=null&&Object.keys(n).forEach(i=>{t[i]=n[i]}),e}const Bs={};async function $s(e){let r=Bs[e];if(r!=null)return r;const n=await(await fetch(e)).text();return r={url:e,cssText:n},Bs[e]=r,r}async function zs(e,r){let t=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,o=(t.match(/url\([^)]+\)/g)||[]).map(async m=>{let h=m.replace(n,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),Xa(h,r.fetchRequestInit,({result:c})=>(t=t.replace(m,`url(${c})`),[m,c]))});return Promise.all(o).then(()=>t)}function js(e){if(e==null)return[];const r=[],t=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(t,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=i.exec(n);if(c===null)break;r.push(c[0])}n=n.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,m="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(m,"gi");for(;;){let c=o.exec(n);if(c===null){if(c=h.exec(n),c===null)break;o.lastIndex=h.lastIndex}else h.lastIndex=o.lastIndex;r.push(c[0])}return r}async function xu(e,r){const t=[],n=[];return e.forEach(i=>{if("cssRules"in i)try{me(i.cssRules||[]).forEach((o,m)=>{if(o.type===CSSRule.IMPORT_RULE){let h=m+1;const c=o.href,w=$s(c).then(s=>zs(s,r)).then(s=>js(s).forEach(Z=>{try{i.insertRule(Z,Z.startsWith("@import")?h+=1:i.cssRules.length)}catch(q){console.error("Error inserting rule from remote css",{rule:Z,error:q})}})).catch(s=>{console.error("Error loading remote css",s.toString())});n.push(w)}})}catch(o){const m=e.find(h=>h.href==null)||document.styleSheets[0];i.href!=null&&n.push($s(i.href).then(h=>zs(h,r)).then(h=>js(h).forEach(c=>{m.insertRule(c,m.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",o)}}),Promise.all(n).then(()=>(e.forEach(i=>{if("cssRules"in i)try{me(i.cssRules||[]).forEach(o=>{t.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),t))}function Nu(e){return e.filter(r=>r.type===CSSRule.FONT_FACE_RULE).filter(r=>ti(r.style.getPropertyValue("src")))}async function ku(e,r){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=me(e.ownerDocument.styleSheets),n=await xu(t,r);return Nu(n)}function ni(e){return e.trim().replace(/["']/g,"")}function Cu(e){const r=new Set;function t(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(o=>{r.add(ni(o))}),Array.from(n.children).forEach(o=>{o instanceof HTMLElement&&t(o)})}return t(e),r}async function qu(e,r){const t=await ku(e,r),n=Cu(e);return(await Promise.all(t.filter(o=>n.has(ni(o.style.fontFamily))).map(o=>{const m=o.parentStyleSheet?o.parentStyleSheet.href:null;return ei(o.cssText,m,r)}))).join(`
`)}async function Mu(e,r){const t=r.fontEmbedCSS!=null?r.fontEmbedCSS:r.skipFonts?null:await qu(e,r);if(t){const n=document.createElement("style"),i=document.createTextNode(t);n.appendChild(i),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function Uu(e,r={}){const{width:t,height:n}=Ya(e,r),i=await Cr(e,r,!0);return await Mu(i,r),await ri(i,r),Lu(i,r),await eu(i,t,n)}async function Fu(e,r={}){const{width:t,height:n}=Ya(e,r),i=await Uu(e,r),o=await Zr(i),m=document.createElement("canvas"),h=m.getContext("2d"),c=r.pixelRatio||Ko(),w=r.canvasWidth||t,s=r.canvasHeight||n;return m.width=w*c,m.height=s*c,r.skipAutoScale||Jo(m),m.style.width=`${w}`,m.style.height=`${s}`,r.backgroundColor&&(h.fillStyle=r.backgroundColor,h.fillRect(0,0,m.width,m.height)),h.drawImage(o,0,0,m.width,m.height),m}async function Du(e,r={}){return(await Fu(e,r)).toDataURL()}const Bu=z(document.getElementById("app"),"Root element with id '#app' doesn't exist!"),$u=()=>{var t,n;const e=document.createElement("div");e.innerHTML="<math><mfrac><mn>1</mn><mn>2</mn></mfrac></math><math><mn>1</mn></math>",document.body.appendChild(e);const r=z((t=e.firstElementChild)==null?void 0:t.firstElementChild).getBoundingClientRect().height>z((n=e.lastElementChild)==null?void 0:n.firstElementChild).getBoundingClientRect().height+1;return e.remove(),r},zu=e=>e<0?A("mrow",{},A("mo",{},"-"),A("mi",{},(-e).toString())):A("mi",{},e.toString()),ju=(e,r)=>{F(e!==0,"coefficient === zero so it shouldn't be displayed!");const t=zu;if(r===0)return t(e);if(r===1){const n=A("mi",{},"x");if(e===1)return n;if(e===-1)return A("mrow",{},A("mo",{},"-"),n);{const i=A("mo",{},"*");return A("mrow",{},t(e),i,n)}}else{const n=A("msup",{},A("mi",{},"x"),t(r));if(e===1)return n;if(e===-1)return A("mrow",{},A("mo",{},"-"),n);{const i=A("mo",{},"*");return A("mrow",{},t(e),i,n)}}},Vu=e=>{const r=e,t=A("mrow",{});for(const[n,i]of r.entries()){const o=r.length-n-1;if(i===0)continue;const m=ju(i,o);if(t.appendChild(m),n!==r.length-1){const h=A("mo",{},"+");t.appendChild(h)}}return t},Vs=(e,r)=>{for(e=Math.abs(e),r=Math.abs(r);r!==0;){const t=r;r=e%r,e=t}return e},Gu=(e,r,t)=>Vs(Vs(e,r),t),Hu=e=>{if(e<=0)return[0,0];let r=1,t=e;for(let n=2;n*n<=t;n++)for(;t%(n*n)===0;)r*=n,t/=n*n;return[r,t]},Wu=(e,r,t,n)=>{const i=r*r-4*e*t;if(i<0)throw new Error("Negative discriminant - complex roots");const[o,m]=Hu(i),h=n===1?-1:1;let c=-r,w=h*o,s=2*e;s<0&&(c=-c,w=-w,s=-s);const Z=Gu(Math.abs(c),Math.abs(w),s);c/=Z,w/=Z,s/=Z;const q=(-r+h*Math.sqrt(i))/(2*e);return{numeratorConstant:c,numeratorSqrtCoeff:w,squareFree:m,denominator:s,decimalValue:q}},si=e=>{const r=(n,i,o,m)=>{F(m===1||m===2,`Expected root-obj index to equal 1 or 2!
actual: ${m}`);const{numeratorConstant:h,numeratorSqrtCoeff:c,squareFree:w,denominator:s,decimalValue:Z}=Wu(n,i,o,m);if(w===1){const y=(h+c)/s;return Number.isInteger(y)?A("mn",{},y.toString()):A("mfrac",{},A("mn",{},(h+c).toString()),A("mn",{},s.toString()))}const q=A("msqrt",{},A("mn",{},w.toString())),M=Math.abs(c),C=M===1?q:A("mrow",{},A("mn",{},M.toString()),q);let u;if(h===0)u=c<0?A("mrow",{},A("mo",{},"-"),C):C;else{const y=A("mn",{},h.toString()),T=A("mo",{},c<0?"-":"+");u=A("mrow",{},y,T,C)}let _;s===1?_=u:_=A("mfrac",{},u,A("mn",{},s.toString()));const f=A("mrow",{},A("mo",{style:"padding-left: 0.3em"},"≈"),A("mn",{},Z.toFixed(4)));return A("mrow",{},_,f)},t=n=>{if(n.tag==="literal")return A("mi",{},n.value.toString());if(n.tag==="negative")return A("mrow",{},A("mo",{},"-"),t(n.inner));if(n.tag==="rational")return A("mfrac",{},t(n.numerator),t(n.denominator));if(n.tag==="root-obj"){const i=o=>{if(o.tag==="literal")return o.value;if(o.tag==="negative"&&o.inner.tag==="literal")return-o.inner.value;throw new Error("Cannot extract numeric value from complex ModelAssignmentOutput")};return r(i(n.a),i(n.b),i(n.c),n.index)}else return n.tag==="unknown"?A("mtext",{},En(n.s)):n.tag==="generic-root-obj"?n.degree===2?r(n.coefficients[0],n.coefficients[1],n.coefficients[2],n.index):A("mrow",{},A("mtext",{},`Root #${n.index} of `),A("mpadded",{lspace:"0.2em"},Vu(n.coefficients))):rt("model_assignment_to_display")};return A("math",{},t(e))},Qu=e=>{const r=k("tbody",{}),t=k("tr",{}),n=k("thead",{},t),i=Array.from(e.letters());i.forEach((m,h)=>{const c=h===i.length-1;t.appendChild(k("th",c?{class:"dv"}:{},Ir(m)))}),t.appendChild(k("th",{},er("i")));for(const m of e.state_indices()){const h=k("tr",{});i.forEach((c,w)=>{const s=w===i.length-1,q=e.letter_value_from_index(c,m)?"⊤":"⊥";h.appendChild(k("td",s?{class:"dv"}:{},q))}),h.appendChild(ct(vn.state(m),"td",{},er(m))),r.appendChild(h)}return k("table",{},n,r)},Yu=(e,r)=>{const t=k("tbody",{}),n=k("tr",{}),i=k("thead",{},n),o=Array.from(e.letters());o.forEach((h,c)=>{const w=c===o.length-1;n.appendChild(k("th",w?{class:"dv"}:{},Ir(h)))}),n.appendChild(k("th",{class:"dv"},er("i"))),n.appendChild(k("th",{},"Assignment"));for(const[h,c]of Object.entries(r)){const w=parseInt(h),s=si(c),Z=k("tr",{});o.forEach((q,M)=>{const C=M===o.length-1,_=e.letter_value_from_index(q,w)?"⊤":"⊥";Z.appendChild(k("td",C?{class:"dv"}:{},_))}),Z.appendChild(ct(vn.state(w),"td",{class:"dv"},er(w))),Z.appendChild(ct(vn.value(w),"td",{},s)),t.appendChild(Z)}return ct(jo,"table",{},i,t)},Xu=(e,r)=>e.tag==="constraint"?xn(e.constraint,r):za(e.real_expr),Ku=e=>{if(e.tag==="result")return si(e.result);if(e.tag==="bool-result")return A("mtext",{},e.result?"⊤":"⊥");if(e.tag==="undeclared-vars"){const r=[...e.variables.real,...e.variables.sentence].map(t=>typeof t=="string"?t:Ir(t)).join(", ");return A("mtext",{class:"error"},`Undeclared variables: ${r}`)}else return e.tag==="div0"?A("mtext",{class:"error"},ko):rt("fancy_evaluator_result_to_display")},Ju=(e,r)=>{const t=async c=>{const w=Xu(c,!1);if(r.get()===void 0)return w;{const Z=e.get(),[q,M]=Z.tag==="finished"?[Z.truth_table,Z.solver_output.solver_output]:Z.tag==="invalidated"&&Z.last.tag==="finished"?[Z.last.truth_table,Z.last.solver_output.solver_output]:[void 0,{status:"unknown"}];if(M.status!=="sat"||q===void 0){const _=A("mtext",{class:"error"},Co);return A("math",{},w,A("mo",{class:"yields"},"⟾"),_)}const C=await M.evaluate(q,c),u=Ku(C);return A("math",{},w,A("mo",{class:"yields"},"⟾"),u)}},n=Wa("eval"),i=new $a(V_,c=>Ga(c,t,wo,n.split)),o=Ha(i,Eo,n),m=async()=>{for(const c of i.get_inputs())await c.text.set(c.text.get())};return{element:k("div",{class:"model-evaluators"},k("div",{style:"margin-bottom: 0.4em;"},"Evaluate model"),o.element),refresh:m}},tl=e=>{let t=Math.floor(e);const n=Math.floor(t/3600);t-=n*3600;const i=Math.floor(t/60);return t-=i*60,{h:n,m:i,s:t}},Gs=e=>{const{h:r,m:t,s:n}=tl(e);let i=[];return r>0&&i.push(`${r}h`),t>0&&i.push(`${t}m`),n>0&&i.push(`${n}s`),i.join(", ")},el=e=>{const n=Math.round(e.get()/1e3),i=ct(Ms.seconds,"input",{style:"margin-right: 0.5ch; width: 5ch;",type:"number",min:"1",max:"3600",value:n.toString()}),o=()=>{const m=parseInt(i.value);e.set(m*1e3)};return i.onchange=()=>{const m=parseInt(i.value),h=Math.max(1,Math.min(m,3600));i.value=h.toString(),o()},ct(Ms.id,"div",{style:"display: inline;"},k("label",{},i,"seconds"))},rl=(e,r)=>{F(e.get()>=0,"Start of timeout countdown is < 0 for some reason!"),e.get()<=0&&r();const t=()=>{clearInterval(n)},n=setInterval(()=>{e.get()<=0?(r(),t()):e.set(e.get()-1)},1e3);return{cancel:t}},nl=e=>{const r=k("span",{},Gs(e.get()));e.watch(n=>{r.innerHTML="",r.append(Gs(n))});let t;return{element:r,start:(n,i)=>{e.set(n),t=rl(e,()=>{i()})},cancel:()=>{t==null||t.cancel()}}},sl=e=>{const r=new dt({tag:"waiting"}),t=k("div",{class:"model-container"}),n=ct(Go,"div",{}),i=k("div",{style:"margin-top: 0.4em;"},n),o=k("div",{style:"border-right: solid gainsboro; padding-right: 1em;"},t),m=new dt({tag:"loading"}),h=new dt(void 0),c=Ju(r,h),w=k("div",{}),s=k("div",{style:"display: flex; margin-top: 0.4em;"},o,w),Z=k("div",{style:"margin-top: 0.4em;"}),q=ct($o,"input",{type:"button",value:Ro,class:"generate"}),M=ct(Ho,"input",{type:"button",value:So,style:"margin-top: 0.4em;"}),C=ct(Bo,"div",{style:"margin-bottom: 0.4em;"}),u=new dt(!1),_=ct(zo,"input",{type:"checkbox",style:"margin-left: 0.4em;"},"Regular"),f=new dt(qo),y=el(f);f.watch(N=>{console.log("timeout set to:",N)});const T=k("div",{style:"display: flex;"},q,k("div",{style:"display: flex; flex-direction: column; margin-left: 0.4em;"},k("label",{},"Regular:",_),k("label",{style:"display: flex;"},k("span",{style:"margin-right: 1ch;"},"Timeout:"),y))),D=N=>{zt(),N===void 0?q.disabled=!0:q.disabled=!1};u.watch(()=>{zt()}),e.on_ready(N=>{D(N)}),_.addEventListener("change",()=>{u.set(_.checked)});const j=async()=>{const N=m.get();if(N.tag!=="ready")throw new Error("Function should only be called after z3 has been properly loaded at least once.");try{m.set({tag:"loading"});const W=await qs();return await Hs(1e3),m.set({tag:"ready",solver:N.solver}),W}catch(W){m.set({tag:"error",message:W.message});return}};qs().then(N=>{m.set({tag:"ready",solver:new go(N,j)})}).catch(N=>{m.set({tag:"error",message:N.message})});let nt=!1;m.watch(N=>{console.log("z3_state change",m.get()),C.innerHTML="",N.tag==="loading"?(C.append("Loading Z3..."),q.disabled=!0):N.tag==="ready"?(nt||(nt=!0,g(N.solver)),D(e.get_output())):N.tag==="error"?(C.append(N.message),C.style.color="red",N.message==="Out of memory"&&C.append(".  Try closing and re-opening the tab or window."),q.disabled=!0):rt("model_finder_display.z3_state2.watch")}).call();const H=N=>{console.log("cancelling!"),n.innerHTML="",n.append(No),N.abort()},g=N=>{q.addEventListener("click",async()=>{F(r.get().tag!=="looking","Trying to generate another model while looking for stuff!");const W=z(e.get_output(),"Generate button clicked but not all constraints ready!");await Ct(N,W,u.get())}),M.onclick=()=>{const W=r.get();if(W.tag!=="looking")throw new Error(`Trying to cancel while not looking for a model!
state: ${JSON.stringify(W)}`);H(W.abort_controller)}};(async()=>{const N=localStorage.getItem("constraints");if(N!==null){console.log("Setting from old constraints text");const W=N.split(`
`);await e.set_fields(W),localStorage.removeItem("constraints")}})().catch(()=>{});const I=async()=>{console.log("cancel fallback (no reload)")},Ct=async(N,W,re)=>{const Qt=new Pn(i_(W)),ge=new AbortController;r.set({tag:"looking",truth_table:Qt,abort_controller:ge}),t.innerHTML="";try{const It=Qu(Qt);t.appendChild(It);const Lt=await fo(N,Qt,W,{regular:re,abort_signal:ge.signal,cancel_fallback:I,onTranslated:bt=>{Z.innerHTML="";for(const ot of bt){const Y=xn(ot,!0);Z.appendChild(k("div",{style:"margin-top: 0.4em;"},Y))}}});r.set({tag:"finished",truth_table:Qt,solver_output:Lt});const jt=k("input",{type:"button",value:"Save translated constraints"});jt.onclick=()=>dn(Lt.constraints.translated.map(o_).join(`
`),"translated.txt","text/plain");const Mt=k("input",{type:"button",value:"Save SMTLIB input",style:"margin-left: 0.4em;"});Mt.onclick=()=>dn(Lt.smtlib_input,"smtlib.txt","text/plain");const ne=k("div",{},k("div",{},jt,Mt));if(Lt.solver_output.status==="sat"){const bt=k("input",{type:"button",value:"Save table as image"});bt.onclick=async()=>{try{const ot=t.style.paddingBottom;t.style.paddingBottom="20px";const Y=await Du(t,{backgroundColor:"#ffffff",pixelRatio:2});t.style.paddingBottom=ot;const Et=document.createElement("a");Et.href=Y,Et.download="probability_table.png",document.body.appendChild(Et),Et.click(),document.body.removeChild(Et)}catch(ot){console.error("Failed to save table as image:",ot),alert("Failed to save table: "+ot.message)}},bt.style.marginTop="0.4em",ne.appendChild(k("div",{},bt))}Z.insertBefore(ne,Z.firstChild)}catch(It){r.set({tag:"exception",message:It.message}),i.appendChild(k("div",{style:"color: red;"},ct(Vo,"div",{},"Exception!"),It.message)),console.error(It.stack)}},zt=()=>{const N=r.get();N.tag==="invalidated"||N.tag==="looking"||(N.tag==="finished"?r.set({tag:"invalidated",last:N}):r.set({tag:"waiting"}))},d=k("div",{},i,s,Z),X=k("div",{class:"model-finder"},C,T,M,d),wt=new dt(0),{element:Tt,start:qt,cancel:Zt}=nl(wt);return r.watch((N,W)=>{if(console.log("model_finder state change",N),N.tag==="finished"?N.solver_output.solver_output.status==="sat"?(h.set({truth_table:N.truth_table,values:N.solver_output.solver_output.state_assignments}),c.refresh()):N.solver_output.solver_output.status==="unsat"&&h.set(void 0):(W==null?void 0:W.tag)!=="looking"&&N.tag==="looking"&&(qt(f.get()/1e3,()=>{H(N.abort_controller)}),c.refresh()),(W==null?void 0:W.tag)==="looking"&&N.tag!=="looking"&&Zt(),d.classList.remove("invalidated"),M.disabled=!0,N.tag==="waiting")w.innerHTML="",n.innerHTML="",n.append("No model to display."),d.classList.add("invalidated"),t.innerHTML="",Z.innerHTML="",q.disabled=!1;else if(N.tag==="looking")n.innerHTML="",n.append(xo),n.append(" "),n.appendChild(Tt),q.disabled=!0,M.disabled=!1;else if(N.tag==="finished")if(q.disabled=!1,N.solver_output.solver_output.status==="sat"){n.innerHTML="",n.append(To);const re=Yu(N.truth_table,N.solver_output.solver_output.state_assignments);t.innerHTML="",t.appendChild(re),w.appendChild(c.element)}else N.solver_output.solver_output.status==="unsat"?(n.innerHTML="",n.append(Zo),w.innerHTML=""):N.solver_output.solver_output.status==="unknown"?(n.innerHTML="",n.append(Io)):N.solver_output.solver_output.status==="cancelled"?(n.innerHTML="",n.append(Lo)):N.solver_output.solver_output.status==="exception"?(n.innerHTML="",n.appendChild(k("span",{},`Exception! ${N.solver_output.solver_output.message}`))):rt("model_finder_display.state2.watch",N.solver_output.solver_output);else N.tag==="invalidated"?(n.innerHTML="",n.append("No up-to-date model to display"),d.classList.add("invalidated")):N.tag==="exception"?q.disabled=!1:rt("model_finder_display.state.watch")}),{element:X,state:r,start_search_solver:Ct,invalidate:zt}},al=()=>{const e=Wa("constraints"),r=new $a(z_,m=>Ga(m,async h=>xn(h,!0),vo,e.split)),t=Ha(r,yo,e),n=sl(r);n.state.watch((m,h)=>{(h==null?void 0:h.tag)!=="looking"&&m.tag==="looking"?t.set_disabled(!0):(h==null?void 0:h.tag)==="looking"&&m.tag!=="looking"&&t.set_disabled(!1)});const i=k("div",{class:"global-error"});i.style.display="none";const o=m=>{i.innerHTML="",i.appendChild(k("div",{class:"error"},"Unexpected Exception!")),i.appendChild(k("div",{class:"error"},"Email a bug report to ",k("a",{href:"mailto:adjorlolo.k@northeastern.edu"},"Koissi Adjorlolo")," with a description of what you were doing when this error message popped up along with a screenshot of this page.")),i.appendChild(k("div",{class:" error"},"You can still use the app, but things might not work as expected.")),i.appendChild(k("div",{class:" error"},m)),i.style.display="block"};return window.onunhandledrejection=m=>{o(JSON.stringify(m.reason))},window.onerror=(m,h,c,w,s)=>{let Z;typeof m=="string"?Z=m:s instanceof Error?Z=s.message:m instanceof Event&&"message"in m?Z=String(m.message):h&&h.includes("z3")?Z="Failed to load Z3 WebAssembly module. This may be due to iOS Safari limitations with large WebAssembly files. Try using a desktop browser.":Z="A resource failed to load",h&&(Z+=` (at ${h}:${c}:${w})`),o(Z)},k("div",{},k("div",{class:"header"},k("div",{style:"font-weight: bold; font-size: 1.5em;"},"PrSAT 3.0"),k("br",{}),k("div",{},"For more information regarding syntax, usage, etc., see the ",k("a",{href:"https://fitelson.org/PrSAT/",target:"_blank"},"official PrSAT 3.0 webpage"),"."),k("br",{}),k("div",{},k("a",{href:"https://youtu.be/F_WbzKr7qJQ",target:"_blank"},"Here")," is a brief video demo of the software. The text file for the demo can be downloaded ",k("a",{href:"https://fitelson.org/PrSAT/PrSAT_3.0_demo_examples.txt",target:"_blank"},"here"),".")),i,t.element,n.element)};if(!$u())throw alert("No mathML support :("),new Error("No mathML support :(");Bu.appendChild(al());
